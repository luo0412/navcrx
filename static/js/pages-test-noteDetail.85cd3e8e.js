(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-test-noteDetail"],{"007a":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"[data-v-d6548008] .hl-code,[data-v-d6548008] .hl-pre{color:#ccc;background:0 0;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}[data-v-d6548008] .hl-pre{padding:1em;margin:.5em 0;overflow:auto}[data-v-d6548008] .hl-pre{background:#2d2d2d}[data-v-d6548008] .hl-block-comment,[data-v-d6548008] .hl-cdata,[data-v-d6548008] .hl-comment,[data-v-d6548008] .hl-doctype,[data-v-d6548008] .hl-prolog{color:#999}[data-v-d6548008] .hl-punctuation{color:#ccc}[data-v-d6548008] .hl-attr-name,[data-v-d6548008] .hl-deleted,[data-v-d6548008] .hl-namespace,[data-v-d6548008] .hl-tag{color:#e2777a}[data-v-d6548008] .hl-function-name{color:#6196cc}[data-v-d6548008] .hl-boolean,[data-v-d6548008] .hl-function,[data-v-d6548008] .hl-number{color:#f08d49}[data-v-d6548008] .hl-class-name,[data-v-d6548008] .hl-constant,[data-v-d6548008] .hl-property,[data-v-d6548008] .hl-symbol{color:#f8c555}[data-v-d6548008] .hl-atrule,[data-v-d6548008] .hl-builtin,[data-v-d6548008] .hl-important,[data-v-d6548008] .hl-keyword,[data-v-d6548008] .hl-selector{color:#cc99cd}[data-v-d6548008] .hl-attr-value,[data-v-d6548008] .hl-char,[data-v-d6548008] .hl-regex,[data-v-d6548008] .hl-string,[data-v-d6548008] .hl-variable{color:#7ec699}[data-v-d6548008] .hl-entity,[data-v-d6548008] .hl-operator,[data-v-d6548008] .hl-url{color:#67cdcc}[data-v-d6548008] .hl-bold,[data-v-d6548008] .hl-important{font-weight:700}[data-v-d6548008] .hl-italic{font-style:italic}[data-v-d6548008] .hl-entity{cursor:help}[data-v-d6548008] .hl-inserted{color:green}[data-v-d6548008] .md-p{-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em}[data-v-d6548008] .md-table,[data-v-d6548008] .md-blockquote{margin-bottom:16px}[data-v-d6548008] .md-table{box-sizing:border-box;width:100%;overflow:auto;border-spacing:0;border-collapse:collapse}[data-v-d6548008] .md-tr{background-color:#fff;border-top:1px solid #c6cbd1}[data-v-d6548008] .md-table .md-tr:nth-child(2n){background-color:#f6f8fa}[data-v-d6548008] .md-th,[data-v-d6548008] .md-td{padding:6px 13px!important;border:1px solid #dfe2e5}[data-v-d6548008] .md-th{font-weight:600}[data-v-d6548008] .md-blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}[data-v-d6548008] .md-code{padding:.2em .4em;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}[data-v-d6548008] .md-pre .md-code{padding:0;font-size:100%;background:transparent;border:0}[data-v-d6548008] .hl-pre{position:relative}[data-v-d6548008] .hl-code{overflow:auto;display:block}[data-v-d6548008] .hl-language{font-size:12px;font-weight:600;position:absolute;right:8px;text-align:right;top:3px}[data-v-d6548008] .hl-pre{padding-top:1.5em}[data-v-d6548008] .hl-pre{font-size:14px;padding-left:3.8em;counter-reset:linenumber}[data-v-d6548008] .line-numbers-rows{position:absolute;pointer-events:none;top:1.5em;font-size:100%;left:0;width:3em; /* works for line-numbers below 1000 lines */letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[data-v-d6548008] .line-numbers-rows .span{display:block;counter-increment:linenumber}[data-v-d6548008] .line-numbers-rows .span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}\n[data-v-d6548008] ._video{width:300px;height:225px;display:inline-block;background-color:#000}/* a 标签默认效果 */._a[data-v-d6548008]{padding:1.5px 0 1.5px 0;color:#366092;word-break:break-all}/* a 标签点击态效果 */._hover[data-v-d6548008]{text-decoration:underline;opacity:.7}/* 图片默认效果 */._img[data-v-d6548008]{max-width:100%;-webkit-touch-callout:none}/* 内部样式 */._block[data-v-d6548008]{display:block}._b[data-v-d6548008],\r\n._strong[data-v-d6548008]{font-weight:700}._code[data-v-d6548008]{font-family:monospace}._del[data-v-d6548008]{text-decoration:line-through}._em[data-v-d6548008],\r\n._i[data-v-d6548008]{font-style:italic}._h1[data-v-d6548008]{font-size:2em}._h2[data-v-d6548008]{font-size:1.5em}._h3[data-v-d6548008]{font-size:1.17em}._h5[data-v-d6548008]{font-size:.83em}._h6[data-v-d6548008]{font-size:.67em}._h1[data-v-d6548008],\r\n._h2[data-v-d6548008],\r\n._h3[data-v-d6548008],\r\n._h4[data-v-d6548008],\r\n._h5[data-v-d6548008],\r\n._h6[data-v-d6548008]{display:block;font-weight:700}._image[data-v-d6548008]{height:1px}._ins[data-v-d6548008]{text-decoration:underline}._li[data-v-d6548008]{display:list-item}._ol[data-v-d6548008]{list-style-type:decimal}._ol[data-v-d6548008],\r\n._ul[data-v-d6548008]{display:block;padding-left:40px;margin:1em 0}._q[data-v-d6548008]::before{content:'\"'}._q[data-v-d6548008]::after{content:'\"'}._sub[data-v-d6548008]{font-size:smaller;vertical-align:sub}._sup[data-v-d6548008]{font-size:smaller;vertical-align:super}._thead[data-v-d6548008],\r\n._tbody[data-v-d6548008],\r\n._tfoot[data-v-d6548008]{display:table-row-group}._tr[data-v-d6548008]{display:table-row}._td[data-v-d6548008],\r\n._th[data-v-d6548008]{display:table-cell;vertical-align:middle}._th[data-v-d6548008]{font-weight:700;text-align:center}._ul[data-v-d6548008]{list-style-type:disc}._ul ._ul[data-v-d6548008]{margin:0;list-style-type:circle}._ul ._ul ._ul[data-v-d6548008]{list-style-type:square}._abbr[data-v-d6548008],\r\n._b[data-v-d6548008],\r\n._code[data-v-d6548008],\r\n._del[data-v-d6548008],\r\n._em[data-v-d6548008],\r\n._i[data-v-d6548008],\r\n._ins[data-v-d6548008],\r\n._label[data-v-d6548008],\r\n._q[data-v-d6548008],\r\n._span[data-v-d6548008],\r\n._strong[data-v-d6548008],\r\n._sub[data-v-d6548008],\r\n._sup[data-v-d6548008]{display:inline}",""]),e.exports=t},"037e":function(e,t,n){n("a4d3"),n("e01a"),n("d28b"),n("944a"),n("99af"),n("4de4"),n("7db0"),n("4160"),n("a630"),n("caad"),n("c975"),n("baa5"),n("d81d"),n("26e9"),n("fb6a"),n("45fc"),n("a434"),n("c19f"),n("ace4"),n("0c47"),n("23dc"),n("a9e3"),n("b64b"),n("131a"),n("d3b7"),n("acd8"),n("e25e"),n("ac1f"),n("25f0"),n("6062"),n("8a79"),n("2532"),n("3ca3"),n("466d"),n("d80f"),n("38cf"),n("5319"),n("1276"),n("2ca0"),n("498a"),n("1e25"),n("eee7"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("2954"),n("649e"),n("219c"),n("b39a"),n("72f7"),n("159b"),n("ddb0"),n("2b3d"),function(t,n){e.exports=n()}(0,(function(){return function(){var e={763:function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,r,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];void 0===r&&(r=!0);var a=r,s=this.diff_commonPrefix(e,n),l=e.substring(0,s);e=e.substring(s),n=n.substring(s),s=this.diff_commonSuffix(e,n);var c=e.substring(e.length-s);e=e.substring(0,e.length-s),n=n.substring(0,n.length-s);var d=this.diff_compute_(e,n,a,o);return l&&d.unshift(new t.Diff(0,l)),c&&d.push(new t.Diff(0,c)),this.diff_cleanupMerge(d),d},t.prototype.diff_compute_=function(e,r,i,o){var a;if(!e)return[new t.Diff(1,r)];if(!r)return[new t.Diff(n,e)];var s=e.length>r.length?e:r,l=e.length>r.length?r:e,c=s.indexOf(l);if(-1!=c)return a=[new t.Diff(1,s.substring(0,c)),new t.Diff(0,l),new t.Diff(1,s.substring(c+l.length))],e.length>r.length&&(a[0][0]=a[2][0]=n),a;if(1==l.length)return[new t.Diff(n,e),new t.Diff(1,r)];var d=this.diff_halfMatch_(e,r);if(d){var u=d[0],p=d[1],f=d[2],h=d[3],m=d[4],v=this.diff_main(u,f,i,o),g=this.diff_main(p,h,i,o);return v.concat([new t.Diff(0,m)],g)}return i&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,o):this.diff_bisect_(e,r,o)},t.prototype.diff_lineMode_=function(e,r,i){var o=this.diff_linesToChars_(e,r);e=o.chars1,r=o.chars2;var a=o.lineArray,s=this.diff_main(e,r,!1,i);this.diff_charsToLines_(s,a),this.diff_cleanupSemantic(s),s.push(new t.Diff(0,""));for(var l=0,c=0,d=0,u="",p="";l<s.length;){switch(s[l][0]){case 1:d++,p+=s[l][1];break;case n:c++,u+=s[l][1];break;case 0:if(c>=1&&d>=1){s.splice(l-c-d,c+d),l=l-c-d;for(var f=this.diff_main(u,p,!1,i),h=f.length-1;h>=0;h--)s.splice(l,0,f[h]);l+=f.length}d=0,c=0,u="",p=""}l++}return s.pop(),s},t.prototype.diff_bisect_=function(e,r,i){for(var o=e.length,a=r.length,s=Math.ceil((o+a)/2),l=s,c=2*s,d=new Array(c),u=new Array(c),p=0;p<c;p++)d[p]=-1,u[p]=-1;d[l+1]=0,u[l+1]=0;for(var f=o-a,h=f%2!=0,m=0,v=0,g=0,b=0,y=0;y<s&&!((new Date).getTime()>i);y++){for(var w=-y+m;w<=y-v;w+=2){for(var k=l+w,x=(C=w==-y||w!=y&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-w;C<o&&x<a&&e.charAt(C)==r.charAt(x);)C++,x++;if(d[k]=C,C>o)v+=2;else if(x>a)m+=2;else if(h&&(S=l+f-w)>=0&&S<c&&-1!=u[S]&&C>=(_=o-u[S]))return this.diff_bisectSplit_(e,r,C,x,i)}for(var E=-y+g;E<=y-b;E+=2){for(var _,S=l+E,T=(_=E==-y||E!=y&&u[S-1]<u[S+1]?u[S+1]:u[S-1]+1)-E;_<o&&T<a&&e.charAt(o-_-1)==r.charAt(a-T-1);)_++,T++;if(u[S]=_,_>o)b+=2;else if(T>a)g+=2;else if(!h){var C;if((k=l+f-E)>=0&&k<c&&-1!=d[k])if(x=l+(C=d[k])-k,C>=(_=o-_))return this.diff_bisectSplit_(e,r,C,x,i)}}}return[new t.Diff(n,e),new t.Diff(1,r)]},t.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),l=t.substring(r),c=this.diff_main(o,a,!1,i),d=this.diff_main(s,l,!1,i);return c.concat(d)},t.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,a=-1,s=n.length;a<e.length-1;){-1==(a=e.indexOf("\n",i))&&(a=e.length-1);var l=e.substring(i,a+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(s==o&&(l=e.substring(i),a=e.length),t+=String.fromCharCode(s),r[l]=s,n[s++]=l),i=a+1}return t}n[0]="";var o=4e4,a=i(e);return o=65535,{chars1:a,chars2:i(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,a=1;;){var s=e.substring(i-a),l=t.indexOf(s);if(-1==l)return o;a+=l,0!=l&&e.substring(i-a)!=t.substring(0,a)||(o=a,a++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,a,s,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(l,c+1));){var u=i.diff_commonPrefix(e.substring(n),t.substring(c)),p=i.diff_commonSuffix(e.substring(0,n),t.substring(0,c));d.length<p+u&&(d=t.substring(c-p,c)+t.substring(c,c+u),r=e.substring(0,n-p),o=e.substring(n+u),a=t.substring(0,c-p),s=t.substring(c+u))}return 2*d.length>=e.length?[r,o,a,s,d]:null}var a,s,l,c,d,u=o(n,r,Math.ceil(n.length/4)),p=o(n,r,Math.ceil(n.length/2));return u||p?(a=p?u&&u[4].length>p[4].length?u:p:u,e.length>t.length?(s=a[0],l=a[1],c=a[2],d=a[3]):(c=a[0],d=a[1],s=a[2],l=a[3]),[s,l,c,d,a[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var r=!1,i=[],o=0,a=null,s=0,l=0,c=0,d=0,u=0;s<e.length;)0==e[s][0]?(i[o++]=s,l=d,c=u,d=0,u=0,a=e[s][1]):(1==e[s][0]?d+=e[s][1].length:u+=e[s][1].length,a&&a.length<=Math.max(l,c)&&a.length<=Math.max(d,u)&&(e.splice(i[o-1],0,new t.Diff(n,a)),e[i[o-1]+1][0]=1,o--,s=--o>0?i[o-1]:-1,l=0,c=0,d=0,u=0,a=null,r=!0)),s++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]==n&&1==e[s][0]){var p=e[s-1][1],f=e[s][1],h=this.diff_commonOverlap_(p,f),m=this.diff_commonOverlap_(f,p);h>=m?(h>=p.length/2||h>=f.length/2)&&(e.splice(s,0,new t.Diff(0,f.substring(0,h))),e[s-1][1]=p.substring(0,p.length-h),e[s+1][1]=f.substring(h),s++):(m>=p.length/2||m>=f.length/2)&&(e.splice(s,0,new t.Diff(0,p.substring(0,m))),e[s-1][0]=1,e[s-1][1]=f.substring(0,f.length-m),e[s+1][0]=n,e[s+1][1]=p.substring(m),s++),s++}s++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(t.nonAlphaNumericRegex_),a=i.match(t.nonAlphaNumericRegex_),s=o&&r.match(t.whitespaceRegex_),l=a&&i.match(t.whitespaceRegex_),c=s&&r.match(t.linebreakRegex_),d=l&&i.match(t.linebreakRegex_),u=c&&e.match(t.blanklineEndRegex_),p=d&&n.match(t.blanklineStartRegex_);return u||p?5:c||d?4:o&&!s&&l?3:s||l?2:o||a?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],o=e[r][1],a=e[r+1][1],s=this.diff_commonSuffix(i,o);if(s){var l=o.substring(o.length-s);i=i.substring(0,i.length-s),o=l+o.substring(0,o.length-s),a=l+a}for(var c=i,d=o,u=a,p=n(i,o)+n(o,a);o.charAt(0)===a.charAt(0);){i+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);var f=n(i,o)+n(o,a);f>=p&&(p=f,c=i,d=o,u=a)}e[r-1][1]!=c&&(c?e[r-1][1]=c:(e.splice(r-1,1),r--),e[r][1]=d,u?e[r+1][1]=u:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,i=[],o=0,a=null,s=0,l=!1,c=!1,d=!1,u=!1;s<e.length;)0==e[s][0]?(e[s][1].length<this.Diff_EditCost&&(d||u)?(i[o++]=s,l=d,c=u,a=e[s][1]):(o=0,a=null),d=u=!1):(e[s][0]==n?u=!0:d=!0,a&&(l&&c&&d&&u||a.length<this.Diff_EditCost/2&&l+c+d+u==3)&&(e.splice(i[o-1],0,new t.Diff(n,a)),e[i[o-1]+1][0]=1,o--,a=null,l&&c?(d=u=!0,o=0):(s=--o>0?i[o-1]:-1,d=u=!1),r=!0)),s++;r&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var r,i=0,o=0,a=0,s="",l="";i<e.length;)switch(e[i][0]){case 1:a++,l+=e[i][1],i++;break;case n:o++,s+=e[i][1],i++;break;case 0:o+a>1?(0!==o&&0!==a&&(0!==(r=this.diff_commonPrefix(l,s))&&(i-o-a>0&&0==e[i-o-a-1][0]?e[i-o-a-1][1]+=l.substring(0,r):(e.splice(0,0,new t.Diff(0,l.substring(0,r))),i++),l=l.substring(r),s=s.substring(r)),0!==(r=this.diff_commonSuffix(l,s))&&(e[i][1]=l.substring(l.length-r)+e[i][1],l=l.substring(0,l.length-r),s=s.substring(0,s.length-r))),i-=o+a,e.splice(i,o+a),s.length&&(e.splice(i,0,new t.Diff(n,s)),i++),l.length&&(e.splice(i,0,new t.Diff(1,l)),i++),i++):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,a=0,o=0,s="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),c=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),c=!0)),i++;c&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var r,i=0,o=0,a=0,s=0;for(r=0;r<e.length&&(1!==e[r][0]&&(i+=e[r][1].length),e[r][0]!==n&&(o+=e[r][1].length),!(i>t));r++)a=i,s=o;return e.length!=r&&e[r][0]===n?s:s+(t-a)},t.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,o=/>/g,a=/\n/g,s=0;s<e.length;s++){var l=e[s][0],c=e[s][1].replace(r,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(a,"&para;<br>");switch(l){case 1:t[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case n:t[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[s]="<span>"+c+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,o=0;o<e.length;o++){var a=e[o][0],s=e[o][1];switch(a){case 1:r+=s.length;break;case n:i+=s.length;break;case 0:t+=Math.max(r,i),r=0,i=0}}return t+Math.max(r,i)},t.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case n:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,r){for(var i=[],o=0,a=0,s=r.split(/\t/g),l=0;l<s.length;l++){var c=s[l].substring(1);switch(s[l].charAt(0)){case"+":try{i[o++]=new t.Diff(1,decodeURI(c))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var d=parseInt(c,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+c);var u=e.substring(a,a+=d);"="==s[l].charAt(0)?i[o++]=new t.Diff(0,u):i[o++]=new t.Diff(n,u);break;default:if(s[l])throw new Error("Invalid diff operation in diff_fromDelta: "+s[l])}}if(a!=e.length)throw new Error("Delta length ("+a+") does not equal source text length ("+e.length+").");return i},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this;function o(e,r){var o=e/t.length,a=Math.abs(n-r);return i.Match_Distance?o+a/i.Match_Distance:a?1:o}var a=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(a=Math.min(o(0,s),a),-1!=(s=e.lastIndexOf(t,n+t.length))&&(a=Math.min(o(0,s),a)));var l,c,d=1<<t.length-1;s=-1;for(var u,p=t.length+e.length,f=0;f<t.length;f++){for(l=0,c=p;l<c;)o(f,n+c)<=a?l=c:p=c,c=Math.floor((p-l)/2+l);p=c;var h=Math.max(1,n-c+1),m=Math.min(n+c,e.length)+t.length,v=Array(m+2);v[m+1]=(1<<f)-1;for(var g=m;g>=h;g--){var b=r[e.charAt(g-1)];if(v[g]=0===f?(v[g+1]<<1|1)&b:(v[g+1]<<1|1)&b|(u[g+1]|u[g])<<1|1|u[g+1],v[g]&d){var y=o(f,g-1);if(y<=a){if(a=y,!((s=g-1)>n))break;h=Math.max(1,2*n-s)}}}if(o(f+1,n)>a)break;u=v}return s},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var r=n.substring(e.start2,e.start2+e.length1),i=0;n.indexOf(r)!=n.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=n.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=n.substring(e.start2-i,e.start2);o&&e.diffs.unshift(new t.Diff(0,o));var a=n.substring(e.start2+e.length1,e.start2+e.length1+i);a&&e.diffs.push(new t.Diff(0,a)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+a.length,e.length2+=o.length+a.length}},t.prototype.patch_make=function(e,r,i){var o,a;if("string"==typeof e&&"string"==typeof r&&void 0===i)o=e,(a=this.diff_main(o,r,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&"object"==typeof e&&void 0===r&&void 0===i)a=e,o=this.diff_text1(a);else if("string"==typeof e&&r&&"object"==typeof r&&void 0===i)o=e,a=r;else{if("string"!=typeof e||"string"!=typeof r||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");o=e,a=i}if(0===a.length)return[];for(var s=[],l=new t.patch_obj,c=0,d=0,u=0,p=o,f=o,h=0;h<a.length;h++){var m=a[h][0],v=a[h][1];switch(c||0===m||(l.start1=d,l.start2=u),m){case 1:l.diffs[c++]=a[h],l.length2+=v.length,f=f.substring(0,u)+v+f.substring(u);break;case n:l.length1+=v.length,l.diffs[c++]=a[h],f=f.substring(0,u)+f.substring(u+v.length);break;case 0:v.length<=2*this.Patch_Margin&&c&&a.length!=h+1?(l.diffs[c++]=a[h],l.length1+=v.length,l.length2+=v.length):v.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,p),s.push(l),l=new t.patch_obj,c=0,p=f,d=u)}1!==m&&(d+=v.length),m!==n&&(u+=v.length)}return c&&(this.patch_addContext_(l,p),s.push(l)),s},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new t.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=new t.Diff(i.diffs[a][0],i.diffs[a][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,o=[],a=0;a<e.length;a++){var s,l,c=e[a].start2+i,d=this.diff_text1(e[a].diffs),u=-1;if(d.length>this.Match_MaxBits?-1!=(s=this.match_main(t,d.substring(0,this.Match_MaxBits),c))&&(-1==(u=this.match_main(t,d.substring(d.length-this.Match_MaxBits),c+d.length-this.Match_MaxBits))||s>=u)&&(s=-1):s=this.match_main(t,d,c),-1==s)o[a]=!1,i-=e[a].length2-e[a].length1;else if(o[a]=!0,i=s-c,d==(l=-1==u?t.substring(s,s+d.length):t.substring(s,u+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[a].diffs)+t.substring(s+d.length);else{var p=this.diff_main(d,l,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(p)/d.length>this.Patch_DeleteThreshold)o[a]=!1;else{this.diff_cleanupSemanticLossless(p);for(var f,h=0,m=0;m<e[a].diffs.length;m++){var v=e[a].diffs[m];0!==v[0]&&(f=this.diff_xIndex(p,h)),1===v[0]?t=t.substring(0,s+f)+v[1]+t.substring(s+f):v[0]===n&&(t=t.substring(0,s+f)+t.substring(s+this.diff_xIndex(p,h+v[1].length))),v[0]!==n&&(h+=v[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),o]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=n,e[i].start2+=n;var o=e[0],a=o.diffs;if(0==a.length||0!=a[0][0])a.unshift(new t.Diff(0,r)),o.start1-=n,o.start2-=n,o.length1+=n,o.length2+=n;else if(n>a[0][1].length){var s=n-a[0][1].length;a[0][1]=r.substring(a[0][1].length)+a[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}return 0==(a=(o=e[e.length-1]).diffs).length||0!=a[a.length-1][0]?(a.push(new t.Diff(0,r)),o.length1+=n,o.length2+=n):n>a[a.length-1][1].length&&(s=n-a[a.length-1][1].length,a[a.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s),r},t.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=r)){var o=e[i];e.splice(i--,1);for(var a=o.start1,s=o.start2,l="";0!==o.diffs.length;){var c=new t.patch_obj,d=!0;for(c.start1=a-l.length,c.start2=s-l.length,""!==l&&(c.length1=c.length2=l.length,c.diffs.push(new t.Diff(0,l)));0!==o.diffs.length&&c.length1<r-this.Patch_Margin;){var u=o.diffs[0][0],p=o.diffs[0][1];1===u?(c.length2+=p.length,s+=p.length,c.diffs.push(o.diffs.shift()),d=!1):u===n&&1==c.diffs.length&&0==c.diffs[0][0]&&p.length>2*r?(c.length1+=p.length,a+=p.length,d=!1,c.diffs.push(new t.Diff(u,p)),o.diffs.shift()):(p=p.substring(0,r-c.length1-this.Patch_Margin),c.length1+=p.length,a+=p.length,0===u?(c.length2+=p.length,s+=p.length):d=!1,c.diffs.push(new t.Diff(u,p)),p==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(p.length))}l=(l=this.diff_text2(c.diffs)).substring(l.length-this.Patch_Margin);var f=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==f&&(c.length1+=f.length,c.length2+=f.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=f:c.diffs.push(new t.Diff(0,f))),d||e.splice(++i,0,c)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var i=e.split("\n"),o=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<i.length;){var s=i[o].match(a);if(!s)throw new Error("Invalid patch string: "+i[o]);var l=new t.patch_obj;for(r.push(l),l.start1=parseInt(s[1],10),""===s[2]?(l.start1--,l.length1=1):"0"==s[2]?l.length1=0:(l.start1--,l.length1=parseInt(s[2],10)),l.start2=parseInt(s[3],10),""===s[4]?(l.start2--,l.length2=1):"0"==s[4]?l.length2=0:(l.start2--,l.length2=parseInt(s[4],10)),o++;o<i.length;){var c=i[o].charAt(0);try{var d=decodeURI(i[o].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+d)}if("-"==c)l.diffs.push(new t.Diff(n,d));else if("+"==c)l.diffs.push(new t.Diff(1,d));else if(" "==c)l.diffs.push(new t.Diff(0,d));else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+d)}o++}}return r},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case n:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},270:function(e,t,n){"use strict";n.d(t,{default:function(){return I}});var r=n(293),i=n(565),o=n(453),a=n(338),s=n(250),l=n(173),c=n(197),d=function(e){void 0===e&&(e=document);var t=function(e){var t=document.createElement("img");t.src=e.getAttribute("data-src"),t.addEventListener("load",(function(){e.getAttribute("style")||e.getAttribute("class")||e.getAttribute("width")||e.getAttribute("height")||t.naturalHeight>t.naturalWidth&&t.naturalWidth/t.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&t.naturalHeight>window.innerHeight-40&&(e.style.height=window.innerHeight-40+"px"),e.src=t.src})),e.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return e.querySelectorAll("img").forEach((function(e){e.getAttribute("data-src")&&t(e)})),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),e.querySelectorAll("img").forEach((function(e){window.vditorImageIntersectionObserver.observe(e)}))):(window.vditorImageIntersectionObserver=new IntersectionObserver((function(e){e.forEach((function(e){(void 0===e.isIntersecting?0!==e.intersectionRatio:e.isIntersecting)&&e.target.getAttribute("data-src")&&t(e.target)}))})),e.querySelectorAll("img").forEach((function(e){window.vditorImageIntersectionObserver.observe(e)})))},u=n(833),p=n(464),f=n(720),h=n(774),m=n(269),v=n(620),g=n(179),b=n(923),y=n(419),w=n(641),k=n(313),x=n(576),E=n(590),_=function(e,t){if(void 0===t&&(t="zh_CN"),"undefined"!=typeof speechSynthesis&&"undefined"!=typeof SpeechSynthesisUtterance){var n='<svg><use xlink:href="#vditor-icon-play"></use></svg>',r='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(n='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',r='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var i=document.querySelector(".vditor-speech");if(!i){(i=document.createElement("div")).className="vditor-speech",document.body.insertAdjacentElement("beforeend",i);var o=function(){var e,n;return speechSynthesis.getVoices().forEach((function(r){r.lang===t.replace("_","-")&&(e=r),r.default&&(n=r)})),e||(e=n),e};void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=o);var a=o();i.onclick=function(){if("vditor-speech"===i.className){var e=new SpeechSynthesisUtterance(i.getAttribute("data-text"));e.voice=a,e.onend=function(){i.className="vditor-speech",speechSynthesis.cancel(),i.innerHTML=n},speechSynthesis.speak(e),i.className="vditor-speech vditor-speech--current",i.innerHTML=r}else speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),i.innerHTML=r):(speechSynthesis.pause(),i.innerHTML=n));(0,E.Hc)(window.vditorSpeechRange)},document.body.addEventListener("click",(function(){""===getSelection().toString().trim()&&"block"===i.style.display&&(i.className="vditor-speech",speechSynthesis.cancel(),i.style.display="none")}))}e.addEventListener("mouseup",(function(e){var t=getSelection().toString().trim();if(speechSynthesis.cancel(),""!==getSelection().toString().trim()){window.vditorSpeechRange=getSelection().getRangeAt(0).cloneRange();var r=getSelection().getRangeAt(0).getBoundingClientRect();i.innerHTML=n,i.style.display="block",i.style.top=r.top+r.height+document.querySelector("html").scrollTop-20+"px",i.style.left=e.screenX+2+"px",i.setAttribute("data-text",t)}else"block"===i.style.display&&(i.className="vditor-speech",i.style.display="none")}))}},S=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},C=function(e){var t={anchor:0,cdn:g.g.CDN,customEmoji:{},emojiPath:(e&&e.emojiPath||g.g.CDN)+"/dist/images/emoji",hljs:g.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:g.g.MARKDOWN_OPTIONS,math:g.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},theme:g.g.THEME_OPTIONS};return(0,k.T)(t,e)},L=function(e,t){var n=C(t);return(0,y.G)(n.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then((function(){var r=(0,x.X)({autoSpace:n.markdown.autoSpace,codeBlockPreview:n.markdown.codeBlockPreview,emojiSite:n.emojiPath,emojis:n.customEmoji,fixTermTypo:n.markdown.fixTermTypo,footnotes:n.markdown.footnotes,headingAnchor:0!==n.anchor,inlineMathDigit:n.math.inlineDigit,lazyLoadImage:n.lazyLoadImage,linkBase:n.markdown.linkBase,linkPrefix:n.markdown.linkPrefix,listStyle:n.markdown.listStyle,mark:n.markdown.mark,mathBlockPreview:n.markdown.mathBlockPreview,paragraphBeginningSpace:n.markdown.paragraphBeginningSpace,sanitize:n.markdown.sanitize,toc:n.markdown.toc});return(null==t?void 0:t.renderers)&&r.SetJSRenderers({renderers:{Md2HTML:t.renderers}}),r.SetHeadingID(!0),r.Md2HTML(e)}))},A=function(e,t,n){return S(void 0,void 0,void 0,(function(){var i,m,g;return T(this,(function(k){switch(k.label){case 0:return i=C(n),[4,L(t,i)];case 1:if(m=k.sent(),i.transform&&(m=i.transform(m)),e.innerHTML=m,e.classList.add("vditor-reset"),i.i18n)return[3,5];if(["en_US","ja_JP","ko_KR","ru_RU","zh_CN","zh_TW"].includes(i.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return g="vditorI18nScript"+i.lang,document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach((function(e){e.id!==g&&document.head.removeChild(e)})),[4,(0,y.G)(i.cdn+"/dist/js/i18n/"+i.lang+".js",g)];case 3:k.sent(),k.label=4;case 4:return[3,6];case 5:window.VditorI18n=i.i18n,k.label=6;case 6:return i.icon?[4,(0,y.G)(i.cdn+"/dist/js/icons/"+i.icon+".js","vditorIconScript")]:[3,8];case 7:k.sent(),k.label=8;case 8:return(0,b.Z)(i.theme.current,i.theme.path),1===i.anchor&&e.classList.add("vditor-reset--anchor"),(0,a.O)(e),(0,c.s)(i.hljs,e,i.cdn),(0,u.H)(e,{cdn:i.cdn,math:i.math}),(0,f.i)(e,i.cdn,i.mode),(0,s.P)(e,i.cdn),(0,l.v)(e,i.cdn),(0,o.p)(e,i.cdn,i.mode),(0,h.P)(e,i.cdn,i.mode),(0,v.B)(e,i.cdn),(0,r.Q)(e,i.cdn),(0,p.Y)(e),i.speech.enable&&_(e),0!==i.anchor&&(x=i.anchor,document.querySelectorAll(".vditor-anchor").forEach((function(e){1===x&&e.classList.add("vditor-anchor--left"),e.onclick=function(){var t=e.getAttribute("href").substr(1),n=document.getElementById("vditorAnchor-"+t).offsetTop;document.querySelector("html").scrollTop=n}})),window.onhashchange=function(){var e=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));e&&(document.querySelector("html").scrollTop=e.offsetTop)}),i.after&&i.after(),i.lazyLoadImage&&d(e),e.addEventListener("click",(function(t){var n=(0,w.lG)(t.target,"SPAN");if(n&&(0,w.fb)(n,"vditor-toc")){var r=e.querySelector("#"+n.getAttribute("data-target-id"));r&&window.scrollTo(window.scrollX,r.offsetTop)}})),[2]}var x}))}))},M=n(879),N=n(18),I=function(){function e(){}return e.adapterRender=i,e.previewImage=M.E,e.codeRender=a.O,e.graphvizRender=l.v,e.highlightRender=c.s,e.mathRender=u.H,e.mermaidRender=f.i,e.flowchartRender=s.P,e.chartRender=o.p,e.abcRender=r.Q,e.mindmapRender=h.P,e.plantumlRender=v.B,e.outlineRender=m.k,e.mediaRender=p.Y,e.speechRender=_,e.lazyLoadImageRender=d,e.md2html=L,e.preview=A,e.setCodeTheme=N.Y,e.setContentTheme=b.Z,e}()},179:function(e,t,n){"use strict";n.d(t,{H:function(){return r},g:function(){return i}});var r="3.8.17",i=function(){function e(){}return e.ZWSP="​",e.DROP_EDITOR="application/editor",e.MOBILE_WIDTH=520,e.CLASS_MENU_DISABLED="vditor-menu--disabled",e.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],e.CODE_THEME=["abap","algol","algol_nu","arduino","autumn","borland","bw","colorful","dracula","emacs","friendly","fruity","github","igor","lovelace","manni","monokai","monokailight","murphy","native","paraiso-dark","paraiso-light","pastie","perldoc","pygments","rainbow_dash","rrt","solarized-dark","solarized-dark256","solarized-light","swapoff","tango","trac","vim","vs","xcode","ant-design"],e.CODE_LANGUAGES=["mermaid","echarts","mindmap","plantuml","abc","graphviz","flowchart","apache","js","ts","html","properties","apache","bash","c","csharp","cpp","css","coffeescript","diff","go","xml","http","json","java","javascript","kotlin","less","lua","makefile","markdown","nginx","objectivec","php","php-template","perl","plaintext","python","python-repl","r","ruby","rust","scss","sql","shell","swift","ini","typescript","vbnet","yaml","ada","clojure","dart","erb","fortran","gradle","haskell","julia","julia-repl","lisp","matlab","pgsql","powershell","sql_more","stata","cmake","mathematica","solidity","yul"],e.CDN="https://unpkg.com/vditor@3.8.17",e.MARKDOWN_OPTIONS={autoSpace:!1,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},e.HLJS_OPTIONS={enable:!0,lineNumber:!1,style:"github"},e.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},e.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:e.CDN+"/dist/css/content-theme"},e}()},293:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(179),i=n(419),o=n(565),a=function(e,t){void 0===e&&(e=document),void 0===t&&(t=r.g.CDN);var n=o.abcRenderAdapter.getElements(e);n.length>0&&(0,i.G)(t+"/dist/js/abcjs/abcjs_basic.min.js","vditorAbcjsScript").then((function(){n.forEach((function(e){e.parentElement.classList.contains("vditor-wysiwyg__pre")||e.parentElement.classList.contains("vditor-ir__marker--pre")||"true"!==e.getAttribute("data-processed")&&(ABCJS.renderAbc(e,o.abcRenderAdapter.getCode(e).trim()),e.style.overflowX="auto",e.setAttribute("data-processed","true"))}))}))}},565:function(e,t,n){"use strict";n.r(t),n.d(t,{abcRenderAdapter:function(){return s},chartRenderAdapter:function(){return a},flowchartRenderAdapter:function(){return c},graphvizRenderAdapter:function(){return l},mathRenderAdapter:function(){return r},mermaidRenderAdapter:function(){return i},mindmapRenderAdapter:function(){return o},plantumlRenderAdapter:function(){return d}});var r={getCode:function(e){return e.textContent},getElements:function(e){return e.querySelectorAll(".language-math")}},i={getCode:function(e){return e.textContent},getElements:function(e){return e.querySelectorAll(".language-mermaid")}},o={getCode:function(e){return e.getAttribute("data-code")},getElements:function(e){return e.querySelectorAll(".language-mindmap")}},a={getCode:function(e){return e.innerText},getElements:function(e){return e.querySelectorAll(".language-echarts")}},s={getCode:function(e){return e.textContent},getElements:function(e){return e.querySelectorAll(".language-abc")}},l={getCode:function(e){return e.textContent},getElements:function(e){return e.querySelectorAll(".language-graphviz")}},c={getCode:function(e){return e.textContent},getElements:function(e){return e.querySelectorAll(".language-flowchart")}},d={getCode:function(e){return e.textContent},getElements:function(e){return e.querySelectorAll(".language-plantuml")}}},453:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(179),i=n(419),o=n(565),a=function(e,t,n){void 0===e&&(e=document),void 0===t&&(t=r.g.CDN);var a=o.chartRenderAdapter.getElements(e);a.length>0&&(0,i.G)(t+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then((function(){a.forEach((function(e){if(!e.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e.parentElement.classList.contains("vditor-ir__marker--pre")){var t=o.chartRenderAdapter.getCode(e).trim();if(t)try{if("true"===e.getAttribute("data-processed"))return;var r=JSON.parse(t);echarts.init(e,"dark"===n?"dark":void 0).setOption(r),e.setAttribute("data-processed","true")}catch(t){e.className="vditor-reset--error",e.innerHTML="echarts render error: <br>"+t}}}))}))}},338:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(444),i=function(e){e.querySelectorAll("pre > code").forEach((function(t,n){var i,o,a;if(!t.parentElement.classList.contains("vditor-wysiwyg__pre")&&!t.parentElement.classList.contains("vditor-ir__marker--pre")&&!(t.classList.contains("language-mermaid")||t.classList.contains("language-flowchart")||t.classList.contains("language-echarts")||t.classList.contains("language-mindmap")||t.classList.contains("language-plantuml")||t.classList.contains("language-abc")||t.classList.contains("language-graphviz")||t.classList.contains("language-math")||t.style.maxHeight.indexOf("px")>-1||e.classList.contains("vditor-preview")&&n>5)){var s=t.innerText;if(t.classList.contains("highlight-chroma")){var l=document.createElement("code");l.innerHTML=t.innerHTML,l.querySelectorAll(".highlight-ln").forEach((function(e){e.remove()})),s=l.innerText}var c='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(c='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var d=document.createElement("div");d.className="vditor-copy",d.innerHTML='<span aria-label="'+((null===(i=window.VditorI18n)||void 0===i?void 0:i.copy)||"复制")+"\"\nonmouseover=\"this.setAttribute('aria-label', '"+((null===(o=window.VditorI18n)||void 0===o?void 0:o.copy)||"复制")+"')\"\nclass=\"vditor-tooltipped vditor-tooltipped__w\"\nonclick=\"this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '"+((null===(a=window.VditorI18n)||void 0===a?void 0:a.copy)||"已复制")+"')\">"+c+"</span>";var u=document.createElement("textarea");u.value=(0,r.X)(s),d.insertAdjacentElement("afterbegin",u),t.before(d),t.style.maxHeight=window.outerHeight-40+"px"}}))}},250:function(e,t,n){"use strict";n.d(t,{P:function(){return a}});var r=n(179),i=n(419),o=n(565),a=function(e,t){void 0===t&&(t=r.g.CDN);var n=o.flowchartRenderAdapter.getElements(e);0!==n.length&&(0,i.G)(t+"/dist/js/flowchart.js/flowchart.min.js","vditorFlowchartScript").then((function(){n.forEach((function(e){if("true"!==e.getAttribute("data-processed")){var t=flowchart.parse(o.flowchartRenderAdapter.getCode(e));e.innerHTML="",t.drawSVG(e),e.setAttribute("data-processed","true")}}))}))}},173:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(179),i=n(419),o=n(565),a=function(e,t){void 0===t&&(t=r.g.CDN);var n=o.graphvizRenderAdapter.getElements(e);0!==n.length&&(0,i.G)(t+"/dist/js/graphviz/viz.js","vditorGraphVizScript").then((function(){n.forEach((function(e){var t=o.graphvizRenderAdapter.getCode(e);if(!e.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e.parentElement.classList.contains("vditor-ir__marker--pre")&&"true"!==e.getAttribute("data-processed")&&""!==t.trim()){try{var n=new Blob(["importScripts('"+document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js")+"');"],{type:"application/javascript"}),r=(window.URL||window.webkitURL).createObjectURL(n),i=new Worker(r);new Viz({worker:i}).renderSVGElement(t).then((function(t){e.innerHTML=t.outerHTML})).catch((function(t){e.innerHTML="graphviz render error: <br>"+t,e.className="vditor-reset--error"}))}catch(e){console.error("graphviz error",e)}e.setAttribute("data-processed","true")}}))}))}},197:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var r=n(179),i=n(419),o=n(97),a=function(e,t,n){void 0===t&&(t=document),void 0===n&&(n=r.g.CDN);var a=e.style;r.g.CODE_THEME.includes(a)||(a="github");var s=document.getElementById("vditorHljsStyle"),l=n+"/dist/js/highlight.js/styles/"+a+".css";s&&s.href!==l&&s.remove(),(0,o.c)(n+"/dist/js/highlight.js/styles/"+a+".css","vditorHljsStyle"),!1!==e.enable&&0!==t.querySelectorAll("pre > code").length&&(0,i.G)(n+"/dist/js/highlight.js/highlight.pack.js","vditorHljsScript").then((function(){(0,i.G)(n+"/dist/js/highlight.js/solidity.min.js","vditorHljsSolidityScript").then((function(){(0,i.G)(n+"/dist/js/highlight.js/yul.min.js","vditorHljsYulScript").then((function(){t.querySelectorAll("pre > code").forEach((function(t){if(!t.parentElement.classList.contains("vditor-ir__marker--pre")&&!t.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(t.classList.contains("language-mermaid")||t.classList.contains("language-flowchart")||t.classList.contains("language-echarts")||t.classList.contains("language-mindmap")||t.classList.contains("language-plantuml")||t.classList.contains("language-abc")||t.classList.contains("language-graphviz")||t.classList.contains("language-math"))&&(hljs.highlightElement(t),e.lineNumber)){t.classList.add("vditor-linenumber");var n=t.querySelector(".vditor-linenumber__temp");n||((n=document.createElement("div")).className="vditor-linenumber__temp",t.insertAdjacentElement("beforeend",n));var r=getComputedStyle(t).whiteSpace,i=!1;"pre-wrap"!==r&&"pre-line"!==r||(i=!0);var o="",a=t.textContent.split(/\r\n|\r|\n/g);a.pop(),a.map((function(e){var t="";i&&(n.textContent=e||"\n",t=' style="height:'+n.getBoundingClientRect().height+'px"'),o+="<span"+t+"></span>"})),n.style.display="none",o='<span class="vditor-linenumber__rows">'+o+"</span>",t.insertAdjacentHTML("beforeend",o)}}))}))}))}))}},833:function(e,t,n){"use strict";n.d(t,{H:function(){return l}});var r=n(179),i=n(419),o=n(97),a=n(444),s=n(565),l=function(e,t){var n=s.mathRenderAdapter.getElements(e);if(0!==n.length){var l={cdn:r.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(t&&t.math&&(t.math=Object.assign({},l.math,t.math)),"KaTeX"===(t=Object.assign({},l,t)).math.engine)(0,o.c)(t.cdn+"/dist/js/katex/katex.min.css","vditorKatexStyle"),(0,i.G)(t.cdn+"/dist/js/katex/katex.min.js","vditorKatexScript").then((function(){(0,i.G)(t.cdn+"/dist/js/katex/mhchem.min.js","vditorKatexChemScript").then((function(){n.forEach((function(e){if(!e.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e.parentElement.classList.contains("vditor-ir__marker--pre")&&!e.getAttribute("data-math")){var t=(0,a.X)(s.mathRenderAdapter.getCode(e));e.setAttribute("data-math",t);try{e.innerHTML=katex.renderToString(t,{displayMode:"DIV"===e.tagName,output:"html"})}catch(t){e.innerHTML=t.message,e.className="language-math vditor-reset--error"}e.addEventListener("copy",(function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.closest(".language-math");e.clipboardData.setData("text/html",t.innerHTML),e.clipboardData.setData("text/plain",t.getAttribute("data-math"))}))}}))}))}));else if("MathJax"===t.math.engine){window.MathJax||(window.MathJax={loader:{paths:{mathjax:t.cdn+"/dist/js/mathjax"}},startup:{typeset:!1},tex:{macros:t.math.macros}}),(0,i.J)(t.cdn+"/dist/js/mathjax/tex-svg-full.js","protyleMathJaxScript");var c=function(e,t){var n=(0,a.X)(e.textContent).trim(),r=window.MathJax.getMetricsFor(e);r.display="DIV"===e.tagName,window.MathJax.tex2svgPromise(n,r).then((function(r){e.innerHTML="",e.setAttribute("data-math",n),e.append(r),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var i=r.querySelector('[data-mml-node="merror"]');i&&""!==i.textContent.trim()&&(e.innerHTML=i.textContent.trim(),e.className="vditor-reset--error"),t&&t()}))};window.MathJax.startup.promise.then((function(){for(var e=[],t=function(t){var r=n[t];r.parentElement.classList.contains("vditor-wysiwyg__pre")||r.parentElement.classList.contains("vditor-ir__marker--pre")||r.getAttribute("data-math")||!(0,a.X)(r.textContent).trim()||e.push((function(e){t===n.length-1?c(r):c(r,e)}))},r=0;r<n.length;r++)t(r);!function(e){if(0!==e.length){var t=0,n=e[e.length-1],r=function r(){var i=e[t++];i===n?i():i(r)};r()}}(e)}))}}}},464:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var r=function(e){e&&e.querySelectorAll("a").forEach((function(e){var t=e.getAttribute("href");t&&(t.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?function(e,t){e.insertAdjacentHTML("afterend",'<video controls="controls" src="'+t+'"></video>'),e.remove()}(e,t):t.match(/^.+.(mp3|wav|flac)$/)?function(e,t){e.insertAdjacentHTML("afterend",'<audio controls="controls" src="'+t+'"></audio>'),e.remove()}(e,t):function(e,t){var n=t.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),r=t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),i=t.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),o=t.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),a=t.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),s=t.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),l=t.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),c=t.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);n&&11===n[1].length?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'+n[1]+(n[2]?"?start="+n[2]:"")+'"></iframe>'),e.remove()):r&&r[1]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'+r[1]+'"></iframe>'),e.remove()):i&&i[1]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='+i[1]+'"></iframe>'),e.remove()):o&&o[1]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="//coub.com/embed/'+o[1]+'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>'),e.remove()):a&&a[0]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="https://www.facebook.com/plugins/video.php?href='+encodeURIComponent(a[0])+'"></iframe>'),e.remove()):s&&s[2]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="https://www.dailymotion.com/embed/video/'+s[2]+'"></iframe>'),e.remove()):l&&l[1]?(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="//player.bilibili.com/player.html?bvid='+l[1]+'"></iframe>'),e.remove()):c&&c[1]&&(e.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'+c[1]+'"></iframe>'),e.remove())}(e,t))}))}},720:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(179),i=n(419),o=n(565),a=function(e,t,n){void 0===t&&(t=r.g.CDN);var a=o.mermaidRenderAdapter.getElements(e);0!==a.length&&(0,i.G)(t+"/dist/js/mermaid/mermaid.min.js","vditorMermaidScript").then((function(){var e={altFontFamily:"sans-serif",flowchart:{htmlLabels:!0,useMaxWidth:!0},fontFamily:"sans-serif",gantt:{leftPadding:75,rightPadding:20},securityLevel:"loose",sequence:{boxMargin:8,diagramMarginX:8,diagramMarginY:8,useMaxWidth:!0},startOnLoad:!1};"dark"===n&&(e.theme="dark",e.themeVariables={activationBkgColor:"hsl(180, 1.5873015873%, 28.3529411765%)",activationBorderColor:"#81B1DB",activeTaskBkgColor:"#81B1DB",activeTaskBorderColor:"#ffffff",actorBkg:"#1f2020",actorBorder:"#81B1DB",actorLineColor:"lightgrey",actorTextColor:"lightgrey",altBackground:"hsl(0, 0%, 40%)",altSectionBkgColor:"#333",arrowheadColor:"lightgrey",background:"#333",border1:"#81B1DB",border2:"rgba(255, 255, 255, 0.25)",classText:"#e0dfdf",clusterBkg:"hsl(180, 1.5873015873%, 28.3529411765%)",clusterBorder:"rgba(255, 255, 255, 0.25)",critBkgColor:"#E83737",critBorderColor:"#E83737",darkTextColor:"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)",defaultLinkColor:"lightgrey",doneTaskBkgColor:"lightgrey",doneTaskBorderColor:"grey",edgeLabelBackground:"hsl(0, 0%, 34.4117647059%)",errorBkgColor:"#a44141",errorTextColor:"#ddd",fillType0:"#1f2020",fillType1:"hsl(180, 1.5873015873%, 28.3529411765%)",fillType2:"hsl(244, 1.5873015873%, 12.3529411765%)",fillType3:"hsl(244, 1.5873015873%, 28.3529411765%)",fillType4:"hsl(116, 1.5873015873%, 12.3529411765%)",fillType5:"hsl(116, 1.5873015873%, 28.3529411765%)",fillType6:"hsl(308, 1.5873015873%, 12.3529411765%)",fillType7:"hsl(308, 1.5873015873%, 28.3529411765%)",fontFamily:'"trebuchet ms", verdana, arial',fontSize:"16px",gridColor:"lightgrey",labelBackground:"#181818",labelBoxBkgColor:"#1f2020",labelBoxBorderColor:"#81B1DB",labelColor:"#ccc",labelTextColor:"lightgrey",lineColor:"lightgrey",loopTextColor:"lightgrey",mainBkg:"#1f2020",mainContrastColor:"lightgrey",nodeBkg:"#1f2020",nodeBorder:"#81B1DB",noteBkgColor:"#fff5ad",noteBorderColor:"rgba(255, 255, 255, 0.25)",noteTextColor:"#1f2020",primaryBorderColor:"hsl(180, 0%, 2.3529411765%)",primaryColor:"#1f2020",primaryTextColor:"#e0dfdf",secondBkg:"hsl(180, 1.5873015873%, 28.3529411765%)",secondaryBorderColor:"hsl(180, 0%, 18.3529411765%)",secondaryColor:"hsl(180, 1.5873015873%, 28.3529411765%)",secondaryTextColor:"rgb(183.8476190475, 181.5523809523, 181.5523809523)",sectionBkgColor:"hsl(52.9411764706, 28.813559322%, 58.431372549%)",sectionBkgColor2:"#EAE8D9",sequenceNumberColor:"black",signalColor:"lightgrey",signalTextColor:"lightgrey",taskBkgColor:"hsl(180, 1.5873015873%, 35.3529411765%)",taskBorderColor:"#ffffff",taskTextClickableColor:"#003163",taskTextColor:"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)",taskTextDarkColor:"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)",taskTextLightColor:"lightgrey",taskTextOutsideColor:"lightgrey",tertiaryBorderColor:"hsl(20, 0%, 2.3529411765%)",tertiaryColor:"hsl(20, 1.5873015873%, 12.3529411765%)",tertiaryTextColor:"rgb(222.9999999999, 223.6666666666, 223.9999999999)",textColor:"#ccc",titleColor:"#F9FFFE",todayLineColor:"#DB5757"}),mermaid.initialize(e),a.forEach((function(e){var t=o.mermaidRenderAdapter.getCode(e);"true"!==e.getAttribute("data-processed")&&""!==t.trim()&&(mermaid.init(void 0,e),e.setAttribute("data-processed","true"))}))}))}},774:function(e,t,n){"use strict";n.d(t,{P:function(){return a}});var r=n(179),i=n(419),o=n(565),a=function(e,t,n){void 0===e&&(e=document),void 0===t&&(t=r.g.CDN);var a=o.mindmapRenderAdapter.getElements(e);a.length>0&&(0,i.G)(t+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then((function(){a.forEach((function(e){if(!e.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e.parentElement.classList.contains("vditor-ir__marker--pre")){var t=o.mindmapRenderAdapter.getCode(e);if(t)try{if("true"===e.getAttribute("data-processed"))return;echarts.init(e,"dark"===n?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(t))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(e,t){var n;return(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.children)?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),e.setAttribute("data-processed","true")}catch(t){e.className="vditor-reset--error",e.innerHTML="mindmap render error: <br>"+t}}}))}))}},269:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(14),i=n(833),o=function(e,t,n){var o="",a=[];if(Array.from(e.children).forEach((function(e,t){if((0,r.W)(e)){if(n){var i=e.id.lastIndexOf("_");e.id=e.id.substring(0,-1===i?void 0:i)+"_"+t}a.push(e.id),o+=e.outerHTML.replace("<wbr>","")}})),""===o)return t.innerHTML="","";var s=document.createElement("div");if(n)n.lute.SetToC(!0),"wysiwyg"!==n.currentMode||n.preview.element.contains(e)?"ir"!==n.currentMode||n.preview.element.contains(e)?s.innerHTML=n.lute.HTML2VditorDOM("<p>[ToC]</p>"+o):s.innerHTML=n.lute.SpinVditorIRDOM("<p>[ToC]</p>"+o):s.innerHTML=n.lute.SpinVditorDOM("<p>[ToC]</p>"+o),n.lute.SetToC(n.options.preview.markdown.toc);else{t.classList.add("vditor-outline");var l=Lute.New();l.SetToC(!0),s.innerHTML=l.HTML2VditorDOM("<p>[ToC]</p>"+o)}var c=s.firstElementChild.querySelectorAll("li > span[data-target-id]");return c.forEach((function(e,t){if(e.nextElementSibling&&"UL"===e.nextElementSibling.tagName){var n="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(n='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),e.innerHTML=n+"<span>"+e.innerHTML+"</span>"}else e.innerHTML="<svg></svg><span>"+e.innerHTML+"</span>";e.setAttribute("data-target-id",a[t])})),o=s.firstElementChild.innerHTML,0===c.length?(t.innerHTML="",o):(t.innerHTML=o,n&&(0,i.H)(t,{cdn:n.options.cdn,math:n.options.preview.math}),t.firstElementChild.addEventListener("click",(function(r){for(var i=r.target;i&&!i.isEqualNode(t);){if(i.classList.contains("vditor-outline__action")){i.classList.contains("vditor-outline__action--close")?(i.classList.remove("vditor-outline__action--close"),i.parentElement.nextElementSibling.setAttribute("style","display:block")):(i.classList.add("vditor-outline__action--close"),i.parentElement.nextElementSibling.setAttribute("style","display:none")),r.preventDefault(),r.stopPropagation();break}if(i.getAttribute("data-target-id")){r.preventDefault(),r.stopPropagation();var o=document.getElementById(i.getAttribute("data-target-id"));if(!o)return;if(n)if("auto"===n.options.height){var a=o.offsetTop+n.element.offsetTop;n.options.toolbarConfig.pin||(a+=n.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,a)}else n.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,n.element.offsetTop),n.preview.element.contains(e)?e.parentElement.scrollTop=o.offsetTop:e.scrollTop=o.offsetTop;else window.scrollTo(window.scrollX,o.offsetTop);break}i=i.parentElement}})),o)}},620:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(179),i=n(419),o=n(565),a=function(e,t){void 0===e&&(e=document),void 0===t&&(t=r.g.CDN);var n=o.plantumlRenderAdapter.getElements(e);0!==n.length&&(0,i.G)(t+"/dist/js/plantuml/plantuml-encoder.min.js","vditorPlantumlScript").then((function(){n.forEach((function(e){if(!e.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e.parentElement.classList.contains("vditor-ir__marker--pre")){var t=o.plantumlRenderAdapter.getCode(e).trim();if(t)try{e.innerHTML='<img src="http://www.plantuml.com/plantuml/svg/~1'+plantumlEncoder.encode(t)+'">'}catch(t){e.className="vditor-reset--error",e.innerHTML="plantuml render error: <br>"+t}}}))}))}},576:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r=function(e){var t=Lute.New();return t.PutEmojis(e.emojis),t.SetEmojiSite(e.emojiSite),t.SetHeadingAnchor(e.headingAnchor),t.SetInlineMathAllowDigitAfterOpenMarker(e.inlineMathDigit),t.SetAutoSpace(e.autoSpace),t.SetToC(e.toc),t.SetFootnotes(e.footnotes),t.SetFixTermTypo(e.fixTermTypo),t.SetVditorCodeBlockPreview(e.codeBlockPreview),t.SetVditorMathBlockPreview(e.mathBlockPreview),t.SetSanitize(e.sanitize),t.SetChineseParagraphBeginningSpace(e.paragraphBeginningSpace),t.SetRenderListStyle(e.listStyle),t.SetLinkBase(e.linkBase),t.SetLinkPrefix(e.linkPrefix),t.SetMark(e.mark),e.lazyLoadImage&&t.SetImageLazyLoading(e.lazyLoadImage),t}},879:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var r=function(e,t,n){void 0===t&&(t="zh_CN"),void 0===n&&(n="classic");var r=e.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'+("dark"===n?" vditor--dark":"")+'">\n    <div class="vditor-img__bar">\n      <span class="vditor-img__btn" data-deg="0">\n        <svg><use xlink:href="#vditor-icon-redo"></use></svg>\n        '+window.VditorI18n.spin+"\n      </span>\n      <span class=\"vditor-img__btn\"  onclick=\"this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''\">\n        X &nbsp;"+window.VditorI18n.close+'\n      </span>\n    </div>\n    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = \'\';document.body.style.overflow = \'\'">\n      <img style="width: '+e.width+"px;height:"+e.height+"px;transform: translate3d("+r.left+"px, "+(r.top-36)+'px, 0)" src="'+e.getAttribute("src")+'">\n    </div>\n</div>'),document.body.style.overflow="hidden";var i=document.querySelector(".vditor-img img"),o="translate3d("+Math.max(0,window.innerWidth-e.naturalWidth)/2+"px, "+Math.max(0,window.innerHeight-36-e.naturalHeight)/2+"px, 0)";setTimeout((function(){i.setAttribute("style","transition: transform .3s ease-in-out;transform: "+o),setTimeout((function(){i.parentElement.scrollTo((i.parentElement.scrollWidth-i.parentElement.clientWidth)/2,(i.parentElement.scrollHeight-i.parentElement.clientHeight)/2)}),400)}));var a=document.querySelector(".vditor-img__btn");a.addEventListener("click",(function(){var t=parseInt(a.getAttribute("data-deg"),10)+90;t/90%2==1&&e.naturalWidth>i.parentElement.clientHeight?i.style.transform="translate3d("+Math.max(0,window.innerWidth-e.naturalWidth)/2+"px, "+(e.naturalWidth/2-e.naturalHeight/2)+"px, 0) rotateZ("+t+"deg)":i.style.transform=o+" rotateZ("+t+"deg)",a.setAttribute("data-deg",t.toString()),setTimeout((function(){i.parentElement.scrollTo((i.parentElement.scrollWidth-i.parentElement.clientWidth)/2,(i.parentElement.scrollHeight-i.parentElement.clientHeight)/2)}),400)}))}},18:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var r=n(179),i=n(97),o=function(e,t){void 0===t&&(t=r.g.CDN),r.g.CODE_THEME.includes(e)||(e="github");var n=document.getElementById("vditorHljsStyle"),o=t+"/dist/js/highlight.js/styles/"+e+".css";n?n.href!==o&&(n.remove(),(0,i.c)(o,"vditorHljsStyle")):(0,i.c)(o,"vditorHljsStyle")}},923:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(97),i=function(e,t){if(e&&t){var n=document.getElementById("vditorContentTheme"),i=t+"/"+e+".css";n?n.getAttribute("href")!==i&&(n.remove(),(0,r.c)(i,"vditorContentTheme")):(0,r.c)(i,"vditorContentTheme")}}},419:function(e,t,n){"use strict";n.d(t,{G:function(){return i},J:function(){return r}});var r=function(e,t){if(document.getElementById(t))return!1;var n=new XMLHttpRequest;n.open("GET",e,!1),n.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),n.send("");var r=document.createElement("script");r.type="text/javascript",r.text=n.responseText,r.id=t,document.head.appendChild(r)},i=function(e,t){return new Promise((function(n,r){if(document.getElementById(t))return n(),!1;var i=document.createElement("script");i.src=e,i.async=!0,document.head.appendChild(i),i.onload=function(){if(document.getElementById(t))return i.remove(),n(),!1;i.id=t,n()}}))}},97:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r=function(e,t){if(!document.getElementById(t)){var n=document.createElement("link");n.id=t,n.rel="stylesheet",n.type="text/css",n.href=e,document.getElementsByTagName("head")[0].appendChild(n)}}},444:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r=function(e){return e.replace(/\u00a0/g," ")}},263:function(e,t,n){"use strict";n.d(t,{G6:function(){return r},Le:function(){return a},i7:function(){return c},ns:function(){return l},pK:function(){return o},vU:function(){return i},yl:function(){return s}});var r=function(){return navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")},i=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},o=function(){try{return"undefined"!=typeof localStorage}catch(e){return!1}},a=function(){return navigator.userAgent.indexOf("iPhone")>-1?"touchstart":"click"},s=function(e){return navigator.platform.toUpperCase().indexOf("MAC")>=0?!(!e.metaKey||e.ctrlKey):!(e.metaKey||!e.ctrlKey)},l=function(e){return/Mac/.test(navigator.platform)||"iPhone"===navigator.platform?e.indexOf("⇧")>-1&&i()&&(e=e.replace(";",":").replace("=","+").replace("-","_")):(e=(e=e.startsWith("⌘")?e.replace("⌘","⌘+"):e.startsWith("⌥")&&"⌘"!==e.substr(1,1)?e.replace("⌥","⌥+"):e.replace("⇧⌘","⌘+⇧+").replace("⌥⌘","⌥+⌘+")).replace("⌘","Ctrl").replace("⇧","Shift").replace("⌥","Alt")).indexOf("Shift")>-1&&(e=e.replace(";",":").replace("=","+").replace("-","_")),e},c=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}},641:function(e,t,n){"use strict";n.d(t,{DX:function(){return u},E2:function(){return o},F9:function(){return l},JQ:function(){return i},O9:function(){return a},a1:function(){return s},fb:function(){return d},lG:function(){return c}});var r=n(14),i=function(e,t){for(var n=d(e,t),r=!1,i=!1;n&&!n.classList.contains("vditor-reset")&&!i;)(r=d(n.parentElement,t))?n=r:i=!0;return n||!1},o=function(e,t){for(var n=(0,r.S)(e,t),i=!1,o=!1;n&&!n.classList.contains("vditor-reset")&&!o;)(i=(0,r.S)(n.parentElement,t))?n=i:o=!0;return n||!1},a=function(e){var t=o(e,"UL"),n=o(e,"OL"),r=t;return n&&(!t||t&&n.contains(t))&&(r=n),r},s=function(e,t,n){if(!e)return!1;3===e.nodeType&&(e=e.parentElement);for(var r=e,i=!1;r&&!i&&!r.classList.contains("vditor-reset");)r.getAttribute(t)===n?i=!0:r=r.parentElement;return i&&r},l=function(e){if(!e)return!1;3===e.nodeType&&(e=e.parentElement);var t=e,n=!1,r=s(e,"data-block","0");if(r)return r;for(;t&&!n&&!t.classList.contains("vditor-reset");)"H1"===t.tagName||"H2"===t.tagName||"H3"===t.tagName||"H4"===t.tagName||"H5"===t.tagName||"H6"===t.tagName||"P"===t.tagName||"BLOCKQUOTE"===t.tagName||"OL"===t.tagName||"UL"===t.tagName?n=!0:t=t.parentElement;return n&&t},c=function(e,t){if(!e)return!1;3===e.nodeType&&(e=e.parentElement);for(var n=e,r=!1;n&&!r&&!n.classList.contains("vditor-reset");)n.nodeName===t?r=!0:n=n.parentElement;return r&&n},d=function(e,t){if(!e)return!1;3===e.nodeType&&(e=e.parentElement);for(var n=e,r=!1;n&&!r&&!n.classList.contains("vditor-reset");)n.classList.contains(t)?r=!0:n=n.parentElement;return r&&n},u=function(e){for(;e&&e.lastChild;)e=e.lastChild;return e}},14:function(e,t,n){"use strict";n.d(t,{S:function(){return r},W:function(){return i}});var r=function(e,t){if(!e)return!1;3===e.nodeType&&(e=e.parentElement);for(var n=e,r=!1;n&&!r&&!n.classList.contains("vditor-reset");)0===n.nodeName.indexOf(t)?r=!0:n=n.parentElement;return r&&n},i=function(e){var t=r(e,"H");return!(!t||2!==t.tagName.length||"HR"===t.tagName)&&t}},313:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var r=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r={},i=function(t){for(var n in t)t.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(t[n])?r[n]=e(r[n],t[n]):r[n]=t[n])},o=0;o<t.length;o++)i(t[o]);return r}},590:function(e,t,n){"use strict";n.d(t,{$j:function(){return u},Gb:function(){return l},Hc:function(){return c},Ny:function(){return s},ib:function(){return p},im:function(){return d},oC:function(){return f},zh:function(){return a}});var r=n(179),i=n(263),o=n(641),a=function(e){var t,n=e[e.currentMode].element;return getSelection().rangeCount>0&&(t=getSelection().getRangeAt(0),n.isEqualNode(t.startContainer)||n.contains(t.startContainer))?t:e[e.currentMode].range?e[e.currentMode].range:(n.focus(),(t=n.ownerDocument.createRange()).setStart(n,0),t.collapse(!0),t)},s=function(e){var t=window.getSelection().getRangeAt(0);if(!e.contains(t.startContainer)&&!(0,o.fb)(t.startContainer,"vditor-panel--none"))return{left:0,top:0};var n,r=e.parentElement.getBoundingClientRect();if(0===t.getClientRects().length)if(3===t.startContainer.nodeType){var i=t.startContainer.parentElement;if(!(i&&i.getClientRects().length>0))return{left:0,top:0};n=i.getClientRects()[0]}else{var a=t.startContainer.children;if(a[t.startOffset]&&a[t.startOffset].getClientRects().length>0)n=a[t.startOffset].getClientRects()[0];else if(t.startContainer.childNodes.length>0){var s=t.cloneRange();t.selectNode(t.startContainer.childNodes[Math.max(0,t.startOffset-1)]),n=t.getClientRects()[0],t.setEnd(s.endContainer,s.endOffset),t.setStart(s.startContainer,s.startOffset)}else n=t.startContainer.getClientRects()[0];if(!n){for(var l=t.startContainer.childNodes[t.startOffset];!l.getClientRects||l.getClientRects&&0===l.getClientRects().length;)l=l.parentElement;n=l.getClientRects()[0]}}else n=t.getClientRects()[0];return{left:n.left-r.left,top:n.top-r.top}},l=function(e,t){if(!t){if(0===getSelection().rangeCount)return!1;t=getSelection().getRangeAt(0)}var n=t.commonAncestorContainer;return e.isEqualNode(n)||e.contains(n)},c=function(e){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)},d=function(e,t,n){var r={end:0,start:0};if(!n){if(0===getSelection().rangeCount)return r;n=window.getSelection().getRangeAt(0)}if(l(t,n)){var i=n.cloneRange();e.childNodes[0]&&e.childNodes[0].childNodes[0]?i.setStart(e.childNodes[0].childNodes[0],0):i.selectNodeContents(e),i.setEnd(n.startContainer,n.startOffset),r.start=i.toString().length,r.end=r.start+n.toString().length}return r},u=function(e,t,n){var r=0,i=0,o=n.childNodes[i],a=!1,s=!1;e=Math.max(0,e),t=Math.max(0,t);var l=n.ownerDocument.createRange();for(l.setStart(o||n,0),l.collapse(!0);!s&&o;){var d=r+o.textContent.length;if(!a&&e>=r&&e<=d&&(0===e?l.setStart(o,0):3===o.childNodes[0].nodeType?l.setStart(o.childNodes[0],e-r):o.nextSibling?l.setStartBefore(o.nextSibling):l.setStartAfter(o),a=!0,e===t)){s=!0;break}a&&t>=r&&t<=d&&(0===t?l.setEnd(o,0):3===o.childNodes[0].nodeType?l.setEnd(o.childNodes[0],t-r):o.nextSibling?l.setEndBefore(o.nextSibling):l.setEndAfter(o),s=!0),r=d,o=n.childNodes[++i]}return!s&&n.childNodes[i-1]&&l.setStartBefore(n.childNodes[i-1]),c(l),l},p=function(e,t){var n=e.querySelector("wbr");if(n){if(n.previousElementSibling)if(n.previousElementSibling.isSameNode(n.previousSibling)){if(n.previousElementSibling.lastChild)return t.setStartBefore(n),t.collapse(!0),c(t),!(0,i.i7)()||"EM"!==n.previousElementSibling.tagName&&"STRONG"!==n.previousElementSibling.tagName&&"S"!==n.previousElementSibling.tagName||(t.insertNode(document.createTextNode(r.g.ZWSP)),t.collapse(!1)),void n.remove();t.setStartAfter(n.previousElementSibling)}else t.setStart(n.previousSibling,n.previousSibling.textContent.length);else n.previousSibling?t.setStart(n.previousSibling,n.previousSibling.textContent.length):n.nextSibling?3===n.nextSibling.nodeType?t.setStart(n.nextSibling,0):t.setStartBefore(n.nextSibling):t.setStart(n.parentElement,0);t.collapse(!0),n.remove(),c(t)}},f=function(e,t){var n=document.createElement("div");n.innerHTML=e;var r=n.querySelectorAll("p");1===r.length&&!r[0].previousSibling&&!r[0].nextSibling&&t[t.currentMode].element.children.length>0&&"P"===n.firstElementChild.tagName&&(e=r[0].innerHTML.trim());var i=document.createElement("div");i.innerHTML=e;var s=a(t);if(""!==s.toString()&&(t[t.currentMode].preventInput=!0,document.execCommand("delete",!1,"")),i.firstElementChild&&"0"===i.firstElementChild.getAttribute("data-block")){i.lastElementChild.insertAdjacentHTML("beforeend","<wbr>");var l=(0,o.F9)(s.startContainer);l?l.insertAdjacentHTML("afterend",i.innerHTML):t[t.currentMode].element.insertAdjacentHTML("beforeend",i.innerHTML),p(t[t.currentMode].element,s)}else{var d=document.createElement("template");d.innerHTML=e,s.insertNode(d.content.cloneNode(!0)),s.collapse(!1),c(s)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.d(r,{default:function(){return Fn}});var e,t=n(270),i=n(179),o=n(444),a=function(e){return"sv"===e.currentMode?(0,o.X)((e.sv.element.textContent+"\n").replace(/\n\n$/,"\n")):"wysiwyg"===e.currentMode?e.lute.VditorDOM2Md(e.wysiwyg.element.innerHTML):"ir"===e.currentMode?e.lute.VditorIRDOM2Md(e.ir.element.innerHTML):""},s=n(419),l=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-devtools",this.element.innerHTML='<div class="vditor-reset--error"></div><div style="height: 100%;"></div>'}return e.prototype.renderEchart=function(e){var t=this;"block"===e.devtools.element.style.display&&(0,s.G)(e.options.cdn+"/dist/js/echarts/echarts.min.js","vditorEchartsScript").then((function(){t.ASTChart||(t.ASTChart=echarts.init(e.devtools.element.lastElementChild));try{t.element.lastElementChild.style.display="block",t.element.firstElementChild.innerHTML="",t.ASTChart.setOption({series:[{data:JSON.parse(e.lute.RenderEChartsJSON(a(e))),initialTreeDepth:-1,label:{align:"left",backgroundColor:"rgba(68, 77, 86, .68)",borderRadius:3,color:"#d1d5da",fontSize:12,lineHeight:12,offset:[9,12],padding:[2,4,2,4],position:"top",verticalAlign:"middle"},lineStyle:{color:"#4285f4",type:"curve",width:1},orient:"vertical",roam:!0,type:"tree"}],toolbox:{bottom:25,emphasis:{iconStyle:{color:"#4285f4"}},feature:{restore:{show:!0},saveAsImage:{show:!0}},right:15,show:!0}}),t.ASTChart.resize()}catch(e){t.element.lastElementChild.style.display="none",t.element.firstElementChild.innerHTML=e}}))},e}(),c=n(263),d=function(e,t){t.forEach((function(t){if(e[t]){var n=e[t].children[0];n&&n.classList.contains("vditor-menu--current")&&n.classList.remove("vditor-menu--current")}}))},u=function(e,t){t.forEach((function(t){if(e[t]){var n=e[t].children[0];n&&!n.classList.contains("vditor-menu--current")&&n.classList.add("vditor-menu--current")}}))},p=function(e,t){t.forEach((function(t){if(e[t]){var n=e[t].children[0];n&&n.classList.contains(i.g.CLASS_MENU_DISABLED)&&n.classList.remove(i.g.CLASS_MENU_DISABLED)}}))},f=function(e,t){t.forEach((function(t){if(e[t]){var n=e[t].children[0];n&&!n.classList.contains(i.g.CLASS_MENU_DISABLED)&&n.classList.add(i.g.CLASS_MENU_DISABLED)}}))},h=function(e,t){t.forEach((function(t){e[t]&&e[t]&&(e[t].style.display="none")}))},m=function(e,t){t.forEach((function(t){e[t]&&e[t]&&(e[t].style.display="block")}))},v=function(e,t,n){t.includes("subToolbar")&&(e.toolbar.element.querySelectorAll(".vditor-hint").forEach((function(e){n&&e.isEqualNode(n)||(e.style.display="none")})),e.toolbar.elements.emoji&&(e.toolbar.elements.emoji.lastElementChild.style.display="none")),t.includes("hint")&&(e.hint.element.style.display="none"),e.wysiwyg.popover&&t.includes("popover")&&(e.wysiwyg.popover.style.display="none")},g=function(e,t,n,r){n.addEventListener((0,c.Le)(),(function(r){r.preventDefault(),r.stopPropagation(),n.classList.contains(i.g.CLASS_MENU_DISABLED)||(e.toolbar.element.querySelectorAll(".vditor-hint--current").forEach((function(e){e.classList.remove("vditor-hint--current")})),"block"===t.style.display?t.style.display="none":(v(e,["subToolbar","hint","popover"],n.parentElement.parentElement),n.classList.contains("vditor-tooltipped")||n.classList.add("vditor-hint--current"),t.style.display="block",e.toolbar.element.getBoundingClientRect().right-n.getBoundingClientRect().right<250?t.classList.add("vditor-panel--left"):t.classList.remove("vditor-panel--left")))}))},b=n(641),y=n(14),w=function(e,t,n,r){r&&console.log(e+" - "+n+": "+t)},k=n(293),x=n(453),E=n(338),_=n(250),S=n(173),T=n(197),C=n(833),L=n(720),A=n(774),M=n(620),N=function(e,t){if(e)if("html-block"!==e.parentElement.getAttribute("data-type")){var n=e.firstElementChild.className.replace("language-","");n&&("abc"===n?(0,k.Q)(e,t.options.cdn):"mermaid"===n?(0,L.i)(e,t.options.cdn,t.options.theme):"flowchart"===n?(0,_.P)(e,t.options.cdn):"echarts"===n?(0,x.p)(e,t.options.cdn,t.options.theme):"mindmap"===n?(0,A.P)(e,t.options.cdn,t.options.theme):"plantuml"===n?(0,M.B)(e,t.options.cdn):"graphviz"===n?(0,S.v)(e,t.options.cdn):"math"===n?(0,C.H)(e,{cdn:t.options.cdn,math:t.options.preview.math}):((0,T.s)(Object.assign({},t.options.preview.hljs),e,t.options.cdn),(0,E.O)(e)),e.setAttribute("data-render","1"))}else e.setAttribute("data-render","1")},I=n(590),O=function(e){if("sv"!==e.currentMode){var t=e[e.currentMode].element,n=e.outline.render(e);""===n&&(n="[ToC]"),t.querySelectorAll('[data-type="toc-block"]').forEach((function(t){t.innerHTML=n,(0,C.H)(t,{cdn:e.options.cdn,math:e.options.preview.math})}))}},H=function(e,t){var n=(0,b.lG)(e.target,"SPAN");if(n&&(0,b.fb)(n,"vditor-toc")){var r=t[t.currentMode].element.querySelector("#"+n.getAttribute("data-target-id"));if(r)if("auto"===t.options.height){var i=r.offsetTop+t.element.offsetTop;t.options.toolbarConfig.pin||(i+=t.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,i)}else t.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,t.element.offsetTop),t[t.currentMode].element.scrollTop=r.offsetTop}},D=function(e,t,n,r){if(e.previousElementSibling&&e.previousElementSibling.classList.contains("vditor-toc")){if("Backspace"===n.key&&0===(0,I.im)(e,t[t.currentMode].element,r).start)return e.previousElementSibling.remove(),st(t),!0;if(et(t,n,r,e,e.previousElementSibling))return!0}if(e.nextElementSibling&&e.nextElementSibling.classList.contains("vditor-toc")){if("Delete"===n.key&&(0,I.im)(e,t[t.currentMode].element,r).start>=e.textContent.trimRight().length)return e.nextElementSibling.remove(),st(t),!0;if(Qe(t,n,r,e,e.nextElementSibling))return!0}if("Backspace"===n.key||"Delete"===n.key){var i=(0,b.fb)(r.startContainer,"vditor-toc");if(i)return i.remove(),st(t),!0}},R=function(e,t,n,r){void 0===n&&(n=!1);var o=(0,b.F9)(t.startContainer);if(o&&!n&&"code-block"!==o.getAttribute("data-type")){if(ot(o.innerHTML)&&o.previousElementSibling||at(o.innerHTML))return;for(var s=(0,I.im)(o,e.ir.element,t).start,l=!0,c=s-1;c>o.textContent.substr(0,s).lastIndexOf("\n");c--)if(" "!==o.textContent.charAt(c)&&"\t"!==o.textContent.charAt(c)){l=!1;break}0===s&&(l=!1);var d=!0;for(c=s-1;c<o.textContent.length;c++)if(" "!==o.textContent.charAt(c)&&"\n"!==o.textContent.charAt(c)){d=!1;break}if(l)return void("function"==typeof e.options.input&&e.options.input(a(e)));if(d&&!(0,b.fb)(t.startContainer,"vditor-ir__marker")){var u=t.startContainer.previousSibling;return u&&3!==u.nodeType&&u.classList.contains("vditor-ir__node--expand")&&u.classList.remove("vditor-ir__node--expand"),void("function"==typeof e.options.input&&e.options.input(a(e)))}}if(e.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach((function(e){e.classList.remove("vditor-ir__node--expand")})),o||(o=e.ir.element),!o.querySelector("wbr")){var p=(0,b.fb)(t.startContainer,"vditor-ir__preview");p?p.previousElementSibling.insertAdjacentHTML("beforeend","<wbr>"):t.insertNode(document.createElement("wbr"))}o.querySelectorAll("[style]").forEach((function(e){e.removeAttribute("style")})),"link-ref-defs-block"===o.getAttribute("data-type")&&(o=e.ir.element);var f,h=o.isEqualNode(e.ir.element),m=(0,b.a1)(o,"data-type","footnotes-block"),v="";if(h)v=o.innerHTML;else{var g=(0,y.S)(t.startContainer,"BLOCKQUOTE"),k=(0,b.O9)(t.startContainer);if(k&&(o=k),g&&(!k||k&&!g.contains(k))&&(o=g),m&&(o=m),v=o.outerHTML,"UL"===o.tagName||"OL"===o.tagName){var x=o.previousElementSibling,E=o.nextElementSibling;!x||"UL"!==x.tagName&&"OL"!==x.tagName||(v=x.outerHTML+v,x.remove()),!E||"UL"!==E.tagName&&"OL"!==E.tagName||(v+=E.outerHTML,E.remove()),v=v.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}else o.previousElementSibling&&""!==o.previousElementSibling.textContent.replace(i.g.ZWSP,"")&&r&&"insertParagraph"===r.inputType&&(v=o.previousElementSibling.outerHTML+v,o.previousElementSibling.remove());o.innerText.startsWith("```")||(e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach((function(e){e&&!o.isEqualNode(e)&&(v+=e.outerHTML,e.remove())})),e.ir.element.querySelectorAll("[data-type='footnotes-block']").forEach((function(e){e&&!o.isEqualNode(e)&&(v+=e.outerHTML,e.remove())})))}if(w("SpinVditorIRDOM",v,"argument",e.options.debugger),v=e.lute.SpinVditorIRDOM(v),w("SpinVditorIRDOM",v,"result",e.options.debugger),h)o.innerHTML=v;else if(o.outerHTML=v,m){var _=(0,b.a1)(e.ir.element.querySelector("wbr"),"data-type","footnotes-def");if(_){var S=_.textContent,T=S.substring(1,S.indexOf("]:")),C=e.ir.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+T+'"]');C&&C.setAttribute("aria-label",S.substr(T.length+3).trim().substr(0,24))}}var L,A=e.ir.element.querySelectorAll("[data-type='link-ref-defs-block']");A.forEach((function(e,t){0===t?f=e:(f.insertAdjacentHTML("beforeend",e.innerHTML),e.remove())})),A.length>0&&e.ir.element.insertAdjacentElement("beforeend",A[0]);var M=e.ir.element.querySelectorAll("[data-type='footnotes-block']");M.forEach((function(e,t){0===t?L=e:(L.insertAdjacentHTML("beforeend",e.innerHTML),e.remove())})),M.length>0&&e.ir.element.insertAdjacentElement("beforeend",M[0]),(0,I.ib)(e.ir.element,t),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach((function(t){N(t,e)})),O(e),St(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},P=function(e,t){if(""===e)return!1;if(-1===e.indexOf("⇧")&&-1===e.indexOf("⌘")&&-1===e.indexOf("⌥"))return!((0,c.yl)(t)||t.altKey||t.shiftKey||t.code!==e);if("⇧Tab"===e)return!((0,c.yl)(t)||t.altKey||!t.shiftKey||"Tab"!==t.code);var n=e.split("");if(e.startsWith("⌥")){var r=3===n.length?n[2]:n[1];return!((3===n.length?!(0,c.yl)(t):(0,c.yl)(t))||!t.altKey||t.shiftKey||t.code!==(/^[0-9]$/.test(r)?"Digit":"Key")+r)}"⌘Enter"===e&&(n=["⌘","Enter"]);var i=n.length>2&&"⇧"===n[0],o=i?n[2]:n[1];return!i||!(0,c.vU)()&&/Mac/.test(navigator.platform)||("-"===o?o="_":"="===o&&(o="+")),!(!(0,c.yl)(t)||t.key.toLowerCase()!==o.toLowerCase()||t.altKey||!(!i&&!t.shiftKey||i&&t.shiftKey))},j=function(e,t){t.ir.element.querySelectorAll(".vditor-ir__node--expand").forEach((function(e){e.classList.remove("vditor-ir__node--expand")}));var n=(0,b.JQ)(e.startContainer,"vditor-ir__node"),r=!e.collapsed&&(0,b.JQ)(e.endContainer,"vditor-ir__node");if(e.collapsed||n&&n===r){n&&(n.classList.add("vditor-ir__node--expand"),n.classList.remove("vditor-ir__node--hidden"),(0,I.Hc)(e));var i=function(e){var t=e.startContainer;if(3===t.nodeType&&t.nodeValue.length!==e.startOffset)return!1;for(var n=t.nextSibling;n&&""===n.textContent;)n=n.nextSibling;if(!n){var r=(0,b.fb)(t,"vditor-ir__marker");if(r&&!r.nextSibling){var i=t.parentElement.parentElement.nextSibling;if(i&&3!==i.nodeType&&i.classList.contains("vditor-ir__node"))return i}return!1}return!(!n||3===n.nodeType||!n.classList.contains("vditor-ir__node")||n.getAttribute("data-block"))&&n}(e);if(i)return i.classList.add("vditor-ir__node--expand"),void i.classList.remove("vditor-ir__node--hidden");var o=function(e){var t=e.startContainer,n=t.previousSibling;return!(3!==t.nodeType||0!==e.startOffset||!n||3===n.nodeType||!n.classList.contains("vditor-ir__node")||n.getAttribute("data-block"))&&n}(e);return o?(o.classList.add("vditor-ir__node--expand"),void o.classList.remove("vditor-ir__node--hidden")):void 0}},B=n(879),$=function(e,t){var n,r=getSelection().getRangeAt(0).cloneRange(),i=r.startContainer;3!==r.startContainer.nodeType&&"DIV"===r.startContainer.tagName&&(i=r.startContainer.childNodes[r.startOffset-1]);var o=(0,b.a1)(i,"data-block","0");if(o&&t&&("deleteContentBackward"===t.inputType||" "===t.data)){for(var a=(0,I.im)(o,e.sv.element,r).start,s=!0,l=a-1;l>o.textContent.substr(0,a).lastIndexOf("\n");l--)if(" "!==o.textContent.charAt(l)&&"\t"!==o.textContent.charAt(l)){s=!1;break}if(0===a&&(s=!1),s)return void Oe(e);if("deleteContentBackward"===t.inputType){var c=(0,b.a1)(i,"data-type","code-block-open-marker")||(0,b.a1)(i,"data-type","code-block-close-marker");if(c){var d;if("code-block-close-marker"===c.getAttribute("data-type")&&(d=Me(i,"code-block-open-marker")))return d.textContent=c.textContent,void Oe(e);if("code-block-open-marker"===c.getAttribute("data-type")&&(d=Me(i,"code-block-close-marker",!1)))return d.textContent=c.textContent,void Oe(e)}var u=(0,b.a1)(i,"data-type","math-block-open-marker");if(u){var p=u.nextElementSibling.nextElementSibling;return void(p&&"math-block-close-marker"===p.getAttribute("data-type")&&(p.remove(),Oe(e)))}o.querySelectorAll('[data-type="code-block-open-marker"]').forEach((function(e){1===e.textContent.length&&e.remove()})),o.querySelectorAll('[data-type="code-block-close-marker"]').forEach((function(e){1===e.textContent.length&&e.remove()}));var f=(0,b.a1)(i,"data-type","heading-marker");if(f&&-1===f.textContent.indexOf("#"))return void Oe(e)}if((" "===t.data||"deleteContentBackward"===t.inputType)&&((0,b.a1)(i,"data-type","padding")||(0,b.a1)(i,"data-type","li-marker")||(0,b.a1)(i,"data-type","task-marker")||(0,b.a1)(i,"data-type","blockquote-marker")))return void Oe(e)}if(o&&"$$"===o.textContent.trimRight())Oe(e);else{o||(o=e.sv.element),"link-ref-defs-block"===(null===(n=o.firstElementChild)||void 0===n?void 0:n.getAttribute("data-type"))&&(o=e.sv.element),(0,b.a1)(i,"data-type","footnotes-link")&&(o=e.sv.element),-1===o.textContent.indexOf(Lute.Caret)&&r.insertNode(document.createTextNode(Lute.Caret)),o.querySelectorAll("[style]").forEach((function(e){e.removeAttribute("style")})),o.querySelectorAll("font").forEach((function(e){e.outerHTML=e.innerHTML}));var h,m=o.textContent,v=o.isEqualNode(e.sv.element);v?m=o.textContent:(o.previousElementSibling&&(m=o.previousElementSibling.textContent+m,o.previousElementSibling.remove()),o.previousElementSibling&&0===m.indexOf("---\n")&&(m=o.previousElementSibling.textContent+m,o.previousElementSibling.remove()),o.innerText.startsWith("```")||(e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach((function(e,t){0===t&&e&&!o.isEqualNode(e.parentElement)&&(m+="\n"+e.parentElement.textContent,e.parentElement.remove())})),e.sv.element.querySelectorAll("[data-type='footnotes-link']").forEach((function(e,t){0===t&&e&&!o.isEqualNode(e.parentElement)&&(m+="\n"+e.parentElement.textContent,e.parentElement.remove())})))),m=Ne(m,e),v?o.innerHTML=m:o.outerHTML=m;var g,y=e.sv.element.querySelectorAll("[data-type='link-ref-defs-block']");y.forEach((function(e,t){0===t?h=e.parentElement:(h.lastElementChild.remove(),h.insertAdjacentHTML("beforeend",""+e.parentElement.innerHTML),e.parentElement.remove())})),y.length>0&&e.sv.element.insertAdjacentElement("beforeend",h);var w=e.sv.element.querySelectorAll("[data-type='footnotes-link']");w.forEach((function(e,t){0===t?g=e.parentElement:(g.lastElementChild.remove(),g.insertAdjacentHTML("beforeend",""+e.parentElement.innerHTML),e.parentElement.remove())})),w.length>0&&e.sv.element.insertAdjacentElement("beforeend",g),(0,I.ib)(e.sv.element,r),Te(e),Oe(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})}},U=n(923),z=function(e){"dark"===e.options.theme?e.element.classList.add("vditor--dark"):e.element.classList.remove("vditor--dark")},V=function(e){var t=window.innerWidth<=i.g.MOBILE_WIDTH?10:35;if("none"!==e.wysiwyg.element.parentElement.style.display){var n=(e.wysiwyg.element.parentElement.clientWidth-e.options.preview.maxWidth)/2;e.wysiwyg.element.style.padding="10px "+Math.max(t,n)+"px"}"none"!==e.ir.element.parentElement.style.display&&(n=(e.ir.element.parentElement.clientWidth-e.options.preview.maxWidth)/2,e.ir.element.style.padding="10px "+Math.max(t,n)+"px"),"block"!==e.preview.element.style.display?e.toolbar.element.style.paddingLeft=Math.max(5,parseInt(e[e.currentMode].element.style.paddingLeft||"0",10)+("left"===e.options.outline.position?e.outline.element.offsetWidth:0))+"px":e.toolbar.element.style.paddingLeft=5+("left"===e.options.outline.position?e.outline.element.offsetWidth:0)+"px"},q=function(e){if(e.options.typewriterMode){var t=window.innerHeight;"number"==typeof e.options.height?(t=e.options.height,"number"==typeof e.options.minHeight&&(t=Math.max(t,e.options.minHeight)),t=Math.min(window.innerHeight,t)):t=e.element.clientHeight,e.element.classList.contains("vditor--fullscreen")&&(t=window.innerHeight),e[e.currentMode].element.style.setProperty("--editor-bottom",(t-e.toolbar.element.offsetHeight)/2+"px")}};function F(){window.removeEventListener("resize",e)}var K,W,G=function(t){q(t),F(),window.addEventListener("resize",e=function(){V(t),q(t)});var n=(0,c.pK)()&&localStorage.getItem(t.options.cache.id);return t.options.cache.enable&&n||(t.options.value?n=t.options.value:t.originalInnerHTML?n=t.lute.HTML2Md(t.originalInnerHTML):t.options.cache.enable||(n="")),n||""},X=function(e){clearTimeout(e[e.currentMode].hlToolbarTimeoutId),e[e.currentMode].hlToolbarTimeoutId=window.setTimeout((function(){if("false"!==e[e.currentMode].element.getAttribute("contenteditable")&&(0,I.Gb)(e[e.currentMode].element)){d(e.toolbar.elements,i.g.EDIT_TOOLBARS),p(e.toolbar.elements,i.g.EDIT_TOOLBARS);var t=(0,I.zh)(e),n=t.startContainer;3===t.startContainer.nodeType&&(n=t.startContainer.parentElement),n.classList.contains("vditor-reset")&&(n=n.childNodes[t.startOffset]),("sv"===e.currentMode?(0,b.a1)(n,"data-type","heading"):(0,y.W)(n))&&u(e.toolbar.elements,["headings"]),("sv"===e.currentMode?(0,b.a1)(n,"data-type","blockquote"):(0,b.lG)(n,"BLOCKQUOTE"))&&u(e.toolbar.elements,["quote"]),(0,b.a1)(n,"data-type","strong")&&u(e.toolbar.elements,["bold"]),(0,b.a1)(n,"data-type","em")&&u(e.toolbar.elements,["italic"]),(0,b.a1)(n,"data-type","s")&&u(e.toolbar.elements,["strike"]),(0,b.a1)(n,"data-type","a")&&u(e.toolbar.elements,["link"]);var r=(0,b.lG)(n,"LI");r?(r.classList.contains("vditor-task")?u(e.toolbar.elements,["check"]):"OL"===r.parentElement.tagName?u(e.toolbar.elements,["ordered-list"]):"UL"===r.parentElement.tagName&&u(e.toolbar.elements,["list"]),p(e.toolbar.elements,["outdent","indent"])):f(e.toolbar.elements,["outdent","indent"]),(0,b.a1)(n,"data-type","code-block")&&(f(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),u(e.toolbar.elements,["code"])),(0,b.a1)(n,"data-type","code")&&(f(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),u(e.toolbar.elements,["inline-code"])),(0,b.a1)(n,"data-type","table")&&f(e.toolbar.elements,["headings","list","ordered-list","check","line","quote","code","table"])}}),200)},Z=function(e,t){void 0===t&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),clearTimeout(e.wysiwyg.afterRenderTimeoutId),e.wysiwyg.afterRenderTimeoutId=window.setTimeout((function(){if(!e.wysiwyg.composingLock){var n=a(e);"function"==typeof e.options.input&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,c.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}}),e.options.undoDelay)},Y=function(e){for(var t="",n=e.nextSibling;n;)3===n.nodeType?t+=n.textContent:t+=n.outerHTML,n=n.nextSibling;return t},J=function(e){for(var t="",n=e.previousSibling;n;)t=3===n.nodeType?n.textContent+t:n.outerHTML+t,n=n.previousSibling;return t},Q=function(e,t){Array.from(e.wysiwyg.element.childNodes).find((function(n){if(3===n.nodeType){var r=document.createElement("p");r.setAttribute("data-block","0"),r.textContent=n.textContent;var i=3===t.startContainer.nodeType?t.startOffset:n.textContent.length;return n.parentNode.insertBefore(r,n),n.remove(),t.setStart(r.firstChild,Math.min(r.firstChild.textContent.length,i)),t.collapse(!0),(0,I.Hc)(t),!0}if(!n.getAttribute("data-block"))return"P"===n.tagName?n.remove():("DIV"===n.tagName?(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.innerHTML+"</p>"):"BR"===n.tagName?n.outerHTML='<p data-block="0">'+n.outerHTML+"<wbr></p>":(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.outerHTML+"</p>"),(0,I.ib)(e.wysiwyg.element,t),t=getSelection().getRangeAt(0)),!0}))},ee=function(e,t){var n=(0,I.zh)(e),r=(0,b.F9)(n.startContainer);r||(r=n.startContainer.childNodes[n.startOffset]),r||0!==e.wysiwyg.element.children.length||(r=e.wysiwyg.element),r&&!r.classList.contains("vditor-wysiwyg__block")&&(n.insertNode(document.createElement("wbr")),"<wbr>"===r.innerHTML.trim()&&(r.innerHTML="<wbr><br>"),"BLOCKQUOTE"===r.tagName||r.classList.contains("vditor-reset")?r.innerHTML="<"+t+' data-block="0">'+r.innerHTML.trim()+"</"+t+">":r.outerHTML="<"+t+' data-block="0">'+r.innerHTML.trim()+"</"+t+">",(0,I.ib)(e.wysiwyg.element,n),O(e))},te=function(e){var t=getSelection().getRangeAt(0),n=(0,b.F9)(t.startContainer);n||(n=t.startContainer.childNodes[t.startOffset]),n&&(t.insertNode(document.createElement("wbr")),n.outerHTML='<p data-block="0">'+n.innerHTML+"</p>",(0,I.ib)(e.wysiwyg.element,t)),e.wysiwyg.popover.style.display="none"},ne=function(e,t,n){void 0===n&&(n=!0);var r=e.previousElementSibling,i=r.ownerDocument.createRange();"CODE"===r.tagName?(r.style.display="inline-block",n?i.setStart(r.firstChild,1):i.selectNodeContents(r)):(r.style.display="block",r.firstChild.firstChild||r.firstChild.appendChild(document.createTextNode("")),i.selectNodeContents(r.firstChild)),n?i.collapse(!0):i.collapse(!1),(0,I.Hc)(i),e.firstElementChild.classList.contains("language-mindmap")||Te(t)},re=function(e,t){if(P("⇧⌘X",t)){var n=e.wysiwyg.popover.querySelector('[data-type="remove"]');if(n)return n.click(),t.preventDefault(),!0}},ie=function(e){clearTimeout(e.wysiwyg.hlToolbarTimeoutId),e.wysiwyg.hlToolbarTimeoutId=window.setTimeout((function(){if("false"!==e.wysiwyg.element.getAttribute("contenteditable")&&(0,I.Gb)(e.wysiwyg.element)){d(e.toolbar.elements,i.g.EDIT_TOOLBARS),p(e.toolbar.elements,i.g.EDIT_TOOLBARS);var t=getSelection().getRangeAt(0),n=t.startContainer;n=3===t.startContainer.nodeType?t.startContainer.parentElement:n.childNodes[t.startOffset>=n.childNodes.length?n.childNodes.length-1:t.startOffset];var r=(0,b.a1)(n,"data-type","footnotes-block");if(r)return e.wysiwyg.popover.innerHTML="",ce(r,e),void oe(e,r);var o=(0,b.lG)(n,"LI");o?(o.classList.contains("vditor-task")?u(e.toolbar.elements,["check"]):"OL"===o.parentElement.tagName?u(e.toolbar.elements,["ordered-list"]):"UL"===o.parentElement.tagName&&u(e.toolbar.elements,["list"]),p(e.toolbar.elements,["outdent","indent"])):f(e.toolbar.elements,["outdent","indent"]),(0,b.lG)(n,"BLOCKQUOTE")&&u(e.toolbar.elements,["quote"]),((0,b.lG)(n,"B")||(0,b.lG)(n,"STRONG"))&&u(e.toolbar.elements,["bold"]),((0,b.lG)(n,"I")||(0,b.lG)(n,"EM"))&&u(e.toolbar.elements,["italic"]),((0,b.lG)(n,"STRIKE")||(0,b.lG)(n,"S"))&&u(e.toolbar.elements,["strike"]),e.wysiwyg.element.querySelectorAll(".vditor-comment--focus").forEach((function(e){e.classList.remove("vditor-comment--focus")}));var a=(0,b.fb)(n,"vditor-comment");if(a){var s=a.getAttribute("data-cmtids").split(" ");if(s.length>1&&a.nextSibling.isSameNode(a.nextElementSibling)){var l=a.nextElementSibling.getAttribute("data-cmtids").split(" ");s.find((function(e){if(l.includes(e))return s=[e],!0}))}e.wysiwyg.element.querySelectorAll(".vditor-comment").forEach((function(e){e.getAttribute("data-cmtids").indexOf(s[0])>-1&&e.classList.add("vditor-comment--focus")}))}var h=(0,b.lG)(n,"A");h&&u(e.toolbar.elements,["link"]);var m=(0,b.lG)(n,"TABLE"),v=(0,y.W)(n);(0,b.lG)(n,"CODE")?(0,b.lG)(n,"PRE")?(f(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","inline-code","upload","link","table","record"]),u(e.toolbar.elements,["code"])):(f(e.toolbar.elements,["headings","bold","italic","strike","line","quote","list","ordered-list","check","code","upload","link","table","record"]),u(e.toolbar.elements,["inline-code"])):v?(f(e.toolbar.elements,["bold"]),u(e.toolbar.elements,["headings"])):m&&f(e.toolbar.elements,["table"]);var g=(0,b.fb)(n,"vditor-toc");if(g)return e.wysiwyg.popover.innerHTML="",ce(g,e),void oe(e,g);var w=(0,y.S)(n,"BLOCKQUOTE");if(w&&(e.wysiwyg.popover.innerHTML="",se(t,w,e),le(t,w,e),ce(w,e),oe(e,w)),o&&(e.wysiwyg.popover.innerHTML="",se(t,o,e),le(t,o,e),ce(o,e),oe(e,o)),m){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="";var k=function(){var e=m.rows.length,t=m.rows[0].cells.length,n=parseInt(P.value,10)||e,r=parseInt(B.value,10)||t;if(n!==e||t!==r){if(t!==r)for(var i=r-t,o=0;o<m.rows.length;o++)if(i>0)for(var a=0;a<i;a++)0===o?m.rows[o].lastElementChild.insertAdjacentHTML("afterend","<th> </th>"):m.rows[o].lastElementChild.insertAdjacentHTML("afterend","<td> </td>");else for(var s=t-1;s>=r;s--)m.rows[o].cells[s].remove();if(e!==n){var l=n-e;if(l>0){for(var c="<tr>",d=0;d<r;d++)c+="<td> </td>";for(var u=0;u<l;u++)m.querySelector("tbody")?m.querySelector("tbody").insertAdjacentHTML("beforeend",c):m.querySelector("thead").insertAdjacentHTML("afterend",c+"</tr>")}else for(d=e-1;d>=n;d--)m.rows[d].remove(),1===m.rows.length&&m.querySelector("tbody").remove()}}},x=function(n){it(m,n),"right"===n?(T.classList.remove("vditor-icon--current"),C.classList.remove("vditor-icon--current"),L.classList.add("vditor-icon--current")):"center"===n?(T.classList.remove("vditor-icon--current"),L.classList.remove("vditor-icon--current"),C.classList.add("vditor-icon--current")):(C.classList.remove("vditor-icon--current"),L.classList.remove("vditor-icon--current"),T.classList.add("vditor-icon--current")),(0,I.Hc)(t),Z(e)},E=(0,b.lG)(n,"TD"),_=(0,b.lG)(n,"TH"),S="left";E?S=E.getAttribute("align")||"left":_&&(S=_.getAttribute("align")||"center");var T=document.createElement("button");T.setAttribute("type","button"),T.setAttribute("aria-label",window.VditorI18n.alignLeft+"<"+(0,c.ns)("⇧⌘L")+">"),T.setAttribute("data-type","left"),T.innerHTML='<svg><use xlink:href="#vditor-icon-align-left"></use></svg>',T.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+("left"===S?" vditor-icon--current":""),T.onclick=function(){x("left")};var C=document.createElement("button");C.setAttribute("type","button"),C.setAttribute("aria-label",window.VditorI18n.alignCenter+"<"+(0,c.ns)("⇧⌘C")+">"),C.setAttribute("data-type","center"),C.innerHTML='<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',C.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+("center"===S?" vditor-icon--current":""),C.onclick=function(){x("center")};var L=document.createElement("button");L.setAttribute("type","button"),L.setAttribute("aria-label",window.VditorI18n.alignRight+"<"+(0,c.ns)("⇧⌘R")+">"),L.setAttribute("data-type","right"),L.innerHTML='<svg><use xlink:href="#vditor-icon-align-right"></use></svg>',L.className="vditor-icon vditor-tooltipped vditor-tooltipped__n"+("right"===S?" vditor-icon--current":""),L.onclick=function(){x("right")};var A=document.createElement("button");A.setAttribute("type","button"),A.setAttribute("aria-label",window.VditorI18n.insertRowBelow+"<"+(0,c.ns)("⌘=")+">"),A.setAttribute("data-type","insertRow"),A.innerHTML='<svg><use xlink:href="#vditor-icon-insert-row"></use></svg>',A.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",A.onclick=function(){var n=getSelection().getRangeAt(0).startContainer,r=(0,b.lG)(n,"TD")||(0,b.lG)(n,"TH");r&&ut(e,t,r)};var M=document.createElement("button");M.setAttribute("type","button"),M.setAttribute("aria-label",window.VditorI18n.insertRowAbove+"<"+(0,c.ns)("⇧⌘F")+">"),M.setAttribute("data-type","insertRow"),M.innerHTML='<svg><use xlink:href="#vditor-icon-insert-rowb"></use></svg>',M.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",M.onclick=function(){var n=getSelection().getRangeAt(0).startContainer,r=(0,b.lG)(n,"TD")||(0,b.lG)(n,"TH");r&&pt(e,t,r)};var O=document.createElement("button");O.setAttribute("type","button"),O.setAttribute("aria-label",window.VditorI18n.insertColumnRight+"<"+(0,c.ns)("⇧⌘=")+">"),O.setAttribute("data-type","insertColumn"),O.innerHTML='<svg><use xlink:href="#vditor-icon-insert-column"></use></svg>',O.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",O.onclick=function(){var t=getSelection().getRangeAt(0).startContainer,n=(0,b.lG)(t,"TD")||(0,b.lG)(t,"TH");n&&ft(e,m,n)};var H=document.createElement("button");H.setAttribute("type","button"),H.setAttribute("aria-label",window.VditorI18n.insertColumnLeft+"<"+(0,c.ns)("⇧⌘G")+">"),H.setAttribute("data-type","insertColumn"),H.innerHTML='<svg><use xlink:href="#vditor-icon-insert-columnb"></use></svg>',H.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",H.onclick=function(){var t=getSelection().getRangeAt(0).startContainer,n=(0,b.lG)(t,"TD")||(0,b.lG)(t,"TH");n&&ft(e,m,n,"beforebegin")};var D=document.createElement("button");D.setAttribute("type","button"),D.setAttribute("aria-label",window.VditorI18n["delete-row"]+"<"+(0,c.ns)("⌘-")+">"),D.setAttribute("data-type","deleteRow"),D.innerHTML='<svg><use xlink:href="#vditor-icon-delete-row"></use></svg>',D.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",D.onclick=function(){var n=getSelection().getRangeAt(0).startContainer,r=(0,b.lG)(n,"TD")||(0,b.lG)(n,"TH");r&&ht(e,t,r)};var R=document.createElement("button");R.setAttribute("type","button"),R.setAttribute("aria-label",window.VditorI18n["delete-column"]+"<"+(0,c.ns)("⇧⌘-")+">"),R.setAttribute("data-type","deleteColumn"),R.innerHTML='<svg><use xlink:href="#vditor-icon-delete-column"></use></svg>',R.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",R.onclick=function(){var n=getSelection().getRangeAt(0).startContainer,r=(0,b.lG)(n,"TD")||(0,b.lG)(n,"TH");r&&mt(e,t,m,r)},(G=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.row),G.className="vditor-tooltipped vditor-tooltipped__n";var P=document.createElement("input");G.appendChild(P),P.type="number",P.min="1",P.className="vditor-input",P.style.width="42px",P.style.textAlign="center",P.setAttribute("placeholder",window.VditorI18n.row),P.value=m.rows.length.toString(),P.oninput=function(){k()},P.onkeydown=function(t){if(!t.isComposing)return"Tab"===t.key?(B.focus(),B.select(),void t.preventDefault()):void re(e,t)};var j=document.createElement("span");j.setAttribute("aria-label",window.VditorI18n.column),j.className="vditor-tooltipped vditor-tooltipped__n";var B=document.createElement("input");j.appendChild(B),B.type="number",B.min="1",B.className="vditor-input",B.style.width="42px",B.style.textAlign="center",B.setAttribute("placeholder",window.VditorI18n.column),B.value=m.rows[0].cells.length.toString(),B.oninput=function(){k()},B.onkeydown=function(t){if(!t.isComposing)return"Tab"===t.key?(P.focus(),P.select(),void t.preventDefault()):void re(e,t)},se(t,m,e),le(t,m,e),ce(m,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",T),e.wysiwyg.popover.insertAdjacentElement("beforeend",C),e.wysiwyg.popover.insertAdjacentElement("beforeend",L),e.wysiwyg.popover.insertAdjacentElement("beforeend",M),e.wysiwyg.popover.insertAdjacentElement("beforeend",A),e.wysiwyg.popover.insertAdjacentElement("beforeend",H),e.wysiwyg.popover.insertAdjacentElement("beforeend",O),e.wysiwyg.popover.insertAdjacentElement("beforeend",D),e.wysiwyg.popover.insertAdjacentElement("beforeend",R),e.wysiwyg.popover.insertAdjacentElement("beforeend",G),e.wysiwyg.popover.insertAdjacentHTML("beforeend"," x "),e.wysiwyg.popover.insertAdjacentElement("beforeend",j),oe(e,m)}var $=(0,b.a1)(n,"data-type","link-ref");$&&ae(e,$);var U=(0,b.a1)(n,"data-type","footnotes-ref");if(U){e.options.lang,e.options,e.wysiwyg.popover.innerHTML="",(G=document.createElement("span")).setAttribute("aria-label",window.VditorI18n.footnoteRef+"<"+(0,c.ns)("⌥Enter")+">"),G.className="vditor-tooltipped vditor-tooltipped__n";var z=document.createElement("input");G.appendChild(z),z.className="vditor-input",z.setAttribute("placeholder",window.VditorI18n.footnoteRef+"<"+(0,c.ns)("⌥Enter")+">"),z.style.width="120px",z.value=U.getAttribute("data-footnotes-label"),z.oninput=function(){""!==z.value.trim()&&U.setAttribute("data-footnotes-label",z.value)},z.onkeydown=function(n){if(!n.isComposing)return(0,c.yl)(n)||n.shiftKey||!n.altKey||"Enter"!==n.key?void re(e,n):(t.selectNodeContents(U),t.collapse(!1),(0,I.Hc)(t),void n.preventDefault())},ce(U,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",G),oe(e,U)}var V=(0,b.fb)(n,"vditor-wysiwyg__block"),q=!!V&&V.getAttribute("data-type").indexOf("block")>-1;if(e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview").forEach((function(e){(!V||V&&q&&!V.contains(e))&&(e.previousElementSibling.style.display="none")})),V&&q){if(e.wysiwyg.popover.innerHTML="",se(t,V,e),le(t,V,e),ce(V,e),"code-block"===V.getAttribute("data-type")){var F=document.createElement("span");F.setAttribute("aria-label",window.VditorI18n.language+"<"+(0,c.ns)("⌥Enter")+">"),F.className="vditor-tooltipped vditor-tooltipped__n";var K=document.createElement("input");F.appendChild(K);var W=V.firstElementChild.firstElementChild;K.className="vditor-input",K.setAttribute("placeholder",window.VditorI18n.language+"<"+(0,c.ns)("⌥Enter")+">"),K.value=W.className.indexOf("language-")>-1?W.className.split("-")[1].split(" ")[0]:"",K.oninput=function(n){""!==K.value.trim()?W.className="language-"+K.value:(W.className="",e.hint.recentLanguage=""),V.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(V.lastElementChild.innerHTML=V.firstElementChild.innerHTML,N(V.lastElementChild,e)),Z(e),1===n.detail&&(t.setStart(W.firstChild,0),t.collapse(!0),(0,I.Hc)(t))},K.onkeydown=function(n){if(!n.isComposing&&!re(e,n)){if("Escape"===n.key&&"block"===e.hint.element.style.display)return e.hint.element.style.display="none",void n.preventDefault();e.hint.select(n,e),(0,c.yl)(n)||n.shiftKey||"Enter"!==n.key||(t.setStart(W.firstChild,0),t.collapse(!0),(0,I.Hc)(t),n.preventDefault(),n.stopPropagation())}},K.onkeyup=function(t){if(!t.isComposing&&"Enter"!==t.key&&"ArrowUp"!==t.key&&"Escape"!==t.key&&"ArrowDown"!==t.key){var n=[],r=K.value.substring(0,K.selectionStart);i.g.CODE_LANGUAGES.forEach((function(e){e.indexOf(r.toLowerCase())>-1&&n.push({html:e,value:e})})),e.hint.genHTML(n,r,e),t.preventDefault()}},e.wysiwyg.popover.insertAdjacentElement("beforeend",F)}oe(e,V)}else V=void 0;if(v){var G;e.wysiwyg.popover.innerHTML="",(G=document.createElement("span")).setAttribute("aria-label","ID<"+(0,c.ns)("⌥Enter")+">"),G.className="vditor-tooltipped vditor-tooltipped__n";var X=document.createElement("input");G.appendChild(X),X.className="vditor-input",X.setAttribute("placeholder","ID<"+(0,c.ns)("⌥Enter")+">"),X.style.width="120px",X.value=v.getAttribute("data-id")||"",X.oninput=function(){v.setAttribute("data-id",X.value)},X.onkeydown=function(n){if(!n.isComposing)return(0,c.yl)(n)||n.shiftKey||!n.altKey||"Enter"!==n.key?void re(e,n):(t.selectNodeContents(v),t.collapse(!1),(0,I.Hc)(t),void n.preventDefault())},se(t,v,e),le(t,v,e),ce(v,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",G),oe(e,v)}if(h&&ue(e,h),!(w||o||m||V||h||$||U||v||g)){var Y=(0,b.a1)(n,"data-block","0");Y&&Y.parentElement.isEqualNode(e.wysiwyg.element)?(e.wysiwyg.popover.innerHTML="",se(t,Y,e),le(t,Y,e),ce(Y,e),oe(e,Y)):e.wysiwyg.popover.style.display="none"}e.wysiwyg.element.querySelectorAll('span[data-type="backslash"] > span').forEach((function(e){e.style.display="none"}));var J=(0,b.a1)(t.startContainer,"data-type","backslash");J&&(J.querySelector("span").style.display="inline")}}),200)},oe=function(e,t){var n=t,r=(0,b.lG)(t,"TABLE");r&&(n=r),e.wysiwyg.popover.style.left="0",e.wysiwyg.popover.style.display="block",e.wysiwyg.popover.style.top=Math.max(-8,n.offsetTop-21-e.wysiwyg.element.scrollTop)+"px",e.wysiwyg.popover.style.left=Math.min(n.offsetLeft,e.wysiwyg.element.clientWidth-e.wysiwyg.popover.clientWidth)+"px",e.wysiwyg.popover.setAttribute("data-top",(n.offsetTop-21).toString())},ae=function(e,t){e.wysiwyg.popover.innerHTML="";var n=function(){""!==i.value.trim()&&("IMG"===t.tagName?t.setAttribute("alt",i.value):t.textContent=i.value),""!==a.value.trim()&&t.setAttribute("data-link-label",a.value)},r=document.createElement("span");r.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),r.className="vditor-tooltipped vditor-tooltipped__n";var i=document.createElement("input");r.appendChild(i),i.className="vditor-input",i.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),i.style.width="120px",i.value=t.getAttribute("alt")||t.textContent,i.oninput=function(){n()},i.onkeydown=function(n){re(e,n)||de(e,t,n,a)};var o=document.createElement("span");o.setAttribute("aria-label",window.VditorI18n.linkRef),o.className="vditor-tooltipped vditor-tooltipped__n";var a=document.createElement("input");o.appendChild(a),a.className="vditor-input",a.setAttribute("placeholder",window.VditorI18n.linkRef),a.value=t.getAttribute("data-link-label"),a.oninput=function(){n()},a.onkeydown=function(n){re(e,n)||de(e,t,n,i)},ce(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",r),e.wysiwyg.popover.insertAdjacentElement("beforeend",o),oe(e,t)},se=function(e,t,n){var r=t.previousElementSibling;if(r&&(t.parentElement.isEqualNode(n.wysiwyg.element)||"LI"===t.tagName)){var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("data-type","up"),i.setAttribute("aria-label",window.VditorI18n.up+"<"+(0,c.ns)("⇧⌘U")+">"),i.innerHTML='<svg><use xlink:href="#vditor-icon-up"></use></svg>',i.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",i.onclick=function(){e.insertNode(document.createElement("wbr")),r.insertAdjacentElement("beforebegin",t),(0,I.ib)(n.wysiwyg.element,e),Z(n),ie(n),Te(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",i)}},le=function(e,t,n){var r=t.nextElementSibling;if(r&&(t.parentElement.isEqualNode(n.wysiwyg.element)||"LI"===t.tagName)){var i=document.createElement("button");i.setAttribute("type","button"),i.setAttribute("data-type","down"),i.setAttribute("aria-label",window.VditorI18n.down+"<"+(0,c.ns)("⇧⌘D")+">"),i.innerHTML='<svg><use xlink:href="#vditor-icon-down"></use></svg>',i.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",i.onclick=function(){e.insertNode(document.createElement("wbr")),r.insertAdjacentElement("afterend",t),(0,I.ib)(n.wysiwyg.element,e),Z(n),ie(n),Te(n)},n.wysiwyg.popover.insertAdjacentElement("beforeend",i)}},ce=function(e,t){var n=document.createElement("button");n.setAttribute("type","button"),n.setAttribute("data-type","remove"),n.setAttribute("aria-label",window.VditorI18n.remove+"<"+(0,c.ns)("⇧⌘X")+">"),n.innerHTML='<svg><use xlink:href="#vditor-icon-trashcan"></use></svg>',n.className="vditor-icon vditor-tooltipped vditor-tooltipped__n",n.onclick=function(){var n=(0,I.zh)(t);n.setStartAfter(e),(0,I.Hc)(n),e.remove(),Z(t),ie(t),["H1","H2","H3","H4","H5","H6"].includes(e.tagName)&&O(t)},t.wysiwyg.popover.insertAdjacentElement("beforeend",n)},de=function(e,t,n,r){if(!n.isComposing){if("Tab"===n.key)return r.focus(),r.select(),void n.preventDefault();if(!(0,c.yl)(n)&&!n.shiftKey&&n.altKey&&"Enter"===n.key){var o=(0,I.zh)(e);t.insertAdjacentHTML("afterend",i.g.ZWSP),o.setStartAfter(t.nextSibling),o.collapse(!0),(0,I.Hc)(o),n.preventDefault()}}},ue=function(e,t){e.wysiwyg.popover.innerHTML="";var n=function(){""!==i.value.trim()&&(t.innerHTML=i.value),t.setAttribute("href",a.value),t.setAttribute("title",l.value),Z(e)};t.querySelectorAll("[data-marker]").forEach((function(e){e.removeAttribute("data-marker")}));var r=document.createElement("span");r.setAttribute("aria-label",window.VditorI18n.textIsNotEmpty),r.className="vditor-tooltipped vditor-tooltipped__n";var i=document.createElement("input");r.appendChild(i),i.className="vditor-input",i.setAttribute("placeholder",window.VditorI18n.textIsNotEmpty),i.style.width="120px",i.value=t.innerHTML||"",i.oninput=function(){n()},i.onkeydown=function(n){re(e,n)||de(e,t,n,a)};var o=document.createElement("span");o.setAttribute("aria-label",window.VditorI18n.link),o.className="vditor-tooltipped vditor-tooltipped__n";var a=document.createElement("input");o.appendChild(a),a.className="vditor-input",a.setAttribute("placeholder",window.VditorI18n.link),a.value=t.getAttribute("href")||"",a.oninput=function(){n()},a.onkeydown=function(n){re(e,n)||de(e,t,n,l)};var s=document.createElement("span");s.setAttribute("aria-label",window.VditorI18n.tooltipText),s.className="vditor-tooltipped vditor-tooltipped__n";var l=document.createElement("input");s.appendChild(l),l.className="vditor-input",l.setAttribute("placeholder",window.VditorI18n.tooltipText),l.style.width="60px",l.value=t.getAttribute("title")||"",l.oninput=function(){n()},l.onkeydown=function(n){re(e,n)||de(e,t,n,i)},ce(t,e),e.wysiwyg.popover.insertAdjacentElement("beforeend",r),e.wysiwyg.popover.insertAdjacentElement("beforeend",o),e.wysiwyg.popover.insertAdjacentElement("beforeend",s),oe(e,t)},pe=function(e){"wysiwyg"===e.currentMode?ie(e):"ir"===e.currentMode&&X(e)},fe=function(e,t,n){void 0===n&&(n={enableAddUndoStack:!0,enableHint:!1,enableInput:!0});var r=e.wysiwyg.element;r.innerHTML=e.lute.Md2VditorDOM(t),r.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach((function(t){N(t,e),t.previousElementSibling.setAttribute("style","display:none")})),Z(e,n)},he=function(e,t,n){for(var r=e.startContainer.parentElement,o=!1,a="",s="",l=function(e){var t=J(e.startContainer),n=Y(e.startContainer),r=e.startContainer.textContent,o=e.startOffset,a="",s="";return(""!==r.substr(0,o)&&r.substr(0,o)!==i.g.ZWSP||t)&&(a=""+t+r.substr(0,o)),(""!==r.substr(o)&&r.substr(o)!==i.g.ZWSP||n)&&(s=""+r.substr(o)+n),{afterHTML:s,beforeHTML:a}}(e),c=l.beforeHTML,d=l.afterHTML;r&&!o;){var u=r.tagName;if("STRIKE"===u&&(u="S"),"I"===u&&(u="EM"),"B"===u&&(u="STRONG"),"S"===u||"STRONG"===u||"EM"===u){var p="",f="",h="";"0"!==r.parentElement.getAttribute("data-block")&&(f=J(r),h=Y(r)),(c||f)&&(c=p=f+"<"+u+">"+c+"</"+u+">"),("bold"===n&&"STRONG"===u||"italic"===n&&"EM"===u||"strikeThrough"===n&&"S"===u)&&(p+=""+a+i.g.ZWSP+"<wbr>"+s,o=!0),(d||h)&&(p+=d="<"+u+">"+d+"</"+u+">"+h),"0"!==r.parentElement.getAttribute("data-block")?(r=r.parentElement).innerHTML=p:(r.outerHTML=p,r=r.parentElement),a="<"+u+">"+a,s="</"+u+">"+s}else o=!0}(0,I.ib)(t.wysiwyg.element,e)},me=function(e,t){var n,r=this;this.element=document.createElement("div"),t.className&&(n=this.element.classList).add.apply(n,t.className.split(" "));var o=t.hotkey?" <"+(0,c.ns)(t.hotkey)+">":"";2===t.level&&(o=t.hotkey?" &lt;"+(0,c.ns)(t.hotkey)+"&gt;":"");var a=t.tip?t.tip+o:""+window.VditorI18n[t.name]+o,s="upload"===t.name?"div":"button";if(2===t.level)this.element.innerHTML="<"+s+' data-type="'+t.name+'">'+a+"</"+s+">";else{this.element.classList.add("vditor-toolbar__item");var l=document.createElement(s);l.setAttribute("data-type",t.name),l.className="vditor-tooltipped vditor-tooltipped__"+t.tipPosition,l.setAttribute("aria-label",a),l.innerHTML=t.icon,this.element.appendChild(l)}t.prefix&&this.element.children[0].addEventListener((0,c.Le)(),(function(n){n.preventDefault(),r.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)||("wysiwyg"===e.currentMode?function(e,t,n){if(!(e.wysiwyg.composingLock&&n instanceof CustomEvent)){var r=!0,o=!0;e.wysiwyg.element.querySelector("wbr")&&e.wysiwyg.element.querySelector("wbr").remove();var a=(0,I.zh)(e),s=t.getAttribute("data-type");if(t.classList.contains("vditor-menu--current"))if("strike"===s&&(s="strikeThrough"),"quote"===s){var l=(0,b.lG)(a.startContainer,"BLOCKQUOTE");l||(l=a.startContainer.childNodes[a.startOffset]),l&&(r=!1,t.classList.remove("vditor-menu--current"),a.insertNode(document.createElement("wbr")),l.outerHTML=""===l.innerHTML.trim()?'<p data-block="0">'+l.innerHTML+"</p>":l.innerHTML,(0,I.ib)(e.wysiwyg.element,a))}else if("inline-code"===s){var c=(0,b.lG)(a.startContainer,"CODE");c||(c=a.startContainer.childNodes[a.startOffset]),c&&(c.outerHTML=c.innerHTML.replace(i.g.ZWSP,"")+"<wbr>",(0,I.ib)(e.wysiwyg.element,a))}else"link"===s?a.collapsed?(a.selectNode(a.startContainer.parentElement),document.execCommand("unlink",!1,"")):document.execCommand("unlink",!1,""):"check"===s||"list"===s||"ordered-list"===s?(tt(e,a,s),(0,I.ib)(e.wysiwyg.element,a),r=!1,t.classList.remove("vditor-menu--current")):(r=!1,t.classList.remove("vditor-menu--current"),""===a.toString()?he(a,e,s):document.execCommand(s,!1,""));else{0===e.wysiwyg.element.childNodes.length&&(e.wysiwyg.element.innerHTML='<p data-block="0"><wbr></p>',(0,I.ib)(e.wysiwyg.element,a));var u=(0,b.F9)(a.startContainer);if("quote"===s){if(u||(u=a.startContainer.childNodes[a.startOffset]),u){r=!1,t.classList.add("vditor-menu--current"),a.insertNode(document.createElement("wbr"));var p=(0,b.lG)(a.startContainer,"LI");p&&u.contains(p)?p.innerHTML='<blockquote data-block="0">'+p.innerHTML+"</blockquote>":u.outerHTML='<blockquote data-block="0">'+u.outerHTML+"</blockquote>",(0,I.ib)(e.wysiwyg.element,a)}}else if("check"===s||"list"===s||"ordered-list"===s)tt(e,a,s,!1),(0,I.ib)(e.wysiwyg.element,a),r=!1,d(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current");else if("inline-code"===s){if(""===a.toString())(f=document.createElement("code")).textContent=i.g.ZWSP,a.insertNode(f),a.setStart(f.firstChild,1),a.collapse(!0),(0,I.Hc)(a);else if(3===a.startContainer.nodeType){var f=document.createElement("code");a.surroundContents(f),a.insertNode(f),(0,I.Hc)(a)}t.classList.add("vditor-menu--current")}else if("code"===s)(f=document.createElement("div")).className="vditor-wysiwyg__block",f.setAttribute("data-type","code-block"),f.setAttribute("data-block","0"),f.setAttribute("data-marker","```"),""===a.toString()?f.innerHTML="<pre><code><wbr>\n</code></pre>":(f.innerHTML="<pre><code>"+a.toString()+"<wbr></code></pre>",a.deleteContents()),a.insertNode(f),u&&(u.outerHTML=e.lute.SpinVditorDOM(u.outerHTML)),(0,I.ib)(e.wysiwyg.element,a),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach((function(t){N(t,e)})),t.classList.add("vditor-menu--disabled");else if("link"===s){if(""===a.toString()){var h=document.createElement("a");h.innerText=i.g.ZWSP,a.insertNode(h),a.setStart(h.firstChild,1),a.collapse(!0),ue(e,h);var m=e.wysiwyg.popover.querySelector("input");m.value="",m.focus(),o=!1}else{(f=document.createElement("a")).setAttribute("href",""),f.innerHTML=a.toString(),a.surroundContents(f),a.insertNode(f),(0,I.Hc)(a),ue(e,f);var v=e.wysiwyg.popover.querySelectorAll("input");v[0].value=f.innerText,v[1].focus()}r=!1,t.classList.add("vditor-menu--current")}else if("table"===s){var g='<table data-block="0"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>';if(""===a.toString().trim())u&&""===u.innerHTML.trim().replace(i.g.ZWSP,"")?u.outerHTML=g:document.execCommand("insertHTML",!1,g),a.selectNode(e.wysiwyg.element.querySelector("wbr").previousSibling),e.wysiwyg.element.querySelector("wbr").remove(),(0,I.Hc)(a);else{g='<table data-block="0"><thead><tr>';var y=a.toString().split("\n"),w=y[0].split(",").length>y[0].split("\t").length?",":"\t";y.forEach((function(e,t){0===t?(e.split(w).forEach((function(e,t){g+=0===t?"<th>"+e+"<wbr></th>":"<th>"+e+"</th>"})),g+="</tr></thead>"):(g+=1===t?"<tbody><tr>":"<tr>",e.split(w).forEach((function(e){g+="<td>"+e+"</td>"})),g+="</tr>")})),g+="</tbody></table>",document.execCommand("insertHTML",!1,g),(0,I.ib)(e.wysiwyg.element,a)}r=!1,t.classList.add("vditor-menu--disabled")}else if("line"===s){if(u){var k='<hr data-block="0"><p data-block="0"><wbr>\n</p>';""===u.innerHTML.trim()?u.outerHTML=k:u.insertAdjacentHTML("afterend",k),(0,I.ib)(e.wysiwyg.element,a)}}else if(r=!1,t.classList.add("vditor-menu--current"),"strike"===s&&(s="strikeThrough"),""!==a.toString()||"bold"!==s&&"italic"!==s&&"strikeThrough"!==s)document.execCommand(s,!1,"");else{var x="strong";"italic"===s?x="em":"strikeThrough"===s&&(x="s"),(f=document.createElement(x)).textContent=i.g.ZWSP,a.insertNode(f),f.previousSibling&&f.previousSibling.textContent===i.g.ZWSP&&(f.previousSibling.textContent=""),a.setStart(f.firstChild,1),a.collapse(!0),(0,I.Hc)(a)}}r&&ie(e),o&&Z(e)}}(e,r.element.children[0],n):"ir"===e.currentMode?Lt(e,r.element.children[0],t.prefix||"",t.suffix||""):De(e,r.element.children[0],t.prefix||"",t.suffix||""))}))},ve=(K=function(e,t){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},K(e,t)},function(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ge=function(e,t,n){var r;if("string"!=typeof n?(v(e,["subToolbar","hint"]),n.preventDefault(),r=a(e)):r=n,e.currentMode!==t||"string"==typeof n){if(e.devtools&&e.devtools.renderEchart(e),"both"===e.options.preview.mode&&"sv"===t?e.preview.element.style.display="block":e.preview.element.style.display="none",p(e.toolbar.elements,i.g.EDIT_TOOLBARS),d(e.toolbar.elements,i.g.EDIT_TOOLBARS),f(e.toolbar.elements,["outdent","indent"]),"ir"===t)h(e.toolbar.elements,["both"]),m(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="block",e.lute.SetVditorIR(!0),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!1),e.currentMode="ir",e.ir.element.innerHTML=e.lute.Md2VditorIRDOM(r),St(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),V(e),e.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach((function(t){N(t,e)})),e.ir.element.querySelectorAll(".vditor-toc").forEach((function(t){(0,C.H)(t,{cdn:e.options.cdn,math:e.options.preview.math})}));else if("wysiwyg"===t)h(e.toolbar.elements,["both"]),m(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.sv.element.style.display="none",e.wysiwyg.element.parentElement.style.display="block",e.ir.element.parentElement.style.display="none",e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!0),e.lute.SetVditorSV(!1),e.currentMode="wysiwyg",V(e),fe(e,r,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),e.wysiwyg.element.querySelectorAll(".vditor-toc").forEach((function(t){(0,C.H)(t,{cdn:e.options.cdn,math:e.options.preview.math})})),e.wysiwyg.popover.style.display="none";else if("sv"===t){m(e.toolbar.elements,["both"]),h(e.toolbar.elements,["outdent","indent","outline","insert-before","insert-after"]),e.wysiwyg.element.parentElement.style.display="none",e.ir.element.parentElement.style.display="none",("both"===e.options.preview.mode||"editor"===e.options.preview.mode)&&(e.sv.element.style.display="block"),e.lute.SetVditorIR(!1),e.lute.SetVditorWYSIWYG(!1),e.lute.SetVditorSV(!0),e.currentMode="sv";var o=Ne(r,e);"<div data-block='0'></div>"===o&&(o=""),e.sv.element.innerHTML=o,Oe(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),V(e)}e.undo.resetIcon(e),"string"!=typeof n&&(e[e.currentMode].element.focus(),pe(e)),O(e),q(e),e.toolbar.elements["edit-mode"]&&(e.toolbar.elements["edit-mode"].querySelectorAll("button").forEach((function(e){e.classList.remove("vditor-menu--current")})),e.toolbar.elements["edit-mode"].querySelector('button[data-mode="'+e.currentMode+'"]').classList.add("vditor-menu--current")),e.outline.toggle(e,"sv"!==e.currentMode&&e.options.outline.enable)}},be=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=document.createElement("div");return i.className="vditor-hint"+(2===n.level?"":" vditor-panel--arrow"),i.innerHTML='<button data-mode="wysiwyg">'+window.VditorI18n.wysiwyg+" &lt;"+(0,c.ns)("⌥⌘7")+'></button>\n<button data-mode="ir">'+window.VditorI18n.instantRendering+" &lt;"+(0,c.ns)("⌥⌘8")+'></button>\n<button data-mode="sv">'+window.VditorI18n.splitView+" &lt;"+(0,c.ns)("⌥⌘9")+"></button>",r.element.appendChild(i),r._bindEvent(t,i,n),r}return ve(t,e),t.prototype._bindEvent=function(e,t,n){var r=this.element.children[0];g(e,t,r,n.level),t.children.item(0).addEventListener((0,c.Le)(),(function(t){ge(e,"wysiwyg",t),t.preventDefault(),t.stopPropagation()})),t.children.item(1).addEventListener((0,c.Le)(),(function(t){ge(e,"ir",t),t.preventDefault(),t.stopPropagation()})),t.children.item(2).addEventListener((0,c.Le)(),(function(t){ge(e,"sv",t),t.preventDefault(),t.stopPropagation()}))},t}(me),ye=function(e,t){return(0,I.Gb)(e,t)?getSelection().toString():""},we=function(e,t){t.addEventListener("focus",(function(){e.options.focus&&e.options.focus(a(e)),v(e,["subToolbar","hint"])}))},ke=function(e,t){t.addEventListener("dblclick",(function(t){"IMG"===t.target.tagName&&(0,B.E)(t.target,e.options.lang,e.options.theme)}))},xe=function(e,t){t.addEventListener("blur",(function(t){if("ir"===e.currentMode){var n=e.ir.element.querySelector(".vditor-ir__node--expand");n&&n.classList.remove("vditor-ir__node--expand")}else"wysiwyg"!==e.currentMode||e.wysiwyg.selectPopover.contains(t.relatedTarget)||e.wysiwyg.hideComment();e[e.currentMode].range=(0,I.zh)(e),e.options.blur&&e.options.blur(a(e))}))},Ee=function(e,t){t.addEventListener("dragstart",(function(e){e.dataTransfer.setData(i.g.DROP_EDITOR,i.g.DROP_EDITOR)})),t.addEventListener("drop",(function(t){t.dataTransfer.getData(i.g.DROP_EDITOR)?st(e):(t.dataTransfer.types.includes("Files")||t.dataTransfer.types.includes("text/html"))&&Et(e,t,{pasteCode:function(e){document.execCommand("insertHTML",!1,e)}})}))},_e=function(e,t,n){t.addEventListener("copy",(function(t){return n(t,e)}))},Se=function(e,t,n){t.addEventListener("cut",(function(t){n(t,e),e.options.comment.enable&&"wysiwyg"===e.currentMode&&e.wysiwyg.getComments(e),document.execCommand("delete")}))},Te=function(e){if("wysiwyg"===e.currentMode&&e.options.comment.enable&&e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)),e.options.typewriterMode){var t=e[e.currentMode].element,n=(0,I.Ny)(t).top;"auto"!==e.options.height||e.element.classList.contains("vditor--fullscreen")||window.scrollTo(window.scrollX,n+e.element.offsetTop+e.toolbar.element.offsetHeight-window.innerHeight/2+10),("auto"!==e.options.height||e.element.classList.contains("vditor--fullscreen"))&&(t.scrollTop=n+t.scrollTop-t.clientHeight/2+10)}},Ce=function(e,t){t.addEventListener("keydown",(function(t){if(!(e.options.hint.extend.length>1||e.toolbar.elements.emoji)||!e.hint.select(t,e)){if(e.options.comment.enable&&"wysiwyg"===e.currentMode&&("Backspace"===t.key||P("⌘X",t))&&e.wysiwyg.getComments(e),"sv"===e.currentMode){if(function(e,t){var n,r,i,o,a;if(e.sv.composingLock=t.isComposing,t.isComposing)return!1;if(-1!==t.key.indexOf("Arrow")||"Meta"===t.key||"Control"===t.key||"Alt"===t.key||"Shift"===t.key||"CapsLock"===t.key||"Escape"===t.key||/^F\d{1,2}$/.test(t.key)||e.undo.recordFirstPosition(e,t),"Enter"!==t.key&&"Tab"!==t.key&&"Backspace"!==t.key&&-1===t.key.indexOf("Arrow")&&!(0,c.yl)(t)&&"Escape"!==t.key)return!1;var s=(0,I.zh)(e),l=s.startContainer;3!==s.startContainer.nodeType&&"DIV"===s.startContainer.tagName&&(l=s.startContainer.childNodes[s.startOffset-1]);var d=(0,b.a1)(l,"data-type","text"),u=(0,b.a1)(l,"data-type","blockquote-marker");if(!u&&0===s.startOffset&&d&&d.previousElementSibling&&"blockquote-marker"===d.previousElementSibling.getAttribute("data-type")&&(u=d.previousElementSibling),u&&"Enter"===t.key&&!(0,c.yl)(t)&&!t.altKey&&""===u.nextElementSibling.textContent.trim()&&(0,I.im)(u,e.sv.element,s).start===u.textContent.length)return"padding"===(null===(n=u.previousElementSibling)||void 0===n?void 0:n.getAttribute("data-type"))&&u.previousElementSibling.setAttribute("data-action","enter-remove"),u.remove(),Oe(e),t.preventDefault(),!0;var p=(0,b.a1)(l,"data-type","li-marker"),f=(0,b.a1)(l,"data-type","task-marker"),h=p;if(h||f&&"task-marker"!==f.nextElementSibling.getAttribute("data-type")&&(h=f),h||0!==s.startOffset||!d||!d.previousElementSibling||"li-marker"!==d.previousElementSibling.getAttribute("data-type")&&"task-marker"!==d.previousElementSibling.getAttribute("data-type")||(h=d.previousElementSibling),h){var m=(0,I.im)(h,e.sv.element,s).start,v="task-marker"===h.getAttribute("data-type"),g=h;if(v&&(g=h.previousElementSibling.previousElementSibling.previousElementSibling),m===h.textContent.length){if("Enter"===t.key&&!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey&&""===h.nextElementSibling.textContent.trim())return"padding"===(null===(r=g.previousElementSibling)||void 0===r?void 0:r.getAttribute("data-type"))?(g.previousElementSibling.remove(),$(e)):(v&&(g.remove(),h.previousElementSibling.previousElementSibling.remove(),h.previousElementSibling.remove()),h.nextElementSibling.remove(),h.remove(),Oe(e)),t.preventDefault(),!0;if("Tab"===t.key)return g.insertAdjacentHTML("beforebegin",'<span data-type="padding">'+g.textContent.replace(/\S/g," ")+"</span>"),/^\d/.test(g.textContent)&&(g.textContent=g.textContent.replace(/^\d{1,}/,"1"),s.selectNodeContents(h.firstChild),s.collapse(!1)),$(e),t.preventDefault(),!0}}if(ct(e,s,t))return!0;var w=(0,b.a1)(l,"data-block","0"),k=(0,y.S)(l,"SPAN");if("Enter"===t.key&&!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey&&w){var x=!1,E=w.textContent.match(/^\n+/);(0,I.im)(w,e.sv.element).start<=(E?E[0].length:0)&&(x=!0);var _="\n";if(k){if("enter-remove"===(null===(i=k.previousElementSibling)||void 0===i?void 0:i.getAttribute("data-action")))return k.previousElementSibling.remove(),Oe(e),t.preventDefault(),!0;_+=Ie(k)}return s.insertNode(document.createTextNode(_)),s.collapse(!1),w&&""!==w.textContent.trim()&&!x?$(e):Oe(e),t.preventDefault(),!0}if("Backspace"===t.key&&!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey){if(k&&"newline"===(null===(o=k.previousElementSibling)||void 0===o?void 0:o.getAttribute("data-type"))&&1===(0,I.im)(k,e.sv.element,s).start&&-1===k.getAttribute("data-type").indexOf("code-block-"))return s.setStart(k,0),s.extractContents(),""!==k.textContent.trim()?$(e):Oe(e),t.preventDefault(),!0;if(w&&0===(0,I.im)(w,e.sv.element,s).start&&w.previousElementSibling){s.extractContents();var S=w.previousElementSibling.lastElementChild;return"newline"===S.getAttribute("data-type")&&(S.remove(),S=w.previousElementSibling.lastElementChild),"newline"!==S.getAttribute("data-type")&&(S.insertAdjacentHTML("afterend",w.innerHTML),w.remove()),""===w.textContent.trim()||(null===(a=w.previousElementSibling)||void 0===a?void 0:a.querySelector('[data-type="code-block-open-marker"]'))?("newline"!==S.getAttribute("data-type")&&(s.selectNodeContents(S.lastChild),s.collapse(!1)),Oe(e)):$(e),t.preventDefault(),!0}}return!1}(e,t))return}else if("wysiwyg"===e.currentMode){if(function(e,t){if(e.wysiwyg.composingLock=t.isComposing,t.isComposing)return!1;-1!==t.key.indexOf("Arrow")||"Meta"===t.key||"Control"===t.key||"Alt"===t.key||"Shift"===t.key||"CapsLock"===t.key||"Escape"===t.key||/^F\d{1,2}$/.test(t.key)||e.undo.recordFirstPosition(e,t);var n=(0,I.zh)(e),r=n.startContainer;if(!Ke(t,e,r))return!1;if(We(n,e,t),kt(n),"Enter"!==t.key&&"Tab"!==t.key&&"Backspace"!==t.key&&-1===t.key.indexOf("Arrow")&&!(0,c.yl)(t)&&"Escape"!==t.key&&"Delete"!==t.key)return!1;var o=(0,b.F9)(r),a=(0,b.lG)(r,"P");if(dt(t,e,a,n))return!0;if(lt(n,e,a,t))return!0;if(vt(e,t,n))return!0;var s=(0,b.fb)(r,"vditor-wysiwyg__block");if(s){if("Escape"===t.key&&2===s.children.length)return e.wysiwyg.popover.style.display="none",s.firstElementChild.style.display="none",e.wysiwyg.element.blur(),t.preventDefault(),!0;if(!(0,c.yl)(t)&&!t.shiftKey&&t.altKey&&"Enter"===t.key&&"code-block"===s.getAttribute("data-type")){var l=e.wysiwyg.popover.querySelector(".vditor-input");return l.focus(),l.select(),t.preventDefault(),!0}if("0"===s.getAttribute("data-block")){if(gt(e,t,s.firstElementChild,n))return!0;if(Qe(e,t,n,s.firstElementChild,s))return!0;if("yaml-front-matter"!==s.getAttribute("data-type")&&et(e,t,n,s.firstElementChild,s))return!0}}if(bt(e,n,t,a))return!0;var d=(0,b.E2)(r,"BLOCKQUOTE");if(d&&!t.shiftKey&&t.altKey&&"Enter"===t.key){(0,c.yl)(t)?n.setStartBefore(d):n.setStartAfter(d),(0,I.Hc)(n);var u=document.createElement("p");return u.setAttribute("data-block","0"),u.innerHTML="\n",n.insertNode(u),n.collapse(!0),(0,I.Hc)(n),Z(e),Te(e),t.preventDefault(),!0}var p,f=(0,y.W)(r);if(f){if("H6"===f.tagName&&r.textContent.length===n.startOffset&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&"Enter"===t.key){var h=document.createElement("p");return h.textContent="\n",h.setAttribute("data-block","0"),r.parentElement.insertAdjacentElement("afterend",h),n.setStart(h,0),(0,I.Hc)(n),Z(e),Te(e),t.preventDefault(),!0}var m;if(P("⌘=",t))return(m=parseInt(f.tagName.substr(1),10)-1)>0&&(ee(e,"h"+m),Z(e)),t.preventDefault(),!0;if(P("⌘-",t))return(m=parseInt(f.tagName.substr(1),10)+1)<7&&(ee(e,"h"+m),Z(e)),t.preventDefault(),!0;"Backspace"!==t.key||(0,c.yl)(t)||t.shiftKey||t.altKey||1!==f.textContent.length||te(e)}if(yt(e,n,t))return!0;if(t.altKey&&"Enter"===t.key&&!(0,c.yl)(t)&&!t.shiftKey){var v=(0,b.lG)(r,"A"),g=(0,b.a1)(r,"data-type","link-ref"),w=(0,b.a1)(r,"data-type","footnotes-ref");if(v||g||w||f&&2===f.tagName.length){var k=e.wysiwyg.popover.querySelector("input");k.focus(),k.select()}}if(re(e,t))return!0;if(P("⇧⌘U",t)&&(p=e.wysiwyg.popover.querySelector('[data-type="up"]')))return p.click(),t.preventDefault(),!0;if(P("⇧⌘D",t)&&(p=e.wysiwyg.popover.querySelector('[data-type="down"]')))return p.click(),t.preventDefault(),!0;if(ct(e,n,t))return!0;if(!(0,c.yl)(t)&&t.shiftKey&&!t.altKey&&"Enter"===t.key&&"LI"!==r.parentElement.tagName&&"P"!==r.parentElement.tagName)return["STRONG","STRIKE","S","I","EM","B"].includes(r.parentElement.tagName)?n.insertNode(document.createTextNode("\n"+i.g.ZWSP)):n.insertNode(document.createTextNode("\n")),n.collapse(!1),(0,I.Hc)(n),Z(e),Te(e),t.preventDefault(),!0;if("Backspace"===t.key&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&""===n.toString()){if(wt(e,n,t,a))return!0;if(o){if(o.previousElementSibling&&o.previousElementSibling.classList.contains("vditor-wysiwyg__block")&&"0"===o.previousElementSibling.getAttribute("data-block")&&"UL"!==o.tagName&&"OL"!==o.tagName){var x=(0,I.im)(o,e.wysiwyg.element,n).start;if(0===x&&0===n.startOffset||1===x&&o.innerText.startsWith(i.g.ZWSP))return ne(o.previousElementSibling.lastElementChild,e,!1),""===o.innerHTML.trim().replace(i.g.ZWSP,"")&&(o.remove(),Z(e)),t.preventDefault(),!0}var E=n.startOffset;if(""===n.toString()&&3===r.nodeType&&"\n"===r.textContent.charAt(E-2)&&r.textContent.charAt(E-1)!==i.g.ZWSP&&["STRONG","STRIKE","S","I","EM","B"].includes(r.parentElement.tagName))return r.textContent=r.textContent.substring(0,E-1)+i.g.ZWSP,n.setStart(r,E),n.collapse(!0),Z(e),t.preventDefault(),!0;r.textContent===i.g.ZWSP&&1===n.startOffset&&!r.previousSibling&&function(e){for(var t=e.startContainer.nextSibling;t&&""===t.textContent;)t=t.nextSibling;return!(!t||3===t.nodeType||"CODE"!==t.tagName&&"math-inline"!==t.getAttribute("data-type")&&"html-entity"!==t.getAttribute("data-type")&&"html-inline"!==t.getAttribute("data-type"))}(n)&&(r.textContent=""),o.querySelectorAll("span.vditor-wysiwyg__block[data-type='math-inline']").forEach((function(e){e.firstElementChild.style.display="inline",e.lastElementChild.style.display="none"})),o.querySelectorAll("span.vditor-wysiwyg__block[data-type='html-entity']").forEach((function(e){e.firstElementChild.style.display="inline",e.lastElementChild.style.display="none"}))}}if((0,c.vU)()&&1===n.startOffset&&r.textContent.indexOf(i.g.ZWSP)>-1&&r.previousSibling&&3!==r.previousSibling.nodeType&&"CODE"===r.previousSibling.tagName&&("Backspace"===t.key||"ArrowLeft"===t.key))return n.selectNodeContents(r.previousSibling),n.collapse(!1),t.preventDefault(),!0;if(xt(t,o,n))return t.preventDefault(),!0;if(Ge(n,t.key),"ArrowDown"===t.key){var _=r.nextSibling;_&&3!==_.nodeType&&"math-inline"===_.getAttribute("data-type")&&n.setStartAfter(_)}return!(!o||!D(o,e,t,n)||(t.preventDefault(),0))}(e,t))return}else if("ir"===e.currentMode&&function(e,t){if(e.ir.composingLock=t.isComposing,t.isComposing)return!1;-1!==t.key.indexOf("Arrow")||"Meta"===t.key||"Control"===t.key||"Alt"===t.key||"Shift"===t.key||"CapsLock"===t.key||"Escape"===t.key||/^F\d{1,2}$/.test(t.key)||e.undo.recordFirstPosition(e,t);var n=(0,I.zh)(e),r=n.startContainer;if(!Ke(t,e,r))return!1;if(We(n,e,t),kt(n),"Enter"!==t.key&&"Tab"!==t.key&&"Backspace"!==t.key&&-1===t.key.indexOf("Arrow")&&!(0,c.yl)(t)&&"Escape"!==t.key&&"Delete"!==t.key)return!1;var o=(0,b.a1)(r,"data-newline","1");if(!(0,c.yl)(t)&&!t.altKey&&!t.shiftKey&&"Enter"===t.key&&o&&n.startOffset<o.textContent.length){var a=o.previousElementSibling;a&&(n.insertNode(document.createTextNode(a.textContent)),n.collapse(!1));var s=o.nextSibling;s&&(n.insertNode(document.createTextNode(s.textContent)),n.collapse(!0))}var l=(0,b.lG)(r,"P");if(dt(t,e,l,n))return!0;if(lt(n,e,l,t))return!0;if(bt(e,n,t,l))return!0;var d=(0,b.fb)(r,"vditor-ir__marker--pre");if(d&&"PRE"===d.tagName){var u=d.firstChild;if(gt(e,t,d,n))return!0;if(("math-block"===u.getAttribute("data-type")||"html-block"===u.getAttribute("data-type"))&&et(e,t,n,u,d.parentElement))return!0;if(Qe(e,t,n,u,d.parentElement))return!0}var p=(0,b.a1)(r,"data-type","code-block-info");if(p){if("Enter"===t.key||"Tab"===t.key)return n.selectNodeContents(p.nextElementSibling.firstChild),n.collapse(!0),t.preventDefault(),v(e,["hint"]),!0;if("Backspace"===t.key){var f=(0,I.im)(p,e.ir.element).start;1===f&&n.setStart(r,0),2===f&&(e.hint.recentLanguage="")}if(et(e,t,n,p,p.parentElement))return v(e,["hint"]),!0}var h=(0,b.lG)(r,"TD")||(0,b.lG)(r,"TH");if(t.key.indexOf("Arrow")>-1&&h){var m=Ze(h);if(m&&et(e,t,n,h,m))return!0;var g=Ye(h);if(g&&Qe(e,t,n,h,g))return!0}if(vt(e,t,n))return!0;if(yt(e,n,t))return!0;if(ct(e,n,t))return!0;var w=(0,y.W)(r);if(w){var k;if(P("⌘=",t))return(k=w.querySelector(".vditor-ir__marker--heading"))&&k.textContent.trim().length>1&&Tt(e,k.textContent.substr(1)),t.preventDefault(),!0;if(P("⌘-",t))return(k=w.querySelector(".vditor-ir__marker--heading"))&&k.textContent.trim().length<6&&Tt(e,k.textContent.trim()+"# "),t.preventDefault(),!0}var x=(0,b.F9)(r);if("Backspace"===t.key&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&""===n.toString()){if(wt(e,n,t,l))return!0;if(x&&x.previousElementSibling&&"UL"!==x.tagName&&"OL"!==x.tagName&&("code-block"===x.previousElementSibling.getAttribute("data-type")||"math-block"===x.previousElementSibling.getAttribute("data-type"))){var E=(0,I.im)(x,e.ir.element,n).start;if(0===E||1===E&&x.innerText.startsWith(i.g.ZWSP))return n.selectNodeContents(x.previousElementSibling.querySelector(".vditor-ir__marker--pre code")),n.collapse(!1),j(n,e),""===x.textContent.trim().replace(i.g.ZWSP,"")&&(x.remove(),St(e)),t.preventDefault(),!0}if(w){var _=w.firstElementChild.textContent.length;(0,I.im)(w,e.ir.element).start===_&&(n.setStart(w.firstElementChild.firstChild,_-1),n.collapse(!0),(0,I.Hc)(n))}}return!(("ArrowUp"!==t.key&&"ArrowDown"!==t.key||!x||(x.querySelectorAll(".vditor-ir__node").forEach((function(e){e.contains(r)||e.classList.add("vditor-ir__node--hidden")})),!xt(t,x,n)))&&(Ge(n,t.key),!x||!D(x,e,t,n)||(t.preventDefault(),0)))}(e,t))return;if(e.options.ctrlEnter&&P("⌘Enter",t))return e.options.ctrlEnter(a(e)),void t.preventDefault();if(P("⌘Z",t)&&!e.toolbar.elements.undo)return e.undo.undo(e),void t.preventDefault();if(P("⌘Y",t)&&!e.toolbar.elements.redo)return e.undo.redo(e),void t.preventDefault();if("Escape"===t.key)return"block"===e.hint.element.style.display?e.hint.element.style.display="none":e.options.esc&&!t.isComposing&&e.options.esc(a(e)),void t.preventDefault();if((0,c.yl)(t)&&t.altKey&&!t.shiftKey&&/^Digit[1-6]$/.test(t.code)){if("wysiwyg"===e.currentMode){var n=t.code.replace("Digit","H");(0,b.lG)(getSelection().getRangeAt(0).startContainer,n)?te(e):ee(e,n),Z(e)}else"sv"===e.currentMode?He(e,"#".repeat(parseInt(t.code.replace("Digit",""),10))+" "):"ir"===e.currentMode&&Tt(e,"#".repeat(parseInt(t.code.replace("Digit",""),10))+" ");return t.preventDefault(),!0}if((0,c.yl)(t)&&t.altKey&&!t.shiftKey&&/^Digit[7-9]$/.test(t.code))return"Digit7"===t.code?ge(e,"wysiwyg",t):"Digit8"===t.code?ge(e,"ir",t):"Digit9"===t.code&&ge(e,"sv",t),!0;e.options.toolbar.find((function(n){return!n.hotkey||n.toolbar?!!n.toolbar&&!!n.toolbar.find((function(n){return!!n.hotkey&&(P(n.hotkey,t)?(e.toolbar.elements[n.name].children[0].dispatchEvent(new CustomEvent((0,c.Le)())),t.preventDefault(),!0):void 0)})):P(n.hotkey,t)?(e.toolbar.elements[n.name].children[0].dispatchEvent(new CustomEvent((0,c.Le)())),t.preventDefault(),!0):void 0}))}}))},Le=function(e,t){t.addEventListener("selectstart",(function(n){t.onmouseup=function(){setTimeout((function(){var t=ye(e[e.currentMode].element);t.trim()?("wysiwyg"===e.currentMode&&e.options.comment.enable&&((0,b.a1)(n.target,"data-type","footnotes-block")||(0,b.a1)(n.target,"data-type","link-ref-defs-block")?e.wysiwyg.hideComment():e.wysiwyg.showComment()),e.options.select&&e.options.select(t)):"wysiwyg"===e.currentMode&&e.options.comment.enable&&e.wysiwyg.hideComment()}))}}))},Ae=function(e,t){var n=(0,I.zh)(e);n.extractContents(),n.insertNode(document.createTextNode(Lute.Caret)),n.insertNode(document.createTextNode(t));var r=(0,b.a1)(n.startContainer,"data-block","0");r||(r=e.sv.element);var i=e.lute.SpinVditorSVDOM(r.textContent);i=i.indexOf('data-type="footnotes-link"')>-1||i.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+i+"</div>":"<div data-block='0'>"+i.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,'<span data-type="newline"><br /><span style="display: none">\n</span></span><span data-type="newline"><br /><span style="display: none">\n</span></span></div><div data-block="0"><')+"</div>",r.isEqualNode(e.sv.element)?r.innerHTML=i:r.outerHTML=i,(0,I.ib)(e.sv.element,n),Te(e)},Me=function(e,t,n){void 0===n&&(n=!0);var r=e;for(3===r.nodeType&&(r=r.parentElement);r;){if(r.getAttribute("data-type")===t)return r;r=n?r.previousElementSibling:r.nextElementSibling}return!1},Ne=function(e,t){w("SpinVditorSVDOM",e,"argument",t.options.debugger);var n=t.lute.SpinVditorSVDOM(e);return e=n.indexOf('data-type="footnotes-link"')>-1||n.indexOf('data-type="link-ref-defs-block"')>-1?"<div data-block='0'>"+n+"</div>":"<div data-block='0'>"+n.replace(/<span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span><span data-type="newline"><br \/><span style="display: none">\n<\/span><\/span></g,'<span data-type="newline"><br /><span style="display: none">\n</span></span><span data-type="newline"><br /><span style="display: none">\n</span></span></div><div data-block="0"><')+"</div>",w("SpinVditorSVDOM",e,"result",t.options.debugger),e},Ie=function(e){var t=e.getAttribute("data-type"),n=e.previousElementSibling,r=t&&"text"!==t&&"table"!==t&&"heading-marker"!==t&&"newline"!==t&&"yaml-front-matter-open-marker"!==t&&"yaml-front-matter-close-marker"!==t&&"code-block-info"!==t&&"code-block-close-marker"!==t&&"code-block-open-marker"!==t?e.textContent:"",i=!1;for("newline"===t&&(i=!0);n&&!i;){var o=n.getAttribute("data-type");if("li-marker"===o||"blockquote-marker"===o||"task-marker"===o||"padding"===o){var a=n.textContent;if("li-marker"!==o||"code-block-open-marker"!==t&&"code-block-info"!==t)if("code-block-close-marker"===t&&n.nextElementSibling.isSameNode(e)){var s=Me(e,"code-block-open-marker");s&&s.previousElementSibling&&(n=s.previousElementSibling,r=a+r)}else r=a+r;else r=a.replace(/\S/g," ")+r}else"newline"===o&&(i=!0);n=n.previousElementSibling}return r},Oe=function(e,t){void 0===t&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&e.hint.render(e),e.preview.render(e);var n=a(e);"function"==typeof e.options.input&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,c.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),clearTimeout(e.sv.processTimeoutId),e.sv.processTimeoutId=window.setTimeout((function(){t.enableAddUndoStack&&!e.sv.composingLock&&e.undo.addToUndoStack(e)}),e.options.undoDelay)},He=function(e,t){var n=(0,I.zh)(e),r=(0,y.S)(n.startContainer,"SPAN");r&&""!==r.textContent.trim()&&(t="\n"+t),n.collapse(!0),document.execCommand("insertHTML",!1,t)},De=function(e,t,n,r){var i=(0,I.zh)(e),o=t.getAttribute("data-type");0===e.sv.element.childNodes.length&&(e.sv.element.innerHTML='<span data-type="p" data-block="0"><span data-type="text"><wbr></span></span><span data-type="newline"><br><span style="display: none">\n</span></span>',(0,I.ib)(e.sv.element,i));var a=(0,b.F9)(i.startContainer),s=(0,y.S)(i.startContainer,"SPAN");if(a){if("link"===o){var l=void 0;return l=""===i.toString()?""+n+Lute.Caret+r:""+n+i.toString()+r.replace(")",Lute.Caret+")"),void document.execCommand("insertHTML",!1,l)}if("italic"===o||"bold"===o||"strike"===o||"inline-code"===o||"code"===o||"table"===o||"line"===o)return l=void 0,l=""===i.toString()?""+n+Lute.Caret+("code"===o?"":r):""+n+i.toString()+Lute.Caret+("code"===o?"":r),"table"===o||"code"===o&&s&&""!==s.textContent?l="\n\n"+l:"line"===o&&(l="\n\n"+n+"\n"+Lute.Caret),void document.execCommand("insertHTML",!1,l);if(("check"===o||"list"===o||"ordered-list"===o||"quote"===o)&&s){var c="* ";"check"===o?c="* [ ] ":"ordered-list"===o?c="1. ":"quote"===o&&(c="> ");var d=Me(s,"newline");return d?d.insertAdjacentText("afterend",c):a.insertAdjacentText("afterbegin",c),void $(e)}(0,I.ib)(e.sv.element,i),Oe(e)}},Re=function(e){switch(e.currentMode){case"ir":return e.ir.element;case"wysiwyg":return e.wysiwyg.element;case"sv":return e.sv.element}},Pe=function(e,t){e.options.upload.setHeaders&&(e.options.upload.headers=e.options.upload.setHeaders()),e.options.upload.headers&&Object.keys(e.options.upload.headers).forEach((function(n){t.setRequestHeader(n,e.options.upload.headers[n])}))},je=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Be=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},$e=function(){this.isUploading=!1,this.element=document.createElement("div"),this.element.className="vditor-upload"},Ue=function(e,t,n){return je(void 0,void 0,void 0,(function(){var r,i,o,a,s,l,c,d,u,p,f,h,m,v;return Be(this,(function(g){switch(g.label){case 0:for(r=[],i=!0===e.options.upload.multiple?t.length:1,h=0;h<i;h++)(o=t[h])instanceof DataTransferItem&&(o=o.getAsFile()),r.push(o);return e.options.upload.handler?[4,e.options.upload.handler(r)]:[3,2];case 1:return a=g.sent(),n&&(n.value=""),"string"==typeof a?(e.tip.show(a),[2]):[2];case 2:return e.options.upload.url&&e.upload?e.options.upload.file?[4,e.options.upload.file(r)]:[3,4]:(n&&(n.value=""),e.tip.show("please config: options.upload.url"),[2]);case 3:r=g.sent(),g.label=4;case 4:if(e.options.upload.validate&&"string"==typeof(a=e.options.upload.validate(r)))return e.tip.show(a),[2];if(s=Re(e),e.upload.range=(0,I.zh)(e),l=function(e,t){e.tip.hide();for(var n=[],r="",i="",o=(e.options.lang,e.options,function(o,a){var s=t[a],l=!0;s.name||(r+="<li>"+window.VditorI18n.nameEmpty+"</li>",l=!1),s.size>e.options.upload.max&&(r+="<li>"+s.name+" "+window.VditorI18n.over+" "+e.options.upload.max/1024/1024+"M</li>",l=!1);var c=s.name.lastIndexOf("."),d=s.name.substr(c),u=e.options.upload.filename(s.name.substr(0,c))+d;e.options.upload.accept&&(e.options.upload.accept.split(",").some((function(e){var t=e.trim();if(0===t.indexOf(".")){if(d.toLowerCase()===t.toLowerCase())return!0}else if(s.type.split("/")[0]===t.split("/")[0])return!0;return!1}))||(r+="<li>"+s.name+" "+window.VditorI18n.fileTypeError+"</li>",l=!1)),l&&(n.push(s),i+="<li>"+u+" "+window.VditorI18n.uploading+"</li>")}),a=t.length,s=0;s<a;s++)o(0,s);return e.tip.show("<ul>"+r+i+"</ul>"),n}(e,r),0===l.length)return n&&(n.value=""),[2];for(c=new FormData,d=e.options.upload.extraData,u=0,p=Object.keys(d);u<p.length;u++)f=p[u],c.append(f,d[f]);for(h=0,m=l.length;h<m;h++)c.append(e.options.upload.fieldName,l[h]);return(v=new XMLHttpRequest).open("POST",e.options.upload.url),e.options.upload.token&&v.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(v.withCredentials=!0),Pe(e,v),e.upload.isUploading=!0,s.setAttribute("contenteditable","false"),v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.DONE){if(e.upload.isUploading=!1,s.setAttribute("contenteditable","true"),v.status>=200&&v.status<300)if(e.options.upload.success)e.options.upload.success(s,v.responseText);else{var r=v.responseText;e.options.upload.format&&(r=e.options.upload.format(t,v.responseText)),function(e,t){Re(t).focus();var n=JSON.parse(e),r="";1===n.code&&(r=""+n.msg),n.data.errFiles&&n.data.errFiles.length>0&&(r="<ul><li>"+r+"</li>",n.data.errFiles.forEach((function(e){var n=e.lastIndexOf("."),i=t.options.upload.filename(e.substr(0,n))+e.substr(n);r+="<li>"+i+" "+window.VditorI18n.uploadError+"</li>"})),r+="</ul>"),r?t.tip.show(r):t.tip.hide();var i="";Object.keys(n.data.succMap).forEach((function(e){var r=n.data.succMap[e],o=e.lastIndexOf("."),a=e.substr(o),s=t.options.upload.filename(e.substr(0,o))+a;0===(a=a.toLowerCase()).indexOf(".wav")||0===a.indexOf(".mp3")||0===a.indexOf(".ogg")?"wysiwyg"===t.currentMode?i+='<div class="vditor-wysiwyg__block" data-type="html-block"\n data-block="0"><pre><code>&lt;audio controls="controls" src="'+r+'"&gt;&lt;/audio&gt;</code></pre><pre class="vditor-wysiwyg__preview" data-render="1"><audio controls="controls" src="'+r+'"></audio></pre></div>\n':"ir"===t.currentMode?i+='<audio controls="controls" src="'+r+'"></audio>\n':i+="["+s+"]("+r+")\n":0===a.indexOf(".apng")||0===a.indexOf(".bmp")||0===a.indexOf(".gif")||0===a.indexOf(".ico")||0===a.indexOf(".cur")||0===a.indexOf(".jpg")||0===a.indexOf(".jpeg")||0===a.indexOf(".jfif")||0===a.indexOf(".pjp")||0===a.indexOf(".pjpeg")||0===a.indexOf(".png")||0===a.indexOf(".svg")||0===a.indexOf(".webp")?"wysiwyg"===t.currentMode?i+='<img alt="'+s+'" src="'+r+'">\n':i+="!["+s+"]("+r+")\n":"wysiwyg"===t.currentMode?i+='<a href="'+r+'">'+s+"</a>\n":i+="["+s+"]("+r+")\n"})),(0,I.Hc)(t.upload.range),document.execCommand("insertHTML",!1,i),t.upload.range=getSelection().getRangeAt(0).cloneRange()}(r,e)}else e.options.upload.error?e.options.upload.error(v.responseText):e.tip.show(v.responseText);n&&(n.value=""),e.upload.element.style.display="none"}},v.upload.onprogress=function(t){if(t.lengthComputable){var n=t.loaded/t.total*100;e.upload.element.style.display="block",e.upload.element.style.width=n+"%"}},v.send(c),[2]}}))}))},ze=function(e,t,n){var r,o=(0,b.F9)(t.startContainer);if(o||(o=e.wysiwyg.element),n&&"formatItalic"!==n.inputType&&"deleteByDrag"!==n.inputType&&"insertFromDrop"!==n.inputType&&"formatBold"!==n.inputType&&"formatRemove"!==n.inputType&&"formatStrikeThrough"!==n.inputType&&"insertUnorderedList"!==n.inputType&&"insertOrderedList"!==n.inputType&&"formatOutdent"!==n.inputType&&"formatIndent"!==n.inputType&&""!==n.inputType||!n){var a=function(e){for(var t=e.previousSibling;t;){if(3!==t.nodeType&&"A"===t.tagName&&!t.previousSibling&&""===t.innerHTML.replace(i.g.ZWSP,"")&&t.nextSibling)return t;t=t.previousSibling}return!1}(t.startContainer);a&&a.remove(),e.wysiwyg.element.querySelectorAll("wbr").forEach((function(e){e.remove()})),t.insertNode(document.createElement("wbr")),o.querySelectorAll("[style]").forEach((function(e){e.removeAttribute("style")})),o.querySelectorAll(".vditor-comment").forEach((function(e){""===e.textContent.trim()&&(e.classList.remove("vditor-comment","vditor-comment--focus"),e.removeAttribute("data-cmtids"))})),null===(r=o.previousElementSibling)||void 0===r||r.querySelectorAll(".vditor-comment").forEach((function(e){""===e.textContent.trim()&&(e.classList.remove("vditor-comment","vditor-comment--focus"),e.removeAttribute("data-cmtids"))}));var s="";"link-ref-defs-block"===o.getAttribute("data-type")&&(o=e.wysiwyg.element);var l,c=o.isEqualNode(e.wysiwyg.element),d=(0,b.a1)(o,"data-type","footnotes-block");if(c)s=o.innerHTML;else{var u=(0,b.O9)(t.startContainer);if(u&&!d){var p=(0,y.S)(t.startContainer,"BLOCKQUOTE");o=p?(0,b.F9)(t.startContainer)||o:u}if(d&&(o=d),s=o.outerHTML,"UL"===o.tagName||"OL"===o.tagName){var f=o.previousElementSibling,h=o.nextElementSibling;!f||"UL"!==f.tagName&&"OL"!==f.tagName||(s=f.outerHTML+s,f.remove()),!h||"UL"!==h.tagName&&"OL"!==h.tagName||(s+=h.outerHTML,h.remove()),s=s.replace("<div><wbr><br></div>","<li><p><wbr><br></p></li>")}o.innerText.startsWith("```")||(e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']").forEach((function(e){e&&!o.isEqualNode(e)&&(s+=e.outerHTML,e.remove())})),e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']").forEach((function(e){e&&!o.isEqualNode(e)&&(s+=e.outerHTML,e.remove())})))}if('<p data-block="0">```<wbr></p>'===(s=s.replace(/<\/(strong|b)><strong data-marker="\W{2}">/g,"").replace(/<\/(em|i)><em data-marker="\W{1}">/g,"").replace(/<\/(s|strike)><s data-marker="~{1,2}">/g,""))&&e.hint.recentLanguage&&(s='<p data-block="0">```<wbr></p>'.replace("```","```"+e.hint.recentLanguage)),w("SpinVditorDOM",s,"argument",e.options.debugger),s=e.lute.SpinVditorDOM(s),w("SpinVditorDOM",s,"result",e.options.debugger),c)o.innerHTML=s;else if(o.outerHTML=s,d){var m=(0,b.E2)(e.wysiwyg.element.querySelector("wbr"),"LI");if(m){var v=e.wysiwyg.element.querySelector('sup[data-type="footnotes-ref"][data-footnotes-label="'+m.getAttribute("data-marker")+'"]');v&&v.setAttribute("aria-label",m.textContent.trim().substr(0,24))}}var g,k=e.wysiwyg.element.querySelectorAll("[data-type='link-ref-defs-block']");k.forEach((function(e,t){0===t?l=e:(l.insertAdjacentHTML("beforeend",e.innerHTML),e.remove())})),k.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",k[0]);var x=e.wysiwyg.element.querySelectorAll("[data-type='footnotes-block']");x.forEach((function(e,t){0===t?g=e:(g.insertAdjacentHTML("beforeend",e.innerHTML),e.remove())})),x.length>0&&e.wysiwyg.element.insertAdjacentElement("beforeend",x[0]),(0,I.ib)(e.wysiwyg.element,t),e.wysiwyg.element.querySelectorAll(".vditor-wysiwyg__preview[data-render='2']").forEach((function(t){N(t,e)})),n&&("deleteContentBackward"===n.inputType||"deleteContentForward"===n.inputType)&&e.options.comment.enable&&(e.wysiwyg.triggerRemoveComment(e),e.options.comment.adjustTop(e.wysiwyg.getComments(e,!0)))}O(e),Z(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})},Ve=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},qe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Fe=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ke=function(e,t,n){if(229===e.keyCode&&""===e.code&&"Unidentified"===e.key&&"sv"!==t.currentMode){var r=(0,b.F9)(n);if(r&&""===r.textContent.trim())return t[t.currentMode].composingLock=!0,!1}return!0},We=function(e,t,n){if(!("Enter"===n.key||"Tab"===n.key||"Backspace"===n.key||n.key.indexOf("Arrow")>-1||(0,c.yl)(n)||"Escape"===n.key||n.shiftKey||n.altKey)){var r=(0,b.lG)(e.startContainer,"P")||(0,b.lG)(e.startContainer,"LI");if(r&&0===(0,I.im)(r,t[t.currentMode].element,e).start){var o=document.createTextNode(i.g.ZWSP);e.insertNode(o),e.setStartAfter(o)}}},Ge=function(e,t){if("ArrowDown"===t||"ArrowUp"===t){var n=(0,b.a1)(e.startContainer,"data-type","math-inline")||(0,b.a1)(e.startContainer,"data-type","html-entity")||(0,b.a1)(e.startContainer,"data-type","html-inline");n&&("ArrowDown"===t&&e.setStartAfter(n.parentElement),"ArrowUp"===t&&e.setStartBefore(n.parentElement))}},Xe=function(e,t){var n=(0,I.zh)(e),r=(0,b.F9)(n.startContainer);r&&(r.insertAdjacentHTML(t,'<p data-block="0">'+i.g.ZWSP+"<wbr>\n</p>"),(0,I.ib)(e[e.currentMode].element,n),pe(e),st(e))},Ze=function(e){var t=(0,b.lG)(e,"TABLE");return!(!t||!t.rows[0].cells[0].isSameNode(e))&&t},Ye=function(e){var t=(0,b.lG)(e,"TABLE");return!(!t||!t.lastElementChild.lastElementChild.lastElementChild.isSameNode(e))&&t},Je=function(e,t,n){void 0===n&&(n=!0);var r=e.previousElementSibling;return r||(r=e.parentElement.previousElementSibling?e.parentElement.previousElementSibling.lastElementChild:"TBODY"===e.parentElement.parentElement.tagName&&e.parentElement.parentElement.previousElementSibling?e.parentElement.parentElement.previousElementSibling.lastElementChild.lastElementChild:null),r&&(t.selectNodeContents(r),n||t.collapse(!1),(0,I.Hc)(t)),r},Qe=function(e,t,n,r,o){var a=(0,I.im)(r,e[e.currentMode].element,n);if("ArrowDown"===t.key&&-1===r.textContent.trimRight().substr(a.start).indexOf("\n")||"ArrowRight"===t.key&&a.start>=r.textContent.trimRight().length){var s=o.nextElementSibling;return!s||s&&("TABLE"===s.tagName||s.getAttribute("data-type"))?(o.insertAdjacentHTML("afterend",'<p data-block="0">'+i.g.ZWSP+"<wbr></p>"),(0,I.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(s),n.collapse(!0),(0,I.Hc)(n)),t.preventDefault(),!0}return!1},et=function(e,t,n,r,o){var a=(0,I.im)(r,e[e.currentMode].element,n);if("ArrowUp"===t.key&&-1===r.textContent.substr(0,a.start).indexOf("\n")||("ArrowLeft"===t.key||"Backspace"===t.key&&""===n.toString())&&0===a.start){var s=o.previousElementSibling;return!s||s&&("TABLE"===s.tagName||s.getAttribute("data-type"))?(o.insertAdjacentHTML("beforebegin",'<p data-block="0">'+i.g.ZWSP+"<wbr></p>"),(0,I.ib)(e[e.currentMode].element,n)):(n.selectNodeContents(s),n.collapse(!1),(0,I.Hc)(n)),t.preventDefault(),!0}return!1},tt=function(e,t,n,r){void 0===r&&(r=!0);var i=(0,b.lG)(t.startContainer,"LI");if(e[e.currentMode].element.querySelectorAll("wbr").forEach((function(e){e.remove()})),t.insertNode(document.createElement("wbr")),r&&i){for(var o="",a=0;a<i.parentElement.childElementCount;a++){var s=i.parentElement.children[a].querySelector("input");s&&s.remove(),o+='<p data-block="0">'+i.parentElement.children[a].innerHTML.trimLeft()+"</p>"}i.parentElement.insertAdjacentHTML("beforebegin",o),i.parentElement.remove()}else if(i)if("check"===n)i.parentElement.querySelectorAll("li").forEach((function(e){e.insertAdjacentHTML("afterbegin",'<input type="checkbox" />'+(0===e.textContent.indexOf(" ")?"":" ")),e.classList.add("vditor-task")}));else{i.querySelector("input")&&i.parentElement.querySelectorAll("li").forEach((function(e){e.querySelector("input").remove(),e.classList.remove("vditor-task")}));var l=void 0;"list"===n?(l=document.createElement("ul")).setAttribute("data-marker","*"):(l=document.createElement("ol")).setAttribute("data-marker","1."),l.setAttribute("data-block","0"),l.setAttribute("data-tight",i.parentElement.getAttribute("data-tight")),l.innerHTML=i.parentElement.innerHTML,i.parentElement.parentNode.replaceChild(l,i.parentElement)}else{var c=(0,b.a1)(t.startContainer,"data-block","0");c||(e[e.currentMode].element.querySelector("wbr").remove(),(c=e[e.currentMode].element.querySelector("p")).innerHTML="<wbr>"),"check"===n?(c.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li class="vditor-task"><input type="checkbox" /> '+c.innerHTML+"</li></ul>"),c.remove()):"list"===n?(c.insertAdjacentHTML("beforebegin",'<ul data-block="0"><li>'+c.innerHTML+"</li></ul>"),c.remove()):"ordered-list"===n&&(c.insertAdjacentHTML("beforebegin",'<ol data-block="0"><li>'+c.innerHTML+"</li></ol>"),c.remove())}},nt=function(e,t,n){var r=t.previousElementSibling;if(t&&r){var i=[t];Array.from(n.cloneContents().children).forEach((function(e,n){3!==e.nodeType&&t&&""!==e.textContent.trim()&&t.getAttribute("data-node-id")===e.getAttribute("data-node-id")&&(0!==n&&i.push(t),t=t.nextElementSibling)})),e[e.currentMode].element.querySelectorAll("wbr").forEach((function(e){e.remove()})),n.insertNode(document.createElement("wbr"));var o=r.parentElement,a="";i.forEach((function(e){var t=e.getAttribute("data-marker");1!==t.length&&(t="1"+t.slice(-1)),a+='<li data-node-id="'+e.getAttribute("data-node-id")+'" data-marker="'+t+'">'+e.innerHTML+"</li>",e.remove()})),r.insertAdjacentHTML("beforeend","<"+o.tagName+' data-block="0">'+a+"</"+o.tagName+">"),"wysiwyg"===e.currentMode?o.outerHTML=e.lute.SpinVditorDOM(o.outerHTML):o.outerHTML=e.lute.SpinVditorIRDOM(o.outerHTML),(0,I.ib)(e[e.currentMode].element,n);var s=(0,b.O9)(n.startContainer);s&&s.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach((function(t){N(t,e),"wysiwyg"===e.currentMode&&t.previousElementSibling.setAttribute("style","display:none")})),st(e),pe(e)}else e[e.currentMode].element.focus()},rt=function(e,t,n,r){var i=(0,b.lG)(t.parentElement,"LI");if(i){e[e.currentMode].element.querySelectorAll("wbr").forEach((function(e){e.remove()})),n.insertNode(document.createElement("wbr"));var o=t.parentElement,a=o.cloneNode(),s=[t];Array.from(n.cloneContents().children).forEach((function(e,n){3!==e.nodeType&&t&&""!==e.textContent.trim()&&t.getAttribute("data-node-id")===e.getAttribute("data-node-id")&&(0!==n&&s.push(t),t=t.nextElementSibling)}));var l=!1,c="";o.querySelectorAll("li").forEach((function(e){l&&(c+=e.outerHTML,e.nextElementSibling||e.previousElementSibling?e.remove():e.parentElement.remove()),e.isSameNode(s[s.length-1])&&(l=!0)})),s.reverse().forEach((function(e){i.insertAdjacentElement("afterend",e)})),c&&(a.innerHTML=c,s[0].insertAdjacentElement("beforeend",a)),"wysiwyg"===e.currentMode?r.outerHTML=e.lute.SpinVditorDOM(r.outerHTML):r.outerHTML=e.lute.SpinVditorIRDOM(r.outerHTML),(0,I.ib)(e[e.currentMode].element,n);var d=(0,b.O9)(n.startContainer);d&&d.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach((function(t){N(t,e),"wysiwyg"===e.currentMode&&t.previousElementSibling.setAttribute("style","display:none")})),st(e),pe(e)}else e[e.currentMode].element.focus()},it=function(e,t){for(var n=getSelection().getRangeAt(0).startContainer.parentElement,r=e.rows[0].cells.length,i=e.rows.length,o=0,a=0;a<i;a++)for(var s=0;s<r;s++)if(e.rows[a].cells[s].isSameNode(n)){o=s;break}for(var l=0;l<i;l++)e.rows[l].cells[o].setAttribute("align",t)},ot=function(e){var t=e.trimRight().split("\n").pop();return""!==t&&(""===t.replace(/ |-/g,"")||""===t.replace(/ |_/g,"")||""===t.replace(/ |\*/g,""))&&t.replace(/ /g,"").length>2&&!(t.indexOf("-")>-1&&-1===t.trimLeft().indexOf(" ")&&e.trimRight().split("\n").length>1)&&0!==t.indexOf("    ")&&0!==t.indexOf("\t")},at=function(e){var t=e.trimRight().split("\n");return 0!==(e=t.pop()).indexOf("    ")&&0!==e.indexOf("\t")&&""!==(e=e.trimLeft())&&0!==t.length&&(""===e.replace(/-/g,"")||""===e.replace(/=/g,""))},st=function(e,t){void 0===t&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),"wysiwyg"===e.currentMode?Z(e,t):"ir"===e.currentMode?St(e,t):"sv"===e.currentMode&&Oe(e,t)},lt=function(e,t,n,r){var o,a=e.startContainer,s=(0,b.lG)(a,"LI");if(s){if(!(0,c.yl)(r)&&!r.altKey&&"Enter"===r.key&&!r.shiftKey&&n&&s.contains(n)&&n.nextElementSibling)return s&&!s.textContent.endsWith("\n")&&s.insertAdjacentText("beforeend","\n"),e.insertNode(document.createTextNode("\n\n")),e.collapse(!1),st(t),r.preventDefault(),!0;if(!((0,c.yl)(r)||r.shiftKey||r.altKey||"Backspace"!==r.key||s.previousElementSibling||""!==e.toString()||0!==(0,I.im)(s,t[t.currentMode].element,e).start))return s.nextElementSibling?(s.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+s.innerHTML+"</p>"),s.remove()):s.parentElement.outerHTML='<p data-block="0"><wbr>'+s.innerHTML+"</p>",(0,I.ib)(t[t.currentMode].element,e),st(t),r.preventDefault(),!0;if(!(0,c.yl)(r)&&!r.shiftKey&&!r.altKey&&"Backspace"===r.key&&""===s.textContent.trim().replace(i.g.ZWSP,"")&&""===e.toString()&&"LI"===(null===(o=s.previousElementSibling)||void 0===o?void 0:o.tagName))return s.previousElementSibling.insertAdjacentText("beforeend","\n\n"),e.selectNodeContents(s.previousElementSibling),e.collapse(!1),s.remove(),(0,I.ib)(t[t.currentMode].element,e),st(t),r.preventDefault(),!0;if(!(0,c.yl)(r)&&!r.altKey&&"Tab"===r.key){var l=!1;if((0===e.startOffset&&(3===a.nodeType&&!a.previousSibling||3!==a.nodeType&&"LI"===a.nodeName)||s.classList.contains("vditor-task")&&1===e.startOffset&&3!==a.previousSibling.nodeType&&"INPUT"===a.previousSibling.tagName)&&(l=!0),l||""!==e.toString())return r.shiftKey?rt(t,s,e,s.parentElement):nt(t,s,e),r.preventDefault(),!0}}return!1},ct=function(e,t,n){if(e.options.tab&&"Tab"===n.key)return n.shiftKey||(""===t.toString()?(t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1)):(t.extractContents(),t.insertNode(document.createTextNode(e.options.tab)),t.collapse(!1))),(0,I.Hc)(t),st(e),n.preventDefault(),!0},dt=function(e,t,n,r){if(n){if(!(0,c.yl)(e)&&!e.altKey&&"Enter"===e.key){var i=String.raw(W||(W=Ve(["",""],["",""])),n.textContent).replace(/\\\|/g,"").trim(),o=i.split("|");if(i.startsWith("|")&&i.endsWith("|")&&o.length>3){var a=o.map((function(){return"---"})).join("|");return a=n.textContent+"\n"+a.substring(3,a.length-3)+"\n|<wbr>",n.outerHTML=t.lute.SpinVditorDOM(a),(0,I.ib)(t[t.currentMode].element,r),st(t),Te(t),e.preventDefault(),!0}if(ot(n.innerHTML)&&n.previousElementSibling){var s="",l=n.innerHTML.trimRight().split("\n");return l.length>1&&(l.pop(),s='<p data-block="0">'+l.join("\n")+"</p>"),n.insertAdjacentHTML("afterend",s+'<hr data-block="0"><p data-block="0"><wbr>\n</p>'),n.remove(),(0,I.ib)(t[t.currentMode].element,r),st(t),Te(t),e.preventDefault(),!0}if(at(n.innerHTML))return"wysiwyg"===t.currentMode?n.outerHTML=t.lute.SpinVditorDOM(n.innerHTML+'<p data-block="0"><wbr>\n</p>'):n.outerHTML=t.lute.SpinVditorIRDOM(n.innerHTML+'<p data-block="0"><wbr>\n</p>'),(0,I.ib)(t[t.currentMode].element,r),st(t),Te(t),e.preventDefault(),!0}if(r.collapsed&&n.previousElementSibling&&"Backspace"===e.key&&!(0,c.yl)(e)&&!e.altKey&&!e.shiftKey&&n.textContent.trimRight().split("\n").length>1&&0===(0,I.im)(n,t[t.currentMode].element,r).start){var d=(0,b.DX)(n.previousElementSibling);return d.textContent.endsWith("\n")||(d.textContent=d.textContent+"\n"),d.parentElement.insertAdjacentHTML("beforeend","<wbr>"+n.innerHTML),n.remove(),(0,I.ib)(t[t.currentMode].element,r),!1}return!1}},ut=function(e,t,n){for(var r="",i=0;i<n.parentElement.childElementCount;i++)r+='<td align="'+n.parentElement.children[i].getAttribute("align")+'"> </td>';"TH"===n.tagName?n.parentElement.parentElement.insertAdjacentHTML("afterend","<tbody><tr>"+r+"</tr></tbody>"):n.parentElement.insertAdjacentHTML("afterend","<tr>"+r+"</tr>"),st(e)},pt=function(e,t,n){for(var r="",i=0;i<n.parentElement.childElementCount;i++)"TH"===n.tagName?r+='<th align="'+n.parentElement.children[i].getAttribute("align")+'"> </th>':r+='<td align="'+n.parentElement.children[i].getAttribute("align")+'"> </td>';if("TH"===n.tagName){n.parentElement.parentElement.insertAdjacentHTML("beforebegin","<thead><tr>"+r+"</tr></thead>"),t.insertNode(document.createElement("wbr"));var o=n.parentElement.innerHTML.replace(/<th>/g,"<td>").replace(/<\/th>/g,"</td>");n.parentElement.parentElement.nextElementSibling.insertAdjacentHTML("afterbegin",o),n.parentElement.parentElement.remove(),(0,I.ib)(e.ir.element,t)}else n.parentElement.insertAdjacentHTML("beforebegin","<tr>"+r+"</tr>");st(e)},ft=function(e,t,n,r){void 0===r&&(r="afterend");for(var i=0,o=n.previousElementSibling;o;)i++,o=o.previousElementSibling;for(var a=0;a<t.rows.length;a++)0===a?t.rows[a].cells[i].insertAdjacentHTML(r,"<th> </th>"):t.rows[a].cells[i].insertAdjacentHTML(r,"<td> </td>");st(e)},ht=function(e,t,n){if("TD"===n.tagName){var r=n.parentElement.parentElement;n.parentElement.previousElementSibling?t.selectNodeContents(n.parentElement.previousElementSibling.lastElementChild):t.selectNodeContents(r.previousElementSibling.lastElementChild.lastElementChild),1===r.childElementCount?r.remove():n.parentElement.remove(),t.collapse(!1),(0,I.Hc)(t),st(e)}},mt=function(e,t,n,r){for(var i=0,o=r.previousElementSibling;o;)i++,o=o.previousElementSibling;(r.previousElementSibling||r.nextElementSibling)&&(t.selectNodeContents(r.previousElementSibling||r.nextElementSibling),t.collapse(!0));for(var a=0;a<n.rows.length;a++){var s=n.rows[a].cells;if(1===s.length){n.remove(),pe(e);break}s[i].remove()}(0,I.Hc)(t),st(e)},vt=function(e,t,n){var r=n.startContainer,i=(0,b.lG)(r,"TD")||(0,b.lG)(r,"TH");if(i){if(!(0,c.yl)(t)&&!t.altKey&&"Enter"===t.key){i.lastElementChild&&(!i.lastElementChild||i.lastElementChild.isSameNode(i.lastChild)&&"BR"===i.lastElementChild.tagName)||i.insertAdjacentHTML("beforeend","<br>");var o=document.createElement("br");return n.insertNode(o),n.setStartAfter(o),st(e),Te(e),t.preventDefault(),!0}if("Tab"===t.key)return t.shiftKey?(Je(i,n),t.preventDefault(),!0):((u=i.nextElementSibling)||(u=i.parentElement.nextElementSibling?i.parentElement.nextElementSibling.firstElementChild:"THEAD"===i.parentElement.parentElement.tagName&&i.parentElement.parentElement.nextElementSibling?i.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild:null),u&&(n.selectNodeContents(u),(0,I.Hc)(n)),t.preventDefault(),!0);var a=i.parentElement.parentElement.parentElement;if("ArrowUp"===t.key){if(t.preventDefault(),"TH"===i.tagName)return a.previousElementSibling?(n.selectNodeContents(a.previousElementSibling),n.collapse(!1),(0,I.Hc)(n)):Xe(e,"beforebegin"),!0;for(var s=0,l=i.parentElement;s<l.cells.length&&!l.cells[s].isSameNode(i);s++);var d=l.previousElementSibling;return d||(d=l.parentElement.previousElementSibling.firstChild),n.selectNodeContents(d.cells[s]),n.collapse(!1),(0,I.Hc)(n),!0}if("ArrowDown"===t.key){var u;if(t.preventDefault(),!(l=i.parentElement).nextElementSibling&&"TD"===i.tagName)return a.nextElementSibling?(n.selectNodeContents(a.nextElementSibling),n.collapse(!0),(0,I.Hc)(n)):Xe(e,"afterend"),!0;for(s=0;s<l.cells.length&&!l.cells[s].isSameNode(i);s++);return(u=l.nextElementSibling)||(u=l.parentElement.nextElementSibling.firstChild),n.selectNodeContents(u.cells[s]),n.collapse(!0),(0,I.Hc)(n),!0}if("wysiwyg"===e.currentMode&&!(0,c.yl)(t)&&"Enter"===t.key&&!t.shiftKey&&t.altKey){var p=e.wysiwyg.popover.querySelector(".vditor-input");return p.focus(),p.select(),t.preventDefault(),!0}if(!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey&&"Backspace"===t.key&&0===n.startOffset&&""===n.toString())return!Je(i,n,!1)&&a&&(""===a.textContent.trim()?(a.outerHTML='<p data-block="0"><wbr>\n</p>',(0,I.ib)(e[e.currentMode].element,n)):(n.setStartBefore(a),n.collapse(!0)),st(e)),t.preventDefault(),!0;if(P("⇧⌘F",t))return pt(e,n,i),t.preventDefault(),!0;if(P("⌘=",t))return ut(e,n,i),t.preventDefault(),!0;if(P("⇧⌘G",t))return ft(e,a,i,"beforebegin"),t.preventDefault(),!0;if(P("⇧⌘=",t))return ft(e,a,i),t.preventDefault(),!0;if(P("⌘-",t))return ht(e,n,i),t.preventDefault(),!0;if(P("⇧⌘-",t))return mt(e,n,a,i),t.preventDefault(),!0;if(P("⇧⌘L",t)){if("ir"===e.currentMode)return it(a,"left"),st(e),t.preventDefault(),!0;if(f=e.wysiwyg.popover.querySelector('[data-type="left"]'))return f.click(),t.preventDefault(),!0}if(P("⇧⌘C",t)){if("ir"===e.currentMode)return it(a,"center"),st(e),t.preventDefault(),!0;if(f=e.wysiwyg.popover.querySelector('[data-type="center"]'))return f.click(),t.preventDefault(),!0}if(P("⇧⌘R",t)){if("ir"===e.currentMode)return it(a,"right"),st(e),t.preventDefault(),!0;var f;if(f=e.wysiwyg.popover.querySelector('[data-type="right"]'))return f.click(),t.preventDefault(),!0}}return!1},gt=function(e,t,n,r){if("PRE"===n.tagName&&P("⌘A",t))return r.selectNodeContents(n.firstElementChild),t.preventDefault(),!0;if(e.options.tab&&"Tab"===t.key&&!t.shiftKey&&""===r.toString())return r.insertNode(document.createTextNode(e.options.tab)),r.collapse(!1),st(e),t.preventDefault(),!0;if("Backspace"===t.key&&!(0,c.yl)(t)&&!t.shiftKey&&!t.altKey){var i=(0,I.im)(n,e[e.currentMode].element,r);if((0===i.start||1===i.start&&"\n"===n.innerText)&&""===r.toString())return n.parentElement.outerHTML='<p data-block="0"><wbr>'+n.firstElementChild.innerHTML+"</p>",(0,I.ib)(e[e.currentMode].element,r),st(e),t.preventDefault(),!0}return!(0,c.yl)(t)&&!t.altKey&&"Enter"===t.key&&(n.firstElementChild.textContent.endsWith("\n")||n.firstElementChild.insertAdjacentText("beforeend","\n"),r.extractContents(),r.insertNode(document.createTextNode("\n")),r.collapse(!1),(0,I.Hc)(r),(0,c.vU)()||("wysiwyg"===e.currentMode?ze(e,r):R(e,r)),Te(e),t.preventDefault(),!0)},bt=function(e,t,n,r){var o=t.startContainer,a=(0,b.lG)(o,"BLOCKQUOTE");if(a&&""===t.toString()){if("Backspace"===n.key&&!(0,c.yl)(n)&&!n.shiftKey&&!n.altKey&&0===(0,I.im)(a,e[e.currentMode].element,t).start)return t.insertNode(document.createElement("wbr")),a.outerHTML=a.innerHTML,(0,I.ib)(e[e.currentMode].element,t),st(e),n.preventDefault(),!0;if(r&&"Enter"===n.key&&!(0,c.yl)(n)&&!n.shiftKey&&!n.altKey&&"BLOCKQUOTE"===r.parentElement.tagName){var s=!1;if("\n"===r.innerHTML.replace(i.g.ZWSP,"")||""===r.innerHTML.replace(i.g.ZWSP,"")?(s=!0,r.remove()):r.innerHTML.endsWith("\n\n")&&(0,I.im)(r,e[e.currentMode].element,t).start===r.textContent.length-1&&(r.innerHTML=r.innerHTML.substr(0,r.innerHTML.length-2),s=!0),s)return a.insertAdjacentHTML("afterend",'<p data-block="0">'+i.g.ZWSP+"<wbr>\n</p>"),(0,I.ib)(e[e.currentMode].element,t),st(e),n.preventDefault(),!0}var l=(0,b.F9)(o);if("wysiwyg"===e.currentMode&&l&&P("⇧⌘;",n))return t.insertNode(document.createElement("wbr")),l.outerHTML='<blockquote data-block="0">'+l.outerHTML+"</blockquote>",(0,I.ib)(e.wysiwyg.element,t),Z(e),n.preventDefault(),!0;if(Qe(e,n,t,a,a))return!0;if(et(e,n,t,a,a))return!0}return!1},yt=function(e,t,n){var r=t.startContainer,i=(0,b.fb)(r,"vditor-task");if(i){if(P("⇧⌘J",n)){var o=i.firstElementChild;return o.checked?o.removeAttribute("checked"):o.setAttribute("checked","checked"),st(e),n.preventDefault(),!0}if("Backspace"===n.key&&!(0,c.yl)(n)&&!n.shiftKey&&!n.altKey&&""===t.toString()&&1===t.startOffset&&(3===r.nodeType&&r.previousSibling&&"INPUT"===r.previousSibling.tagName||3!==r.nodeType)){var a=i.previousElementSibling;return i.querySelector("input").remove(),a?((0,b.DX)(a).parentElement.insertAdjacentHTML("beforeend","<wbr>"+i.innerHTML.trim()),i.remove()):(i.parentElement.insertAdjacentHTML("beforebegin",'<p data-block="0"><wbr>'+(i.innerHTML.trim()||"\n")+"</p>"),i.nextElementSibling?i.remove():i.parentElement.remove()),(0,I.ib)(e[e.currentMode].element,t),st(e),n.preventDefault(),!0}if("Enter"===n.key&&!(0,c.yl)(n)&&!n.shiftKey&&!n.altKey){if(""===i.textContent.trim())if((0,b.fb)(i.parentElement,"vditor-task")){var s=(0,b.O9)(r);s&&rt(e,i,t,s)}else if(i.nextElementSibling){var l="",d="",u=!1;Array.from(i.parentElement.children).forEach((function(e){i.isSameNode(e)?u=!0:u?l+=e.outerHTML:d+=e.outerHTML}));var p=i.parentElement.tagName,f="OL"===i.parentElement.tagName?"":' data-marker="'+i.parentElement.getAttribute("data-marker")+'"',h="";d&&(h="UL"===i.parentElement.tagName?"":' start="1"',d="<"+p+' data-tight="true"'+f+' data-block="0">'+d+"</"+p+">"),i.parentElement.outerHTML=d+'<p data-block="0"><wbr>\n</p><'+p+'\n data-tight="true"'+f+' data-block="0"'+h+">"+l+"</"+p+">"}else i.parentElement.insertAdjacentHTML("afterend",'<p data-block="0"><wbr>\n</p>'),1===i.parentElement.querySelectorAll("li").length?i.parentElement.remove():i.remove();else 3!==r.nodeType&&0===t.startOffset&&"INPUT"===r.firstChild.tagName?t.setStart(r.childNodes[1],1):(t.setEndAfter(i.lastChild),i.insertAdjacentHTML("afterend",'<li class="vditor-task" data-marker="'+i.getAttribute("data-marker")+'"><input type="checkbox"> <wbr></li>'),document.querySelector("wbr").after(t.extractContents()));return(0,I.ib)(e[e.currentMode].element,t),st(e),Te(e),n.preventDefault(),!0}}return!1},wt=function(e,t,n,r){if(3!==t.startContainer.nodeType){var i=t.startContainer.children[t.startOffset];if(i&&"HR"===i.tagName)return t.selectNodeContents(i.previousElementSibling),t.collapse(!1),n.preventDefault(),!0}if(r){var o=r.previousElementSibling;if(o&&0===(0,I.im)(r,e[e.currentMode].element,t).start&&((0,c.vU)()&&"HR"===o.tagName||"TABLE"===o.tagName)){if("TABLE"===o.tagName){var a=o.lastElementChild.lastElementChild.lastElementChild;a.innerHTML=a.innerHTML.trimLeft()+"<wbr>"+r.textContent.trim(),r.remove()}else o.remove();return(0,I.ib)(e[e.currentMode].element,t),st(e),n.preventDefault(),!0}}return!1},kt=function(e){(0,c.vU)()&&3!==e.startContainer.nodeType&&"HR"===e.startContainer.tagName&&e.setStartBefore(e.startContainer)},xt=function(e,t,n){var r,i;if(!(0,c.vU)())return!1;if("ArrowUp"===e.key&&t&&"TABLE"===(null===(r=t.previousElementSibling)||void 0===r?void 0:r.tagName)){var o=t.previousElementSibling;return n.selectNodeContents(o.rows[o.rows.length-1].lastElementChild),n.collapse(!1),e.preventDefault(),!0}return!("ArrowDown"!==e.key||!t||"TABLE"!==(null===(i=t.nextElementSibling)||void 0===i?void 0:i.tagName))&&(n.selectNodeContents(t.nextElementSibling.rows[0].cells[0]),n.collapse(!0),e.preventDefault(),!0)},Et=function(e,t,n){return qe(void 0,void 0,void 0,(function(){var r,o,a,s,l,c,d,u,p,f,h,m,v,g,y,w;return Fe(this,(function(k){switch(k.label){case 0:return"true"!==e[e.currentMode].element.getAttribute("contenteditable")?[2]:(t.stopPropagation(),t.preventDefault(),"clipboardData"in t?(r=t.clipboardData.getData("text/html"),o=t.clipboardData.getData("text/plain"),a=t.clipboardData.files):(r=t.dataTransfer.getData("text/html"),o=t.dataTransfer.getData("text/plain"),t.dataTransfer.types.includes("Files")&&(a=t.dataTransfer.items)),s={},l=function(t,n){if(!n)return["",Lute.WalkContinue];var r=t.TokensStr();if(34===t.__internal_object__.Parent.Type&&r&&-1===r.indexOf("file://")&&e.options.upload.linkToImgUrl){var i=new XMLHttpRequest;i.open("POST",e.options.upload.linkToImgUrl),e.options.upload.token&&i.setRequestHeader("X-Upload-Token",e.options.upload.token),e.options.upload.withCredentials&&(i.withCredentials=!0),Pe(e,i),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){if(200===i.status){var t=i.responseText;e.options.upload.linkToImgFormat&&(t=e.options.upload.linkToImgFormat(i.responseText));var n=JSON.parse(t);if(0!==n.code)return void e.tip.show(n.msg);var r=n.data.originalURL;if("sv"===e.currentMode)e.sv.element.querySelectorAll(".vditor-sv__marker--link").forEach((function(e){e.textContent===r&&(e.textContent=n.data.url)}));else{var o=e[e.currentMode].element.querySelector('img[src="'+r+'"]');o.src=n.data.url,"ir"===e.currentMode&&(o.previousElementSibling.previousElementSibling.innerHTML=n.data.url)}st(e)}else e.tip.show(i.responseText);e.options.upload.linkToImgCallback&&e.options.upload.linkToImgCallback(i.responseText)}},i.send(JSON.stringify({url:r}))}return"ir"===e.currentMode?['<span class="vditor-ir__marker vditor-ir__marker--link">'+Lute.EscapeHTMLStr(r)+"</span>",Lute.WalkContinue]:"wysiwyg"===e.currentMode?["",Lute.WalkContinue]:['<span class="vditor-sv__marker--link">'+Lute.EscapeHTMLStr(r)+"</span>",Lute.WalkContinue]},r.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='<a href="'+o+'">'+o+"</a>"&&r.replace(/&amp;/g,"&").replace(/<(|\/)(html|body|meta)[^>]*?>/gi,"").trim()!=='\x3c!--StartFragment--\x3e<a href="'+o+'">'+o+"</a>\x3c!--EndFragment--\x3e"||(r=""),(c=(new DOMParser).parseFromString(r,"text/html")).body&&(r=c.body.innerHTML),r=Lute.Sanitize(r),e.wysiwyg.getComments(e),d=e[e.currentMode].element.scrollHeight,u=function(e,t,n){void 0===n&&(n="sv");var r=document.createElement("div");r.innerHTML=e;var i=!1;1===r.childElementCount&&r.lastElementChild.style.fontFamily.indexOf("monospace")>-1&&(i=!0);var o=r.querySelectorAll("pre");if(1===r.childElementCount&&1===o.length&&"vditor-wysiwyg"!==o[0].className&&"vditor-sv"!==o[0].className&&(i=!0),0===e.indexOf('\n<p class="p1">')&&(i=!0),1===r.childElementCount&&"TABLE"===r.firstElementChild.tagName&&r.querySelector(".line-number")&&r.querySelector(".line-content")&&(i=!0),i){var a=t||e;return/\n/.test(a)||1===o.length?"wysiwyg"===n?'<div class="vditor-wysiwyg__block" data-block="0" data-type="code-block"><pre><code>'+a.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"<wbr></code></pre></div>":"\n```\n"+a.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"\n```":"wysiwyg"===n?"<code>"+a.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</code><wbr>":"`"+a+"`"}return!1}(r,o,e.currentMode),(p="sv"===e.currentMode?(0,b.a1)(t.target,"data-type","code-block"):(0,b.lG)(t.target,"CODE"))?("sv"===e.currentMode?document.execCommand("insertHTML",!1,o.replace(/&/g,"&amp;").replace(/</g,"&lt;")):(f=(0,I.im)(t.target,e[e.currentMode].element),"PRE"!==p.parentElement.tagName&&(o+=i.g.ZWSP),p.textContent=p.textContent.substring(0,f.start)+o+p.textContent.substring(f.end),(0,I.$j)(f.start+o.length,f.start+o.length,p.parentElement),(null===(w=p.parentElement)||void 0===w?void 0:w.nextElementSibling.classList.contains("vditor-"+e.currentMode+"__preview"))&&(p.parentElement.nextElementSibling.innerHTML=p.outerHTML,N(p.parentElement.nextElementSibling,e))),[3,8]):[3,1]);case 1:return u?(n.pasteCode(u),[3,8]):[3,2];case 2:return""===r.trim()?[3,3]:((h=document.createElement("div")).innerHTML=r,h.querySelectorAll("[style]").forEach((function(e){e.removeAttribute("style")})),h.querySelectorAll(".vditor-copy").forEach((function(e){e.remove()})),"ir"===e.currentMode?(s.HTML2VditorIRDOM={renderLinkDest:l},e.lute.SetJSRenderers({renderers:s}),(0,I.oC)(e.lute.HTML2VditorIRDOM(h.innerHTML),e)):"wysiwyg"===e.currentMode?(s.HTML2VditorDOM={renderLinkDest:l},e.lute.SetJSRenderers({renderers:s}),(0,I.oC)(e.lute.HTML2VditorDOM(h.innerHTML),e)):(s.Md2VditorSVDOM={renderLinkDest:l},e.lute.SetJSRenderers({renderers:s}),Ae(e,e.lute.HTML2Md(h.innerHTML).trimRight())),e.outline.render(e),[3,8]);case 3:return a.length>0?e.options.upload.url||e.options.upload.handler?[4,Ue(e,a)]:[3,5]:[3,7];case 4:return k.sent(),[3,6];case 5:m=new FileReader,"clipboardData"in t?(a=t.clipboardData.files,v=a[0]):t.dataTransfer.types.includes("Files")&&(a=t.dataTransfer.items,v=a[0].getAsFile()),v&&v.type.startsWith("image")&&(m.readAsDataURL(v),m.onload=function(){var t="";"wysiwyg"===e.currentMode?t+='<img alt="'+v.name+'" src="'+m.result.toString()+'">\n':t+="!["+v.name+"]("+m.result.toString()+")\n",document.execCommand("insertHTML",!1,t)}),k.label=6;case 6:return[3,8];case 7:""!==o.trim()&&0===a.length&&("ir"===e.currentMode?(s.Md2VditorIRDOM={renderLinkDest:l},e.lute.SetJSRenderers({renderers:s}),(0,I.oC)(e.lute.Md2VditorIRDOM(o),e)):"wysiwyg"===e.currentMode?(s.Md2VditorDOM={renderLinkDest:l},e.lute.SetJSRenderers({renderers:s}),(0,I.oC)(e.lute.Md2VditorDOM(o),e)):(s.Md2VditorSVDOM={renderLinkDest:l},e.lute.SetJSRenderers({renderers:s}),Ae(e,o)),e.outline.render(e)),k.label=8;case 8:return"sv"!==e.currentMode&&((g=(0,b.F9)((0,I.zh)(e).startContainer))&&(y=(0,I.zh)(e),e[e.currentMode].element.querySelectorAll("wbr").forEach((function(e){e.remove()})),y.insertNode(document.createElement("wbr")),"wysiwyg"===e.currentMode?g.outerHTML=e.lute.SpinVditorDOM(g.outerHTML):g.outerHTML=e.lute.SpinVditorIRDOM(g.outerHTML),(0,I.ib)(e[e.currentMode].element,y)),e[e.currentMode].element.querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='2']").forEach((function(t){N(t,e)}))),e.wysiwyg.triggerRemoveComment(e),st(e),e[e.currentMode].element.scrollHeight-d>Math.min(e[e.currentMode].element.clientHeight,window.innerHeight)/2&&Te(e),[2]}}))}))},_t=function(e){e.hint.render(e);var t=(0,I.zh)(e).startContainer,n=(0,b.a1)(t,"data-type","code-block-info");if(n)if(""===n.textContent.replace(i.g.ZWSP,"")&&e.hint.recentLanguage)n.textContent=i.g.ZWSP+e.hint.recentLanguage,(0,I.zh)(e).selectNodeContents(n);else{var r=[],o=n.textContent.substring(0,(0,I.im)(n,e.ir.element).start).replace(i.g.ZWSP,"");i.g.CODE_LANGUAGES.forEach((function(e){e.indexOf(o.toLowerCase())>-1&&r.push({html:e,value:e})})),e.hint.genHTML(r,o,e)}},St=function(e,t){void 0===t&&(t={enableAddUndoStack:!0,enableHint:!1,enableInput:!0}),t.enableHint&&_t(e),clearTimeout(e.ir.processTimeoutId),e.ir.processTimeoutId=window.setTimeout((function(){if(!e.ir.composingLock){var n=a(e);"function"==typeof e.options.input&&t.enableInput&&e.options.input(n),e.options.counter.enable&&e.counter.render(e,n),e.options.cache.enable&&(0,c.pK)()&&(localStorage.setItem(e.options.cache.id,n),e.options.cache.after&&e.options.cache.after(n)),e.devtools&&e.devtools.renderEchart(e),t.enableAddUndoStack&&e.undo.addToUndoStack(e)}}),e.options.undoDelay)},Tt=function(e,t){var n=(0,I.zh)(e),r=(0,b.F9)(n.startContainer)||n.startContainer;if(r){var i=r.querySelector(".vditor-ir__marker--heading");i?i.innerHTML=t:(r.insertAdjacentText("afterbegin",t),n.selectNodeContents(r),n.collapse(!1)),R(e,n.cloneRange()),X(e)}},Ct=function(e,t,n){var r=(0,b.a1)(e.startContainer,"data-type",n);if(r){r.firstElementChild.remove(),r.lastElementChild.remove(),e.insertNode(document.createElement("wbr"));var i=document.createElement("div");i.innerHTML=t.lute.SpinVditorIRDOM(r.outerHTML),r.outerHTML=i.firstElementChild.innerHTML.trim()}},Lt=function(e,t,n,r){var i=(0,I.zh)(e),o=t.getAttribute("data-type"),a=i.startContainer;3===a.nodeType&&(a=a.parentElement);var s=!0;if(t.classList.contains("vditor-menu--current"))if("quote"===o){var l=(0,b.lG)(a,"BLOCKQUOTE");l&&(i.insertNode(document.createElement("wbr")),l.outerHTML=""===l.innerHTML.trim()?'<p data-block="0">'+l.innerHTML+"</p>":l.innerHTML)}else if("link"===o){var c=(0,b.a1)(i.startContainer,"data-type","a");if(c){var u=(0,b.fb)(i.startContainer,"vditor-ir__link");u?(i.insertNode(document.createElement("wbr")),c.outerHTML=u.innerHTML):c.outerHTML=c.querySelector(".vditor-ir__link").innerHTML+"<wbr>"}}else"italic"===o?Ct(i,e,"em"):"bold"===o?Ct(i,e,"strong"):"strike"===o?Ct(i,e,"s"):"inline-code"===o?Ct(i,e,"code"):"check"!==o&&"list"!==o&&"ordered-list"!==o||(tt(e,i,o),s=!1,t.classList.remove("vditor-menu--current"));else{0===e.ir.element.childNodes.length&&(e.ir.element.innerHTML='<p data-block="0"><wbr></p>',(0,I.ib)(e.ir.element,i));var p=(0,b.F9)(i.startContainer);if("line"===o){if(p){var f='<hr data-block="0"><p data-block="0"><wbr>\n</p>';""===p.innerHTML.trim()?p.outerHTML=f:p.insertAdjacentHTML("afterend",f)}}else if("quote"===o)p&&(i.insertNode(document.createElement("wbr")),p.outerHTML='<blockquote data-block="0">'+p.outerHTML+"</blockquote>",s=!1,t.classList.add("vditor-menu--current"));else if("link"===o){var h=void 0;h=""===i.toString()?n+"<wbr>"+r:""+n+i.toString()+r.replace(")","<wbr>)"),document.execCommand("insertHTML",!1,h),s=!1,t.classList.add("vditor-menu--current")}else if("italic"===o||"bold"===o||"strike"===o||"inline-code"===o||"code"===o||"table"===o){h=void 0,""===i.toString()?h=n+"<wbr>"+r:(h="code"===o||"table"===o?""+n+i.toString()+"<wbr>"+r:""+n+i.toString()+r+"<wbr>",i.deleteContents()),"table"!==o&&"code"!==o||(h="\n"+h+"\n\n");var m=document.createElement("span");m.innerHTML=h,i.insertNode(m),R(e,i),"table"===o&&(i.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement),(0,I.Hc)(i))}else"check"!==o&&"list"!==o&&"ordered-list"!==o||(tt(e,i,o,!1),s=!1,d(e.toolbar.elements,["check","list","ordered-list"]),t.classList.add("vditor-menu--current"))}(0,I.ib)(e.ir.element,i),St(e),s&&X(e)},At=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},Mt=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Nt=function(){function e(e){var t=this;this.splitChar="",this.lastIndex=-1,this.fillEmoji=function(e,n){t.element.style.display="none";var r=decodeURIComponent(e.getAttribute("data-value")),o=window.getSelection().getRangeAt(0);if("ir"===n.currentMode){var a=(0,b.a1)(o.startContainer,"data-type","code-block-info");if(a)return a.textContent=i.g.ZWSP+r.trimRight(),o.selectNodeContents(a),o.collapse(!1),St(n),a.parentElement.querySelectorAll("code").forEach((function(e){e.className="language-"+r.trimRight()})),N(a.parentElement.querySelector(".vditor-ir__preview"),n),void(t.recentLanguage=r.trimRight())}if("wysiwyg"===n.currentMode&&3!==o.startContainer.nodeType){var s=o.startContainer,l=void 0;if((l=s.classList.contains("vditor-input")?s:s.firstElementChild)&&l.classList.contains("vditor-input"))return l.value=r.trimRight(),o.selectNodeContents(l),o.collapse(!1),l.dispatchEvent(new CustomEvent("input",{detail:1})),void(t.recentLanguage=r.trimRight())}if(o.setStart(o.startContainer,t.lastIndex),o.deleteContents(),n.options.hint.parse?"sv"===n.currentMode?(0,I.oC)(n.lute.SpinVditorSVDOM(r),n):"wysiwyg"===n.currentMode?(0,I.oC)(n.lute.SpinVditorDOM(r),n):(0,I.oC)(n.lute.SpinVditorIRDOM(r),n):(0,I.oC)(r,n),":"===t.splitChar&&r.indexOf(":")>-1&&"sv"!==n.currentMode&&o.insertNode(document.createTextNode(" ")),o.collapse(!1),(0,I.Hc)(o),"wysiwyg"===n.currentMode)(c=(0,b.fb)(o.startContainer,"vditor-wysiwyg__block"))&&c.lastElementChild.classList.contains("vditor-wysiwyg__preview")&&(c.lastElementChild.innerHTML=c.firstElementChild.innerHTML,N(c.lastElementChild,n));else if("ir"===n.currentMode){var c;(c=(0,b.fb)(o.startContainer,"vditor-ir__marker--pre"))&&c.nextElementSibling.classList.contains("vditor-ir__preview")&&(c.nextElementSibling.innerHTML=c.innerHTML,N(c.nextElementSibling,n))}st(n)},this.timeId=-1,this.element=document.createElement("div"),this.element.className="vditor-hint",this.recentLanguage="",e.push({key:":"})}return e.prototype.render=function(e){var t=this;if(window.getSelection().focusNode){var n,r=getSelection().getRangeAt(0);n=r.startContainer.textContent.substring(0,r.startOffset)||"";var i=this.getKey(n,e.options.hint.extend);if(void 0===i)this.element.style.display="none",clearTimeout(this.timeId);else if(":"===this.splitChar){var o=""===i?e.options.hint.emoji:e.lute.GetEmojis(),a=[];Object.keys(o).forEach((function(e){0===e.indexOf(i.toLowerCase())&&(o[e].indexOf(".")>-1?a.push({html:'<img src="'+o[e]+'" title=":'+e+':"/> :'+e+":",value:":"+e+":"}):a.push({html:'<span class="vditor-hint__emoji">'+o[e]+"</span>"+e,value:o[e]}))})),this.genHTML(a,i,e)}else e.options.hint.extend.forEach((function(n){n.key===t.splitChar&&(clearTimeout(t.timeId),t.timeId=window.setTimeout((function(){return At(t,void 0,void 0,(function(){var t;return Mt(this,(function(r){switch(r.label){case 0:return t=this.genHTML,[4,n.hint(i)];case 1:return t.apply(this,[r.sent(),i,e]),[2]}}))}))}),e.options.hint.delay))}))}},e.prototype.genHTML=function(e,t,n){var r=this;if(0!==e.length){var i=n[n.currentMode].element,o=(0,I.Ny)(i),a=o.left+("left"===n.options.outline.position?n.outline.element.offsetWidth:0),s=o.top,l="";e.forEach((function(e,n){if(!(n>7)){var r=e.html;if(""!==t){var i=r.lastIndexOf(">")+1,o=r.substr(i),a=o.toLowerCase().indexOf(t.toLowerCase());a>-1&&(o=o.substring(0,a)+"<b>"+o.substring(a,a+t.length)+"</b>"+o.substring(a+t.length),r=r.substr(0,i)+o)}l+='<button data-value="'+encodeURIComponent(e.value)+' "\n'+(0===n?"class='vditor-hint--current'":"")+"> "+r+"</button>"}})),this.element.innerHTML=l;var c=parseInt(document.defaultView.getComputedStyle(i,null).getPropertyValue("line-height"),10);this.element.style.top=s+(c||22)+"px",this.element.style.left=a+"px",this.element.style.display="block",this.element.style.right="auto",this.element.querySelectorAll("button").forEach((function(e){e.addEventListener("click",(function(t){r.fillEmoji(e,n),t.preventDefault()}))})),this.element.getBoundingClientRect().bottom>window.innerHeight&&(this.element.style.top=s-this.element.offsetHeight+"px"),this.element.getBoundingClientRect().right>window.innerWidth&&(this.element.style.left="auto",this.element.style.right="0")}else this.element.style.display="none"},e.prototype.select=function(e,t){if(0===this.element.querySelectorAll("button").length||"none"===this.element.style.display)return!1;var n=this.element.querySelector(".vditor-hint--current");if("ArrowDown"===e.key)return e.preventDefault(),e.stopPropagation(),n.removeAttribute("class"),n.nextElementSibling?n.nextElementSibling.className="vditor-hint--current":this.element.children[0].className="vditor-hint--current",!0;if("ArrowUp"===e.key){if(e.preventDefault(),e.stopPropagation(),n.removeAttribute("class"),n.previousElementSibling)n.previousElementSibling.className="vditor-hint--current";else{var r=this.element.children.length;this.element.children[r-1].className="vditor-hint--current"}return!0}return!((0,c.yl)(e)||e.shiftKey||e.altKey||"Enter"!==e.key||e.isComposing)&&(e.preventDefault(),e.stopPropagation(),this.fillEmoji(n,t),!0)},e.prototype.getKey=function(e,t){var n,r=this;if(this.lastIndex=-1,this.splitChar="",t.forEach((function(t){var n=e.lastIndexOf(t.key);r.lastIndex<n&&(r.splitChar=t.key,r.lastIndex=n)})),-1===this.lastIndex)return n;var i=e.split(this.splitChar),a=i[i.length-1];if(i.length>1&&a.trim()===a)if(2===i.length&&""===i[0]&&i[1].length<32)n=i[1];else{var s=i[i.length-2].slice(-1);" "===(0,o.X)(s)&&a.length<32&&(n=a)}return n},e}(),It=function(){function e(e){this.composingLock=!1;var t=document.createElement("div");t.className="vditor-ir",t.innerHTML='<pre class="vditor-reset" placeholder="'+e.options.placeholder+'"\n contenteditable="true" spellcheck="false"></pre>',this.element=t.firstElementChild,this.bindEvent(e),we(e,this.element),ke(e,this.element),xe(e,this.element),Ce(e,this.element),Le(e,this.element),Ee(e,this.element),_e(e,this.element,this.copy),Se(e,this.element,this.copy)}return e.prototype.copy=function(e,t){var n=getSelection().getRangeAt(0);if(""!==n.toString()){e.stopPropagation(),e.preventDefault();var r=document.createElement("div");r.appendChild(n.cloneContents()),e.clipboardData.setData("text/plain",t.lute.VditorIRDOM2Md(r.innerHTML).trim()),e.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(e){var t=this;this.element.addEventListener("paste",(function(t){Et(e,t,{pasteCode:function(e){document.execCommand("insertHTML",!1,e)}})})),this.element.addEventListener("compositionstart",(function(e){t.composingLock=!0})),this.element.addEventListener("compositionend",(function(n){(0,c.vU)()||R(e,getSelection().getRangeAt(0).cloneRange()),t.composingLock=!1})),this.element.addEventListener("input",(function(n){if("deleteByDrag"!==n.inputType&&"insertFromDrop"!==n.inputType)return t.preventInput?(t.preventInput=!1,void St(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void(t.composingLock||"‘"===n.data||"“"===n.data||"《"===n.data||R(e,getSelection().getRangeAt(0).cloneRange(),!1,n))})),this.element.addEventListener("click",(function(n){if("INPUT"===n.target.tagName)return n.target.checked?n.target.setAttribute("checked","checked"):n.target.removeAttribute("checked"),t.preventInput=!0,void St(e);var r=(0,I.zh)(e),o=(0,b.fb)(n.target,"vditor-ir__preview");if(o||(o=(0,b.fb)(r.startContainer,"vditor-ir__preview")),o&&(o.previousElementSibling.firstElementChild?r.selectNodeContents(o.previousElementSibling.firstElementChild):r.selectNodeContents(o.previousElementSibling),r.collapse(!0),(0,I.Hc)(r),Te(e)),"IMG"===n.target.tagName){var a=n.target.parentElement.querySelector(".vditor-ir__marker--link");a&&(r.selectNode(a),(0,I.Hc)(r))}var s=(0,b.a1)(n.target,"data-type","a");if(!s||s.classList.contains("vditor-ir__node--expand")){if(n.target.isEqualNode(t.element)&&t.element.lastElementChild&&r.collapsed){var l=t.element.lastElementChild.getBoundingClientRect();n.y>l.top+l.height&&("P"===t.element.lastElementChild.tagName&&""===t.element.lastElementChild.textContent.trim().replace(i.g.ZWSP,"")?(r.selectNodeContents(t.element.lastElementChild),r.collapse(!1)):(t.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+i.g.ZWSP+"<wbr></p>"),(0,I.ib)(t.element,r)))}""===r.toString()?j(r,e):setTimeout((function(){j((0,I.zh)(e),e)})),H(n,e),X(e)}else window.open(s.querySelector(":scope > .vditor-ir__marker--link").textContent)})),this.element.addEventListener("keyup",(function(n){if(!n.isComposing&&!(0,c.yl)(n))if("Enter"===n.key&&Te(e),X(e),"Backspace"!==n.key&&"Delete"!==n.key||""===e.ir.element.innerHTML||1!==e.ir.element.childNodes.length||!e.ir.element.firstElementChild||"P"!==e.ir.element.firstElementChild.tagName||0!==e.ir.element.firstElementChild.childElementCount||""!==e.ir.element.textContent&&"\n"!==e.ir.element.textContent){var r=(0,I.zh)(e);"Backspace"===n.key?((0,c.vU)()&&"\n"===r.startContainer.textContent&&1===r.startOffset&&(r.startContainer.textContent="",j(r,e)),t.element.querySelectorAll(".language-math").forEach((function(e){var t=e.querySelector("br");t&&t.remove()}))):n.key.indexOf("Arrow")>-1?("ArrowLeft"!==n.key&&"ArrowRight"!==n.key||_t(e),j(r,e)):229===n.keyCode&&""===n.code&&"Unidentified"===n.key&&j(r,e);var o=(0,b.fb)(r.startContainer,"vditor-ir__preview");if(o){if("ArrowUp"===n.key||"ArrowLeft"===n.key)return o.previousElementSibling.firstElementChild?r.selectNodeContents(o.previousElementSibling.firstElementChild):r.selectNodeContents(o.previousElementSibling),r.collapse(!1),n.preventDefault(),!0;if("SPAN"===o.tagName&&("ArrowDown"===n.key||"ArrowRight"===n.key))return"html-entity"===o.parentElement.getAttribute("data-type")?(o.parentElement.insertAdjacentText("afterend",i.g.ZWSP),r.setStart(o.parentElement.nextSibling,1)):r.selectNodeContents(o.parentElement.lastElementChild),r.collapse(!1),n.preventDefault(),!0}}else e.ir.element.innerHTML=""}))},e}(),Ot=function(e){return"sv"===e.currentMode?e.lute.Md2HTML(a(e)):"wysiwyg"===e.currentMode?e.lute.VditorDOM2HTML(e.wysiwyg.element.innerHTML):"ir"===e.currentMode?e.lute.VditorIRDOM2HTML(e.ir.element.innerHTML):void 0},Ht=n(576),Dt=n(269),Rt=function(){function e(e){this.element=document.createElement("div"),this.element.className="vditor-outline",this.element.innerHTML='<div class="vditor-outline__title">'+e+'</div>\n<div class="vditor-outline__content"></div>'}return e.prototype.render=function(e){return"block"===e.preview.element.style.display?(0,Dt.k)(e.preview.element.lastElementChild,this.element.lastElementChild,e):(0,Dt.k)(e[e.currentMode].element,this.element.lastElementChild,e)},e.prototype.toggle=function(e,t){var n;void 0===t&&(t=!0);var r=null===(n=e.toolbar.elements.outline)||void 0===n?void 0:n.firstElementChild;if(t&&window.innerWidth>=i.g.MOBILE_WIDTH?(this.element.style.display="block",this.render(e),null==r||r.classList.add("vditor-menu--current")):(this.element.style.display="none",null==r||r.classList.remove("vditor-menu--current")),getSelection().rangeCount>0){var o=getSelection().getRangeAt(0);e[e.currentMode].element.contains(o.startContainer)?(0,I.Hc)(o):e[e.currentMode].element.focus()}V(e)},e}(),Pt=n(464),jt=function(){function e(e){var t=this;this.element=document.createElement("div"),this.element.className="vditor-preview";var n=document.createElement("div");n.className="vditor-reset",e.options.classes.preview&&n.classList.add(e.options.classes.preview),n.style.maxWidth=e.options.preview.maxWidth+"px",n.addEventListener("copy",(function(n){if("TEXTAREA"!==n.target.tagName){var r=document.createElement("div");r.className="vditor-reset",r.appendChild(getSelection().getRangeAt(0).cloneContents()),t.copyToX(e,r),n.preventDefault()}})),n.addEventListener("click",(function(r){var i=(0,b.lG)(r.target,"SPAN");if(i&&(0,b.fb)(i,"vditor-toc")){var o=n.querySelector("#"+i.getAttribute("data-target-id"));o&&(t.element.scrollTop=o.offsetTop)}else"IMG"===r.target.tagName&&(0,B.E)(r.target,e.options.lang,e.options.theme)}));var r=e.options.preview.actions,i=document.createElement("div");i.className="vditor-preview__action";for(var o=[],a=0;a<r.length;a++){var s=r[a];if("object"!=typeof s)switch(s){case"desktop":o.push('<button type="button" class="vditor-preview__action--current" data-type="desktop">Desktop</button>');break;case"tablet":o.push('<button type="button" data-type="tablet">Tablet</button>');break;case"mobile":o.push('<button type="button" data-type="mobile">Mobile/Wechat</button>');break;case"mp-wechat":o.push('<button type="button" data-type="mp-wechat" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到公众号"><svg><use xlink:href="#vditor-icon-mp-wechat"></use></svg></button>');break;case"zhihu":o.push('<button type="button" data-type="zhihu" class="vditor-tooltipped vditor-tooltipped__w" aria-label="复制到知乎"><svg><use xlink:href="#vditor-icon-zhihu"></use></svg></button>')}else o.push('<button type="button" data-type="'+s.key+'" class="'+s.className+'"'+(s.tooltip?' aria-label="'+s.tooltip+'"':"")+'">'+s.text+"</button>")}i.innerHTML=o.join(""),0===r.length&&(i.style.display="none"),this.element.appendChild(i),this.element.appendChild(n),i.addEventListener((0,c.Le)(),(function(o){var a=(0,y.S)(o.target,"BUTTON");if(a){var s=a.getAttribute("data-type"),l=r.find((function(e){return(null==e?void 0:e.key)===s}));l?l.click(s):"mp-wechat"!==s&&"zhihu"!==s?(n.style.width="desktop"===s?"auto":"tablet"===s?"780px":"360px",n.scrollWidth>n.parentElement.clientWidth&&(n.style.width="auto"),t.render(e),i.querySelectorAll("button").forEach((function(e){e.classList.remove("vditor-preview__action--current")})),a.classList.add("vditor-preview__action--current")):t.copyToX(e,t.element.lastElementChild.cloneNode(!0),s)}}))}return e.prototype.render=function(e,t){var n=this;if(clearTimeout(this.mdTimeoutId),"none"!==this.element.style.display)if(t)this.element.lastElementChild.innerHTML=t;else if(""!==a(e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")){var r=(new Date).getTime(),i=a(e);this.mdTimeoutId=window.setTimeout((function(){if(e.options.preview.url){var t=new XMLHttpRequest;t.open("POST",e.options.preview.url),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE)if(200===t.status){var o=JSON.parse(t.responseText);if(0!==o.code)return void e.tip.show(o.msg);e.options.preview.transform&&(o.data=e.options.preview.transform(o.data)),n.element.lastElementChild.innerHTML=o.data,n.afterRender(e,r)}else{var a=e.lute.Md2HTML(i);e.options.preview.transform&&(a=e.options.preview.transform(a)),n.element.lastElementChild.innerHTML=a,n.afterRender(e,r)}},t.send(JSON.stringify({markdownText:i}))}else{var o=e.lute.Md2HTML(i);e.options.preview.transform&&(o=e.options.preview.transform(o)),n.element.lastElementChild.innerHTML=o,n.afterRender(e,r)}}),e.options.preview.delay)}else this.element.lastElementChild.innerHTML="";else"renderPerformance"===this.element.getAttribute("data-type")&&e.tip.hide()},e.prototype.afterRender=function(e,t){e.options.preview.parse&&e.options.preview.parse(this.element);var n=(new Date).getTime()-t;(new Date).getTime()-t>2600?(e.tip.show(window.VditorI18n.performanceTip.replace("${x}",n.toString())),e.preview.element.setAttribute("data-type","renderPerformance")):"renderPerformance"===e.preview.element.getAttribute("data-type")&&(e.tip.hide(),e.preview.element.removeAttribute("data-type"));var r=e.preview.element.querySelector(".vditor-comment--focus");r&&r.classList.remove("vditor-comment--focus"),(0,E.O)(e.preview.element.lastElementChild),(0,T.s)(e.options.preview.hljs,e.preview.element.lastElementChild,e.options.cdn),(0,L.i)(e.preview.element.lastElementChild,e.options.cdn,e.options.theme),(0,_.P)(e.preview.element.lastElementChild,e.options.cdn),(0,S.v)(e.preview.element.lastElementChild,e.options.cdn),(0,x.p)(e.preview.element.lastElementChild,e.options.cdn,e.options.theme),(0,A.P)(e.preview.element.lastElementChild,e.options.cdn,e.options.theme),(0,M.B)(e.preview.element.lastElementChild,e.options.cdn),(0,k.Q)(e.preview.element.lastElementChild,e.options.cdn),(0,Pt.Y)(e.preview.element.lastElementChild);var i=e.preview.element,o=e.outline.render(e);""===o&&(o="[ToC]"),i.querySelectorAll('[data-type="toc-block"]').forEach((function(t){t.innerHTML=o,(0,C.H)(t,{cdn:e.options.cdn,math:e.options.preview.math})})),(0,C.H)(e.preview.element.lastElementChild,{cdn:e.options.cdn,math:e.options.preview.math})},e.prototype.copyToX=function(e,t,n){void 0===n&&(n="mp-wechat"),"zhihu"!==n?t.querySelectorAll(".katex-html .base").forEach((function(e){e.style.display="initial"})):t.querySelectorAll(".language-math").forEach((function(e){e.outerHTML='<img class="Formula-image" data-eeimg="true" src="//www.zhihu.com/equation?tex=" alt="'+e.getAttribute("data-math")+'\\" style="display: block; margin: 0 auto; max-width: 100%;">'})),t.style.backgroundColor="#fff",t.querySelectorAll("code").forEach((function(e){e.style.backgroundImage="none"})),this.element.append(t);var r=t.ownerDocument.createRange();r.selectNode(t),(0,I.Hc)(r),document.execCommand("copy"),this.element.lastElementChild.remove(),e.tip.show("已复制，可到"+("zhihu"===n?"知乎":"微信公众号平台")+"进行粘贴")},e}(),Bt=function(){function e(e){this.element=document.createElement("div"),this.element.className="vditor-resize vditor-resize--"+e.options.resize.position,this.element.innerHTML='<div><svg><use xlink:href="#vditor-icon-resize"></use></svg></div>',this.bindEvent(e)}return e.prototype.bindEvent=function(e){var t=this;this.element.addEventListener("mousedown",(function(n){var r=document,i=n.clientY,o=e.element.offsetHeight,a=63+e.element.querySelector(".vditor-toolbar").clientHeight;r.ondragstart=function(){return!1},window.captureEvents&&window.captureEvents(),t.element.classList.add("vditor-resize--selected"),r.onmousemove=function(t){"top"===e.options.resize.position?e.element.style.height=Math.max(a,o+(i-t.clientY))+"px":e.element.style.height=Math.max(a,o+(t.clientY-i))+"px",e.options.typewriterMode&&(e.sv.element.style.paddingBottom=e.sv.element.parentElement.offsetHeight/2+"px")},r.onmouseup=function(){e.options.resize.after&&e.options.resize.after(e.element.offsetHeight-o),window.captureEvents&&window.captureEvents(),r.onmousemove=null,r.onmouseup=null,r.ondragstart=null,r.onselectstart=null,r.onselect=null,t.element.classList.remove("vditor-resize--selected")}}))},e}(),$t=function(){function e(e){this.composingLock=!1,this.element=document.createElement("pre"),this.element.className="vditor-sv vditor-reset",this.element.setAttribute("placeholder",e.options.placeholder),this.element.setAttribute("contenteditable","true"),this.element.setAttribute("spellcheck","false"),this.bindEvent(e),we(e,this.element),xe(e,this.element),Ce(e,this.element),Le(e,this.element),Ee(e,this.element),_e(e,this.element,this.copy),Se(e,this.element,this.copy)}return e.prototype.copy=function(e,t){e.stopPropagation(),e.preventDefault(),e.clipboardData.setData("text/plain",ye(t[t.currentMode].element))},e.prototype.bindEvent=function(e){var t=this;this.element.addEventListener("paste",(function(t){Et(e,t,{pasteCode:function(e){document.execCommand("insertHTML",!1,e)}})})),this.element.addEventListener("scroll",(function(){if("block"===e.preview.element.style.display){var n=t.element.scrollTop,r=t.element.clientHeight,i=t.element.scrollHeight-parseFloat(t.element.style.paddingBottom||"0"),o=e.preview.element;o.scrollTop=n/r>.5?(n+r)*o.scrollHeight/i-r:n*o.scrollHeight/i}})),this.element.addEventListener("compositionstart",(function(e){t.composingLock=!0})),this.element.addEventListener("compositionend",(function(n){(0,c.vU)()||$(e,n),t.composingLock=!1})),this.element.addEventListener("input",(function(n){if("deleteByDrag"!==n.inputType&&"insertFromDrop"!==n.inputType&&!t.composingLock&&"‘"!==n.data&&"“"!==n.data&&"《"!==n.data)return t.preventInput?(t.preventInput=!1,void Oe(e,{enableAddUndoStack:!0,enableHint:!0,enableInput:!0})):void $(e,n)})),this.element.addEventListener("keyup",(function(t){t.isComposing||(0,c.yl)(t)||("Backspace"!==t.key&&"Delete"!==t.key||""===e.sv.element.innerHTML||1!==e.sv.element.childNodes.length||!e.sv.element.firstElementChild||"DIV"!==e.sv.element.firstElementChild.tagName||2!==e.sv.element.firstElementChild.childElementCount||""!==e.sv.element.firstElementChild.textContent&&"\n"!==e.sv.element.textContent?"Enter"===t.key&&Te(e):e.sv.element.innerHTML="")}))},e}(),Ut=function(){function e(){this.element=document.createElement("div"),this.element.className="vditor-tip"}return e.prototype.show=function(e,t){var n=this;void 0===t&&(t=6e3),this.element.className="vditor-tip vditor-tip--show",0===t?(this.element.innerHTML='<div class="vditor-tip__content">'+e+'\n<div class="vditor-tip__close">X</div></div>',this.element.querySelector(".vditor-tip__close").addEventListener("click",(function(){n.hide()}))):(this.element.innerHTML='<div class="vditor-tip__content">'+e+"</div>",setTimeout((function(){n.hide()}),t)),this.element.removeAttribute("style"),setTimeout((function(){n.element.getBoundingClientRect().top<46&&(n.element.style.position="fixed",n.element.style.top="46px")}),150)},e.prototype.hide=function(){this.element.className="vditor-messageElementtip",this.element.innerHTML=""},e}(),zt=function(e,t){if(t.options.preview.mode!==e){switch(t.options.preview.mode=e,e){case"both":t.sv.element.style.display="block",t.preview.element.style.display="block",t.preview.render(t),u(t.toolbar.elements,["both"]);break;case"editor":t.sv.element.style.display="block",t.preview.element.style.display="none",d(t.toolbar.elements,["both"])}t.devtools&&t.devtools.renderEchart(t)}},Vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return"both"===t.options.preview.mode&&r.element.children[0].classList.add("vditor-menu--current"),r.element.children[0].addEventListener((0,c.Le)(),(function(e){r.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)||(e.preventDefault(),"sv"===t.currentMode&&("both"===t.options.preview.mode?zt("editor",t):zt("both",t)))})),r}return Vt(t,e),t}(me),Ft=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__br"},Kt=n(18),Wt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gt=function(e){function t(t,n){var r=e.call(this,t,n)||this,o=r.element.children[0],a=document.createElement("div");a.className="vditor-hint"+(2===n.level?"":" vditor-panel--arrow");var s="";return i.g.CODE_THEME.forEach((function(e){s+="<button>"+e+"</button>"})),a.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+s+"</div>",a.addEventListener((0,c.Le)(),(function(e){"BUTTON"===e.target.tagName&&(v(t,["subToolbar"]),t.options.preview.hljs.style=e.target.textContent,(0,Kt.Y)(e.target.textContent,t.options.cdn),e.preventDefault(),e.stopPropagation())})),r.element.appendChild(a),g(t,a,o,n.level),r}return Wt(t,e),t}(me),Xt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zt=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=r.element.children[0],o=document.createElement("div");o.className="vditor-hint"+(2===n.level?"":" vditor-panel--arrow");var a="";return Object.keys(t.options.preview.theme.list).forEach((function(e){a+='<button data-type="'+e+'">'+t.options.preview.theme.list[e]+"</button>"})),o.innerHTML='<div style="overflow: auto;max-height:'+window.innerHeight/2+'px">'+a+"</div>",o.addEventListener((0,c.Le)(),(function(e){"BUTTON"===e.target.tagName&&(v(t,["subToolbar"]),t.options.preview.theme.current=e.target.getAttribute("data-type"),(0,U.Z)(t.options.preview.theme.current,t.options.preview.theme.path),e.preventDefault(),e.stopPropagation())})),r.element.appendChild(o),g(t,o,i,n.level),r}return Xt(t,e),t}(me),Yt=function(){function e(e){this.element=document.createElement("span"),this.element.className="vditor-counter vditor-tooltipped vditor-tooltipped__nw",this.render(e,"")}return e.prototype.render=function(e,t){var n=t.endsWith("\n")?t.length-1:t.length;if("text"===e.options.counter.type&&e[e.currentMode]){var r=e[e.currentMode].element.cloneNode(!0);r.querySelectorAll(".vditor-wysiwyg__preview").forEach((function(e){e.remove()})),n=r.textContent.length}"number"==typeof e.options.counter.max?(n>e.options.counter.max?this.element.className="vditor-counter vditor-counter--error":this.element.className="vditor-counter",this.element.innerHTML=n+"/"+e.options.counter.max):this.element.innerHTML=""+n,this.element.setAttribute("aria-label",e.options.counter.type),e.options.counter.after&&e.options.counter.after(n,{enable:e.options.counter.enable,max:e.options.counter.max,type:e.options.counter.type})},e}(),Jt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element.children[0].innerHTML=n.icon,r.element.children[0].addEventListener((0,c.Le)(),(function(e){e.preventDefault(),e.currentTarget.classList.contains(i.g.CLASS_MENU_DISABLED)||n.click(e,t)})),r}return Jt(t,e),t}(me),en=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element.firstElementChild.addEventListener((0,c.Le)(),(function(e){var n=r.element.firstElementChild;n.classList.contains(i.g.CLASS_MENU_DISABLED)||(e.preventDefault(),n.classList.contains("vditor-menu--current")?(n.classList.remove("vditor-menu--current"),t.devtools.element.style.display="none",V(t)):(n.classList.add("vditor-menu--current"),t.devtools.element.style.display="block",V(t),t.devtools.renderEchart(t)))})),r}return en(t,e),t}(me),nn=function(){this.element=document.createElement("div"),this.element.className="vditor-toolbar__divider"},rn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),on=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=document.createElement("div");i.className="vditor-panel vditor-panel--arrow";var o="";return Object.keys(t.options.hint.emoji).forEach((function(e){var n=t.options.hint.emoji[e];n.indexOf(".")>-1?o+='<button data-value=":'+e+': " data-key=":'+e+':"><img\ndata-value=":'+e+': " data-key=":'+e+':" class="vditor-emojis__icon" src="'+n+'"/></button>':o+='<button data-value="'+n+' "\n data-key="'+e+'"><span class="vditor-emojis__icon">'+n+"</span></button>"})),i.innerHTML='<div class="vditor-emojis" style="max-height: '+("auto"===t.options.height?"auto":t.options.height-80)+'px">'+o+'</div><div class="vditor-emojis__tail">\n    <span class="vditor-emojis__tip"></span><span>'+(t.options.hint.emojiTail||"")+"</span>\n</div>",r.element.appendChild(i),g(t,i,r.element.firstElementChild,n.level),r.bindEvent(t),r}return rn(t,e),t.prototype.bindEvent=function(e){var t=this;this.element.lastElementChild.addEventListener((0,c.Le)(),(function(n){var r=(0,y.S)(n.target,"BUTTON");if(r){n.preventDefault();var i=r.getAttribute("data-value"),o=(0,I.zh)(e),a=i;if("wysiwyg"===e.currentMode?a=e.lute.SpinVditorDOM(i):"ir"===e.currentMode&&(a=e.lute.SpinVditorIRDOM(i)),i.indexOf(":")>-1&&"sv"!==e.currentMode){var s=document.createElement("div");s.innerHTML=a,a=s.firstElementChild.firstElementChild.outerHTML+" ",(0,I.oC)(a,e)}else o.extractContents(),o.insertNode(document.createTextNode(i));o.collapse(!1),(0,I.Hc)(o),t.element.lastElementChild.style.display="none",st(e)}})),this.element.lastElementChild.addEventListener("mouseover",(function(e){var n=(0,y.S)(e.target,"BUTTON");n&&(t.element.querySelector(".vditor-emojis__tip").innerHTML=n.getAttribute("data-key"))}))},t}(me),an=function(e,t,n){var r=document.createElement("a");"download"in r?(r.download=n,r.style.display="none",r.href=URL.createObjectURL(new Blob([t])),document.body.appendChild(r),r.click(),r.remove()):e.tip.show(window.VditorI18n.downloadTip,0)},sn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ln=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=r.element.children[0],o=document.createElement("div");return o.className="vditor-hint"+(2===n.level?"":" vditor-panel--arrow"),o.innerHTML='<button data-type="markdown">Markdown</button>\n<button data-type="pdf">PDF</button>\n<button data-type="html">HTML</button>',o.addEventListener((0,c.Le)(),(function(e){var n=e.target;if("BUTTON"===n.tagName){switch(n.getAttribute("data-type")){case"markdown":!function(e){var t=a(e);an(e,t,t.substr(0,10)+".md")}(t);break;case"pdf":!function(e){e.tip.show(window.VditorI18n.generate,3800);var t=document.querySelector("iframe");t.contentDocument.open(),t.contentDocument.write('<link rel="stylesheet" href="'+e.options.cdn+'/dist/index.css"/>\n<script src="'+e.options.cdn+'/dist/method.min.js"><\/script>\n<div id="preview"></div>\n<script>\nwindow.addEventListener("message", (e) => {\n  if(!e.data) {\n    return;\n  }\n  Vditor.preview(document.getElementById(\'preview\'), e.data, {\n    markdown: {\n      theme: "'+e.options.preview.theme+'"\n    },\n    hljs: {\n      style: "'+e.options.preview.hljs.style+'"\n    }\n  });\n  setTimeout(() => {\n        window.print();\n    }, 3600);\n}, false);\n<\/script>'),t.contentDocument.close(),setTimeout((function(){t.contentWindow.postMessage(a(e),"*")}),200)}(t);break;case"html":!function(e){var t=Ot(e),n='<html><head><link rel="stylesheet" type="text/css" href="'+e.options.cdn+'/dist/index.css"/>\n<script src="'+e.options.cdn+"/dist/js/i18n/"+e.options.lang+'.js"><\/script>\n<script src="'+e.options.cdn+'/dist/method.min.js"><\/script></head>\n<body><div class="vditor-reset" id="preview">'+t+"</div>\n<script>\n    const previewElement = document.getElementById('preview')\n    Vditor.setContentTheme('"+e.options.preview.theme.current+"', '"+e.options.preview.theme.path+"');\n    Vditor.codeRender(previewElement);\n    Vditor.highlightRender("+JSON.stringify(e.options.preview.hljs)+", previewElement, '"+e.options.cdn+"');\n    Vditor.mathRender(previewElement, {\n        cdn: '"+e.options.cdn+"',\n        math: "+JSON.stringify(e.options.preview.math)+",\n    });\n    Vditor.mermaidRender(previewElement, '"+e.options.cdn+"', '"+e.options.theme+"');\n    Vditor.flowchartRender(previewElement, '"+e.options.cdn+"');\n    Vditor.graphvizRender(previewElement, '"+e.options.cdn+"');\n    Vditor.chartRender(previewElement, '"+e.options.cdn+"', '"+e.options.theme+"');\n    Vditor.mindmapRender(previewElement, '"+e.options.cdn+"', '"+e.options.theme+"');\n    Vditor.abcRender(previewElement, '"+e.options.cdn+"');\n    Vditor.mediaRender(previewElement);\n    Vditor.speechRender(previewElement);\n<\/script>\n<script src=\""+e.options.cdn+"/dist/js/icons/"+e.options.icon+'.js"><\/script></body></html>';an(e,n,t.substr(0,10)+".html")}(t)}v(t,["subToolbar"]),e.preventDefault(),e.stopPropagation()}})),r.element.appendChild(o),g(t,o,i,n.level),r}return sn(t,e),t}(me),cn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._bindEvent(t,n),r}return cn(t,e),t.prototype._bindEvent=function(e,t){this.element.children[0].addEventListener((0,c.Le)(),(function(n){n.preventDefault(),e.element.className.includes("vditor--fullscreen")?(t.level||(this.innerHTML=t.icon),e.element.style.zIndex="",document.body.style.overflow="",e.element.classList.remove("vditor--fullscreen"),Object.keys(e.toolbar.elements).forEach((function(t){var n=e.toolbar.elements[t].firstChild;n&&(n.className=n.className.replace("__s","__n"))})),e.counter&&(e.counter.element.className=e.counter.element.className.replace("__s","__n"))):(t.level||(this.innerHTML='<svg><use xlink:href="#vditor-icon-contract"></use></svg>'),e.element.style.zIndex=e.options.fullscreen.index.toString(),document.body.style.overflow="hidden",e.element.classList.add("vditor--fullscreen"),Object.keys(e.toolbar.elements).forEach((function(t){var n=e.toolbar.elements[t].firstChild;n&&(n.className=n.className.replace("__n","__s"))})),e.counter&&(e.counter.element.className=e.counter.element.className.replace("__n","__s"))),e.devtools&&e.devtools.renderEchart(e),t.click&&t.click(n,e),V(e),q(e)}))},t}(me),un=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pn=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=document.createElement("div");return i.className="vditor-hint vditor-panel--arrow",i.innerHTML='<button data-tag="h1" data-value="# ">'+window.VditorI18n.heading1+" "+(0,c.ns)("&lt;⌥⌘1>")+'</button>\n<button data-tag="h2" data-value="## ">'+window.VditorI18n.heading2+" &lt;"+(0,c.ns)("⌥⌘2")+'></button>\n<button data-tag="h3" data-value="### ">'+window.VditorI18n.heading3+" &lt;"+(0,c.ns)("⌥⌘3")+'></button>\n<button data-tag="h4" data-value="#### ">'+window.VditorI18n.heading4+" &lt;"+(0,c.ns)("⌥⌘4")+'></button>\n<button data-tag="h5" data-value="##### ">'+window.VditorI18n.heading5+" &lt;"+(0,c.ns)("⌥⌘5")+'></button>\n<button data-tag="h6" data-value="###### ">'+window.VditorI18n.heading6+" &lt;"+(0,c.ns)("⌥⌘6")+"></button>",r.element.appendChild(i),r._bindEvent(t,i),r}return un(t,e),t.prototype._bindEvent=function(e,t){var n=this.element.children[0];n.addEventListener((0,c.Le)(),(function(r){r.preventDefault(),n.classList.contains(i.g.CLASS_MENU_DISABLED)||(n.blur(),n.classList.contains("vditor-menu--current")?("wysiwyg"===e.currentMode?(te(e),Z(e)):"ir"===e.currentMode&&Tt(e,""),n.classList.remove("vditor-menu--current")):(v(e,["subToolbar"]),t.style.display="block"))}));for(var r=0;r<6;r++)t.children.item(r).addEventListener((0,c.Le)(),(function(r){r.preventDefault(),"wysiwyg"===e.currentMode?(ee(e,r.target.getAttribute("data-tag")),Z(e),n.classList.add("vditor-menu--current")):"ir"===e.currentMode?(Tt(e,r.target.getAttribute("data-value")),n.classList.add("vditor-menu--current")):He(e,r.target.getAttribute("data-value")),t.style.display="none"}))},t}(me),fn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element.children[0].addEventListener((0,c.Le)(),(function(e){e.preventDefault(),t.tip.show('<div style="margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;">\n<div style="margin-top: 14px;flex: 1">\n    <div>Markdown 使用指南</div>\n    <ul style="list-style: none">\n        <li><a href="https://ld246.com/article/1583308420519" target="_blank">语法速查手册</a></li>\n        <li><a href="https://ld246.com/article/1583129520165" target="_blank">基础语法</a></li>\n        <li><a href="https://ld246.com/article/1583305480675" target="_blank">扩展语法</a></li>\n        <li><a href="https://ld246.com/article/1582778815353" target="_blank">键盘快捷键</a></li>\n    </ul>\n</div>\n<div style="margin-top: 14px;flex: 1">\n    <div>Vditor 支持</div>\n    <ul style="list-style: none">\n        <li><a href="https://github.com/Vanessa219/vditor/issues" target="_blank">Issues</a></li>\n        <li><a href="https://ld246.com/tag/vditor" target="_blank">官方讨论区</a></li>\n        <li><a href="https://ld246.com/article/1549638745630" target="_blank">开发手册</a></li>\n        <li><a href="https://ld246.com/guide/markdown" target="_blank">演示地址</a></li>\n    </ul>\n</div></div>',0)})),r}return fn(t,e),t}(me),mn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element.children[0].addEventListener((0,c.Le)(),(function(e){if(e.preventDefault(),!r.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)&&"sv"!==t.currentMode){var n=(0,I.zh)(t),o=(0,b.lG)(n.startContainer,"LI");o&&nt(t,o,n)}})),r}return mn(t,e),t}(me),gn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element.children[0].addEventListener((0,c.Le)(),(function(e){e.preventDefault(),t.tip.show('<div style="max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;">\n<p style="text-align: center;margin: 14px 0">\n    <em>下一代的 Markdown 编辑器，为未来而构建</em>\n</p>\n<div style="display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center">\n    <img src="https://unpkg.com/vditor/dist/images/logo.png" style="margin: 0 auto;height: 68px"/>\n    <div>&nbsp;&nbsp;</div>\n    <div style="flex: 1;min-width: 250px">\n        Vditor 是一款浏览器端的 Markdown 编辑器，支持所见即所得、即时渲染（类似 Typora）和分屏预览模式。\n        它使用 TypeScript 实现，支持原生 JavaScript 以及 Vue、React、Angular 和 Svelte 等框架。\n    </div>\n</div>\n<div style="display: flex;flex-wrap: wrap;">\n    <ul style="list-style: none;flex: 1;min-width:148px">\n        <li>\n        项目地址：<a href="https://b3log.org/vditor" target="_blank">b3log.org/vditor</a>\n        </li>\n        <li>\n        开源协议：MIT\n        </li>\n    </ul>\n    <ul style="list-style: none;margin-right: 18px">\n        <li>\n        组件版本：Vditor v'+i.H+" / Lute v"+Lute.Version+'\n        </li>\n        <li>\n        赞助捐赠：<a href="https://ld246.com/sponsor" target="_blank">https://ld246.com/sponsor</a>\n        </li>\n    </ul>\n</div>\n</div>',0)})),r}return gn(t,e),t}(me),yn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element.children[0].addEventListener((0,c.Le)(),(function(e){e.preventDefault(),r.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)||"sv"===t.currentMode||Xe(t,"afterend")})),r}return yn(t,e),t}(me),kn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element.children[0].addEventListener((0,c.Le)(),(function(e){e.preventDefault(),r.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)||"sv"===t.currentMode||Xe(t,"beforebegin")})),r}return kn(t,e),t}(me),En=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_n=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.element.children[0].addEventListener((0,c.Le)(),(function(e){if(e.preventDefault(),!r.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)&&"sv"!==t.currentMode){var n=(0,I.zh)(t),o=(0,b.lG)(n.startContainer,"LI");o&&rt(t,o,n,o.parentElement)}})),r}return En(t,e),t}(me),Sn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return t.options.outline&&r.element.firstElementChild.classList.add("vditor-menu--current"),r.element.children[0].addEventListener((0,c.Le)(),(function(e){e.preventDefault(),t.toolbar.elements.outline.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)||(t.options.outline.enable=!r.element.firstElementChild.classList.contains("vditor-menu--current"),t.outline.toggle(t,t.options.outline.enable))})),r}return Sn(t,e),t}(me),Cn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ln=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._bindEvent(t),r}return Cn(t,e),t.prototype._bindEvent=function(e){var t=this;this.element.children[0].addEventListener((0,c.Le)(),(function(n){n.preventDefault();var r=t.element.firstElementChild;if(!r.classList.contains(i.g.CLASS_MENU_DISABLED)){var o=i.g.EDIT_TOOLBARS.concat(["both","edit-mode","devtools"]);r.classList.contains("vditor-menu--current")?(r.classList.remove("vditor-menu--current"),"sv"===e.currentMode?(e.sv.element.style.display="block","both"===e.options.preview.mode?e.preview.element.style.display="block":e.preview.element.style.display="none"):(e[e.currentMode].element.parentElement.style.display="block",e.preview.element.style.display="none"),p(e.toolbar.elements,o),e.outline.render(e)):(f(e.toolbar.elements,o),e.preview.element.style.display="block","sv"===e.currentMode?e.sv.element.style.display="none":e[e.currentMode].element.parentElement.style.display="none",e.preview.render(e),r.classList.add("vditor-menu--current"),v(e,["subToolbar","hint","popover"]),setTimeout((function(){e.outline.render(e)}),e.options.preview.delay+10)),V(e)}}))},t}(me),An=function(){function e(e){var t;if(this.SAMPLE_RATE=5e3,this.isRecording=!1,this.readyFlag=!1,this.leftChannel=[],this.rightChannel=[],this.recordingLength=0,"undefined"!=typeof AudioContext)t=new AudioContext;else{if(!webkitAudioContext)return;t=new webkitAudioContext}this.DEFAULT_SAMPLE_RATE=t.sampleRate;var n=t.createGain();t.createMediaStreamSource(e).connect(n),this.recorder=t.createScriptProcessor(2048,2,1),this.recorder.onaudioprocess=null,n.connect(this.recorder),this.recorder.connect(t.destination),this.readyFlag=!0}return e.prototype.cloneChannelData=function(e,t){this.leftChannel.push(new Float32Array(e)),this.rightChannel.push(new Float32Array(t)),this.recordingLength+=2048},e.prototype.startRecordingNewWavFile=function(){this.readyFlag&&(this.isRecording=!0,this.leftChannel.length=this.rightChannel.length=0,this.recordingLength=0)},e.prototype.stopRecording=function(){this.isRecording=!1},e.prototype.buildWavFileBlob=function(){for(var e=this.mergeBuffers(this.leftChannel),t=this.mergeBuffers(this.rightChannel),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=.5*(e[r]+t[r]);this.DEFAULT_SAMPLE_RATE>this.SAMPLE_RATE&&(n=this.downSampleBuffer(n,this.SAMPLE_RATE));var i=44+2*n.length,o=new ArrayBuffer(i),a=new DataView(o);this.writeUTFBytes(a,0,"RIFF"),a.setUint32(4,i,!0),this.writeUTFBytes(a,8,"WAVE"),this.writeUTFBytes(a,12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,1,!0),a.setUint32(24,this.SAMPLE_RATE,!0),a.setUint32(28,2*this.SAMPLE_RATE,!0),a.setUint16(32,2,!0),a.setUint16(34,16,!0);var s=2*n.length;this.writeUTFBytes(a,36,"data"),a.setUint32(40,s,!0);for(var l=n.length,c=44,d=0;d<l;d++)a.setInt16(c,32767*n[d],!0),c+=2;return new Blob([a],{type:"audio/wav"})},e.prototype.downSampleBuffer=function(e,t){if(t===this.DEFAULT_SAMPLE_RATE)return e;if(t>this.DEFAULT_SAMPLE_RATE)return e;for(var n=this.DEFAULT_SAMPLE_RATE/t,r=Math.round(e.length/n),i=new Float32Array(r),o=0,a=0;o<i.length;){for(var s=Math.round((o+1)*n),l=0,c=0,d=a;d<s&&d<e.length;d++)l+=e[d],c++;i[o]=l/c,o++,a=s}return i},e.prototype.mergeBuffers=function(e){for(var t=new Float32Array(this.recordingLength),n=0,r=e.length,i=0;i<r;++i){var o=e[i];t.set(o,n),n+=o.length}return t},e.prototype.writeUTFBytes=function(e,t,n){for(var r=n.length,i=0;i<r;i++)e.setUint8(t+i,n.charCodeAt(i))},e}(),Mn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._bindEvent(t),r}return Mn(t,e),t.prototype._bindEvent=function(e){var t,n=this;this.element.children[0].addEventListener((0,c.Le)(),(function(r){if(r.preventDefault(),!n.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)){var o=e[e.currentMode].element;if(t)if(t.isRecording){t.stopRecording(),e.tip.hide();var a=new File([t.buildWavFileBlob()],"record"+(new Date).getTime()+".wav",{type:"video/webm"});Ue(e,[a]),n.element.children[0].classList.remove("vditor-menu--current")}else e.tip.show(window.VditorI18n.recording),o.setAttribute("contenteditable","false"),t.startRecordingNewWavFile(),n.element.children[0].classList.add("vditor-menu--current");else navigator.mediaDevices.getUserMedia({audio:!0}).then((function(r){(t=new An(r)).recorder.onaudioprocess=function(e){if(t.isRecording){var n=e.inputBuffer.getChannelData(0),r=e.inputBuffer.getChannelData(1);t.cloneChannelData(n,r)}},t.startRecordingNewWavFile(),e.tip.show(window.VditorI18n.recording),o.setAttribute("contenteditable","false"),n.element.children[0].classList.add("vditor-menu--current")})).catch((function(){e.tip.show(window.VditorI18n["record-tip"])}))}}))},t}(me),In=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=function(e){function t(t,n){var r=e.call(this,t,n)||this;return f({redo:r.element},["redo"]),r.element.children[0].addEventListener((0,c.Le)(),(function(e){e.preventDefault(),r.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)||t.undo.redo(t)})),r}return In(t,e),t}(me),Hn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return f({undo:r.element},["undo"]),r.element.children[0].addEventListener((0,c.Le)(),(function(e){e.preventDefault(),r.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED)||t.undo.undo(t)})),r}return Hn(t,e),t}(me),Rn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pn=function(e){function t(t,n){var r=e.call(this,t,n)||this,i='<input type="file"';return t.options.upload.multiple&&(i+=' multiple="multiple"'),t.options.upload.accept&&(i+=' accept="'+t.options.upload.accept+'"'),r.element.children[0].innerHTML=""+(n.icon||'<svg><use xlink:href="#vditor-icon-upload"></use></svg>')+i+">",r._bindEvent(t),r}return Rn(t,e),t.prototype._bindEvent=function(e){var t=this;this.element.children[0].addEventListener((0,c.Le)(),(function(e){if(t.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED))return e.stopPropagation(),void e.preventDefault()})),this.element.querySelector("input").addEventListener("change",(function(n){if(t.element.firstElementChild.classList.contains(i.g.CLASS_MENU_DISABLED))return n.stopPropagation(),void n.preventDefault();0!==n.target.files.length&&Ue(e,n.target.files,n.target)}))},t}(me),jn=function(){function e(e){var t=this,n=e.options;this.elements={},this.element=document.createElement("div"),this.element.className="vditor-toolbar",n.toolbar.forEach((function(n,r){var i=t.genItem(e,n,r);if(t.element.appendChild(i),n.toolbar){var o=document.createElement("div");o.className="vditor-hint vditor-panel--arrow",o.addEventListener((0,c.Le)(),(function(e){o.style.display="none"})),n.toolbar.forEach((function(n,i){n.level=2,o.appendChild(t.genItem(e,n,r+i))})),i.appendChild(o),g(e,o,i.children[0])}})),e.options.toolbarConfig.hide&&this.element.classList.add("vditor-toolbar--hide"),e.options.toolbarConfig.pin&&this.element.classList.add("vditor-toolbar--pin"),e.options.counter.enable&&(e.counter=new Yt(e),this.element.appendChild(e.counter.element))}return e.prototype.genItem=function(e,t,n){var r;switch(t.name){case"bold":case"italic":case"more":case"strike":case"line":case"quote":case"list":case"ordered-list":case"check":case"code":case"inline-code":case"link":case"table":r=new me(e,t);break;case"emoji":r=new on(e,t);break;case"headings":r=new pn(e,t);break;case"|":r=new nn;break;case"br":r=new Ft;break;case"undo":r=new Dn(e,t);break;case"redo":r=new On(e,t);break;case"help":r=new hn(e,t);break;case"both":r=new qt(e,t);break;case"preview":r=new Ln(e,t);break;case"fullscreen":r=new dn(e,t);break;case"upload":r=new Pn(e,t);break;case"record":r=new Nn(e,t);break;case"info":r=new bn(e,t);break;case"edit-mode":r=new be(e,t);break;case"devtools":r=new tn(e,t);break;case"outdent":r=new _n(e,t);break;case"indent":r=new vn(e,t);break;case"outline":r=new Tn(e,t);break;case"insert-after":r=new wn(e,t);break;case"insert-before":r=new xn(e,t);break;case"code-theme":r=new Gt(e,t);break;case"content-theme":r=new Zt(e,t);break;case"export":r=new ln(e,t);break;default:r=new Qt(e,t)}if(r){var i=t.name;return"br"!==i&&"|"!==i||(i+=n),this.elements[i]=r.element,r.element}},e}(),Bn=n(763),$n=function(){function e(){this.stackSize=50,this.resetStack(),this.dmp=new Bn}return e.prototype.clearStack=function(e){this.resetStack(),this.resetIcon(e)},e.prototype.resetIcon=function(e){e.toolbar&&(this[e.currentMode].undoStack.length>1?p(e.toolbar.elements,["undo"]):f(e.toolbar.elements,["undo"]),0!==this[e.currentMode].redoStack.length?p(e.toolbar.elements,["redo"]):f(e.toolbar.elements,["redo"]))},e.prototype.undo=function(e){if("false"!==e[e.currentMode].element.getAttribute("contenteditable")&&!(this[e.currentMode].undoStack.length<2)){var t=this[e.currentMode].undoStack.pop();t&&(this[e.currentMode].redoStack.push(t),this.renderDiff(t,e),this[e.currentMode].hasUndo=!0,v(e,["hint"]))}},e.prototype.redo=function(e){if("false"!==e[e.currentMode].element.getAttribute("contenteditable")){var t=this[e.currentMode].redoStack.pop();t&&(this[e.currentMode].undoStack.push(t),this.renderDiff(t,e,!0))}},e.prototype.recordFirstPosition=function(e,t){if(0!==getSelection().rangeCount&&!(1!==this[e.currentMode].undoStack.length||0===this[e.currentMode].undoStack[0].length||this[e.currentMode].redoStack.length>0||(0,c.vU)()&&"Backspace"===t.key||(0,c.G6)())){var n=this.addCaret(e);n.replace("<wbr>","").replace(" vditor-ir__node--expand","")===this[e.currentMode].undoStack[0][0].diffs[0][1].replace("<wbr>","")&&(this[e.currentMode].undoStack[0][0].diffs[0][1]=n,this[e.currentMode].lastText=n)}},e.prototype.addToUndoStack=function(e){var t=this.addCaret(e,!0),n=this.dmp.diff_main(t,this[e.currentMode].lastText,!0),r=this.dmp.patch_make(t,this[e.currentMode].lastText,n);0===r.length&&this[e.currentMode].undoStack.length>0||(this[e.currentMode].lastText=t,this[e.currentMode].undoStack.push(r),this[e.currentMode].undoStack.length>this.stackSize&&this[e.currentMode].undoStack.shift(),this[e.currentMode].hasUndo&&(this[e.currentMode].redoStack=[],this[e.currentMode].hasUndo=!1,f(e.toolbar.elements,["redo"])),this[e.currentMode].undoStack.length>1&&p(e.toolbar.elements,["undo"]))},e.prototype.renderDiff=function(e,t,n){var r;if(void 0===n&&(n=!1),n){var i=this.dmp.patch_deepCopy(e).reverse();i.forEach((function(e){e.diffs.forEach((function(e){e[0]=-e[0]}))})),r=this.dmp.patch_apply(i,this[t.currentMode].lastText)[0]}else r=this.dmp.patch_apply(e,this[t.currentMode].lastText)[0];if(this[t.currentMode].lastText=r,t[t.currentMode].element.innerHTML=r,"sv"!==t.currentMode&&t[t.currentMode].element.querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='2']").forEach((function(e){N(e,t)})),t[t.currentMode].element.querySelector("wbr"))(0,I.ib)(t[t.currentMode].element,t[t.currentMode].element.ownerDocument.createRange()),Te(t);else{var o=getSelection().getRangeAt(0);o.setEndBefore(t[t.currentMode].element),o.collapse(!1)}O(t),st(t,{enableAddUndoStack:!1,enableHint:!1,enableInput:!0}),pe(t),t[t.currentMode].element.querySelectorAll(".vditor-"+t.currentMode+"__preview[data-render='2']").forEach((function(e){N(e,t)})),this[t.currentMode].undoStack.length>1?p(t.toolbar.elements,["undo"]):f(t.toolbar.elements,["undo"]),0!==this[t.currentMode].redoStack.length?p(t.toolbar.elements,["redo"]):f(t.toolbar.elements,["redo"])},e.prototype.resetStack=function(){this.ir={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.sv={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]},this.wysiwyg={hasUndo:!1,lastText:"",redoStack:[],undoStack:[]}},e.prototype.addCaret=function(e,t){var n;if(void 0===t&&(t=!1),0!==getSelection().rangeCount&&!e[e.currentMode].element.querySelector("wbr")){var r=getSelection().getRangeAt(0);if(e[e.currentMode].element.contains(r.startContainer)){n=r.cloneRange();var i=document.createElement("span");i.className="vditor-wbr",r.insertNode(i)}}e.ir.element.cloneNode(!0).querySelectorAll(".vditor-"+e.currentMode+"__preview[data-render='1']").forEach((function(e){(e.firstElementChild.classList.contains("language-echarts")||e.firstElementChild.classList.contains("language-plantuml")||e.firstElementChild.classList.contains("language-mindmap"))&&(e.firstElementChild.removeAttribute("_echarts_instance_"),e.firstElementChild.removeAttribute("data-processed"),e.firstElementChild.innerHTML=e.previousElementSibling.firstElementChild.innerHTML,e.setAttribute("data-render","2")),e.firstElementChild.classList.contains("language-math")&&(e.setAttribute("data-render","2"),e.firstElementChild.textContent=e.firstElementChild.getAttribute("data-math"),e.firstElementChild.removeAttribute("data-math"))}));var o=e[e.currentMode].element.innerHTML;return e[e.currentMode].element.querySelectorAll(".vditor-wbr").forEach((function(e){e.remove()})),t&&n&&(0,I.Hc)(n),o.replace('<span class="vditor-wbr"></span>',"<wbr>")},e}(),Un=n(313),zn=function(){function e(e){this.defaultOptions={rtl:!1,after:void 0,cache:{enable:!0},cdn:i.g.CDN,classes:{preview:""},comment:{enable:!1},counter:{enable:!1,type:"markdown"},debugger:!1,fullscreen:{index:90},height:"auto",hint:{delay:200,emoji:{"+1":"👍","-1":"👎",confused:"😕",eyes:"👀️",heart:"❤️",rocket:"🚀️",smile:"😄",tada:"🎉️"},emojiPath:i.g.CDN+"/dist/images/emoji",extend:[],parse:!0},icon:"ant",lang:"zh_CN",mode:"ir",outline:{enable:!1,position:"left"},placeholder:"",preview:{actions:["desktop","tablet","mobile","mp-wechat","zhihu"],delay:1e3,hljs:i.g.HLJS_OPTIONS,markdown:i.g.MARKDOWN_OPTIONS,math:i.g.MATH_OPTIONS,maxWidth:800,mode:"both",theme:i.g.THEME_OPTIONS},resize:{enable:!1,position:"bottom"},theme:"classic",toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","insert-before","insert-after","|","upload","record","table","|","undo","redo","|","fullscreen","edit-mode",{name:"more",toolbar:["both","code-theme","content-theme","export","outline","preview","devtools","info","help"]}],toolbarConfig:{hide:!1,pin:!1},typewriterMode:!1,undoDelay:800,upload:{extraData:{},fieldName:"file[]",filename:function(e){return e.replace(/\W/g,"")},linkToImgUrl:"",max:10485760,multiple:!0,url:"",withCredentials:!1},value:"",width:"auto"},this.options=e}return e.prototype.merge=function(){var e,t,n;this.options&&(this.options.toolbar?this.options.toolbar=this.mergeToolbar(this.options.toolbar):this.options.toolbar=this.mergeToolbar(this.defaultOptions.toolbar),(null===(t=null===(e=this.options.preview)||void 0===e?void 0:e.theme)||void 0===t?void 0:t.list)&&(this.defaultOptions.preview.theme.list=this.options.preview.theme.list),(null===(n=this.options.hint)||void 0===n?void 0:n.emoji)&&(this.defaultOptions.hint.emoji=this.options.hint.emoji),this.options.comment&&(this.defaultOptions.comment=this.options.comment));var r=(0,Un.T)(this.defaultOptions,this.options);if(r.cache.enable&&!r.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");return r},e.prototype.mergeToolbar=function(e){var t=this,n=[{icon:'<svg><use xlink:href="#vditor-icon-export"></use></svg>',name:"export",tipPosition:"ne"},{hotkey:"⌘E",icon:'<svg><use xlink:href="#vditor-icon-emoji"></use></svg>',name:"emoji",tipPosition:"ne"},{hotkey:"⌘H",icon:'<svg><use xlink:href="#vditor-icon-headings"></use></svg>',name:"headings",tipPosition:"ne"},{hotkey:"⌘B",icon:'<svg><use xlink:href="#vditor-icon-bold"></use></svg>',name:"bold",prefix:"**",suffix:"**",tipPosition:"ne"},{hotkey:"⌘I",icon:'<svg><use xlink:href="#vditor-icon-italic"></use></svg>',name:"italic",prefix:"*",suffix:"*",tipPosition:"ne"},{hotkey:"⌘D",icon:'<svg><use xlink:href="#vditor-icon-strike"></use></svg>',name:"strike",prefix:"~~",suffix:"~~",tipPosition:"ne"},{hotkey:"⌘K",icon:'<svg><use xlink:href="#vditor-icon-link"></use></svg>',name:"link",prefix:"[",suffix:"](https://)",tipPosition:"n"},{name:"|"},{hotkey:"⌘L",icon:'<svg><use xlink:href="#vditor-icon-list"></use></svg>',name:"list",prefix:"* ",tipPosition:"n"},{hotkey:"⌘O",icon:'<svg><use xlink:href="#vditor-icon-ordered-list"></use></svg>',name:"ordered-list",prefix:"1. ",tipPosition:"n"},{hotkey:"⌘J",icon:'<svg><use xlink:href="#vditor-icon-check"></use></svg>',name:"check",prefix:"* [ ] ",tipPosition:"n"},{hotkey:"⇧⌘I",icon:'<svg><use xlink:href="#vditor-icon-outdent"></use></svg>',name:"outdent",tipPosition:"n"},{hotkey:"⇧⌘O",icon:'<svg><use xlink:href="#vditor-icon-indent"></use></svg>',name:"indent",tipPosition:"n"},{name:"|"},{hotkey:"⌘;",icon:'<svg><use xlink:href="#vditor-icon-quote"></use></svg>',name:"quote",prefix:"> ",tipPosition:"n"},{hotkey:"⇧⌘H",icon:'<svg><use xlink:href="#vditor-icon-line"></use></svg>',name:"line",prefix:"---",tipPosition:"n"},{hotkey:"⌘U",icon:'<svg><use xlink:href="#vditor-icon-code"></use></svg>',name:"code",prefix:"```",suffix:"\n```",tipPosition:"n"},{hotkey:"⌘G",icon:'<svg><use xlink:href="#vditor-icon-inline-code"></use></svg>',name:"inline-code",prefix:"`",suffix:"`",tipPosition:"n"},{hotkey:"⇧⌘B",icon:'<svg><use xlink:href="#vditor-icon-before"></use></svg>',name:"insert-before",tipPosition:"n"},{hotkey:"⇧⌘E",icon:'<svg><use xlink:href="#vditor-icon-after"></use></svg>',name:"insert-after",tipPosition:"n"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-upload"></use></svg>',name:"upload",tipPosition:"n"},{icon:'<svg><use xlink:href="#vditor-icon-record"></use></svg>',name:"record",tipPosition:"n"},{hotkey:"⌘M",icon:'<svg><use xlink:href="#vditor-icon-table"></use></svg>',name:"table",prefix:"| col1",suffix:" | col2 | col3 |\n| --- | --- | --- |\n|  |  |  |\n|  |  |  |",tipPosition:"n"},{name:"|"},{hotkey:"⌘Z",icon:'<svg><use xlink:href="#vditor-icon-undo"></use></svg>',name:"undo",tipPosition:"nw"},{hotkey:"⌘Y",icon:'<svg><use xlink:href="#vditor-icon-redo"></use></svg>',name:"redo",tipPosition:"nw"},{name:"|"},{icon:'<svg><use xlink:href="#vditor-icon-more"></use></svg>',name:"more",tipPosition:"e"},{hotkey:"⌘'",icon:'<svg><use xlink:href="#vditor-icon-fullscreen"></use></svg>',name:"fullscreen",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-edit"></use></svg>',name:"edit-mode",tipPosition:"nw"},{hotkey:"⌘P",icon:'<svg><use xlink:href="#vditor-icon-both"></use></svg>',name:"both",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-preview"></use></svg>',name:"preview",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-align-center"></use></svg>',name:"outline",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-theme"></use></svg>',name:"content-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-code-theme"></use></svg>',name:"code-theme",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-bug"></use></svg>',name:"devtools",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-info"></use></svg>',name:"info",tipPosition:"nw"},{icon:'<svg><use xlink:href="#vditor-icon-help"></use></svg>',name:"help",tipPosition:"nw"},{name:"br"}],r=[];return e.forEach((function(e){var i=e;n.forEach((function(t){"string"==typeof e&&t.name===e&&(i=t),"object"==typeof e&&t.name===e.name&&(i=Object.assign({},t,e))})),e.toolbar&&(i.toolbar=t.mergeToolbar(e.toolbar)),r.push(i)})),r},e}(),Vn=function(){function e(e){var t=this;this.composingLock=!1,this.commentIds=[];var n=document.createElement("div");n.className="vditor-wysiwyg",n.innerHTML='<pre class="vditor-reset" placeholder="'+e.options.placeholder+'"\n contenteditable="true" spellcheck="false"></pre>\n<div class="vditor-panel vditor-panel--none"></div>\n<div class="vditor-panel vditor-panel--none">\n    <button type="button" aria-label="'+window.VditorI18n.comment+'" class="vditor-icon vditor-tooltipped vditor-tooltipped__n">\n        <svg><use xlink:href="#vditor-icon-comment"></use></svg>\n    </button>\n</div>',this.element=n.firstElementChild,this.popover=n.firstElementChild.nextElementSibling,this.selectPopover=n.lastElementChild,this.bindEvent(e),we(e,this.element),ke(e,this.element),xe(e,this.element),Ce(e,this.element),Le(e,this.element),Ee(e,this.element),_e(e,this.element,this.copy),Se(e,this.element,this.copy),e.options.comment.enable&&(this.selectPopover.querySelector("button").onclick=function(){var n,r,o=Lute.NewNodeID(),a=getSelection().getRangeAt(0),s=a.cloneRange(),l=a.extractContents(),c=!1,d=!1;l.childNodes.forEach((function(e,t){var i=!1;if(3===e.nodeType?i=!0:e.classList.contains("vditor-comment")?e.classList.contains("vditor-comment")&&e.setAttribute("data-cmtids",e.getAttribute("data-cmtids")+" "+o):i=!0,i)if(3!==e.nodeType&&"0"===e.getAttribute("data-block")&&0===t&&s.startOffset>0)e.innerHTML='<span class="vditor-comment" data-cmtids="'+o+'">'+e.innerHTML+"</span>",n=e;else if(3!==e.nodeType&&"0"===e.getAttribute("data-block")&&t===l.childNodes.length-1&&s.endOffset<s.endContainer.textContent.length)e.innerHTML='<span class="vditor-comment" data-cmtids="'+o+'">'+e.innerHTML+"</span>",r=e;else if(3!==e.nodeType&&"0"===e.getAttribute("data-block"))0===t?c=!0:t===l.childNodes.length-1&&(d=!0),e.innerHTML='<span class="vditor-comment" data-cmtids="'+o+'">'+e.innerHTML+"</span>";else{var a=document.createElement("span");a.classList.add("vditor-comment"),a.setAttribute("data-cmtids",o),e.parentNode.insertBefore(a,e),a.appendChild(e)}}));var u=(0,b.F9)(s.startContainer);u&&(n?(u.insertAdjacentHTML("beforeend",n.innerHTML),n.remove()):""===u.textContent.trim().replace(i.g.ZWSP,"")&&c&&u.remove());var p=(0,b.F9)(s.endContainer);p&&(r?(p.insertAdjacentHTML("afterbegin",r.innerHTML),r.remove()):""===p.textContent.trim().replace(i.g.ZWSP,"")&&d&&p.remove()),a.insertNode(l),e.options.comment.add(o,a.toString(),t.getComments(e,!0)),Z(e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}),t.hideComment()})}return e.prototype.getComments=function(e,t){var n=this;if(void 0===t&&(t=!1),"wysiwyg"!==e.currentMode||!e.options.comment.enable)return[];this.commentIds=[],this.element.querySelectorAll(".vditor-comment").forEach((function(e){n.commentIds=n.commentIds.concat(e.getAttribute("data-cmtids").split(" "))})),this.commentIds=Array.from(new Set(this.commentIds));var r=[];return t?(this.commentIds.forEach((function(e){r.push({id:e,top:n.element.querySelector('.vditor-comment[data-cmtids="'+e+'"]').offsetTop})})),r):void 0},e.prototype.triggerRemoveComment=function(e){var t,n,r;if("wysiwyg"===e.currentMode&&e.options.comment.enable&&e.wysiwyg.commentIds.length>0){var i=JSON.parse(JSON.stringify(this.commentIds));this.getComments(e);var o=(t=i,n=this.commentIds,r=new Set(n),t.filter((function(e){return!r.has(e)})));o.length>0&&e.options.comment.remove(o)}},e.prototype.showComment=function(){var e=(0,I.Ny)(this.element);this.selectPopover.setAttribute("style","left:"+e.left+"px;display:block;top:"+Math.max(-8,e.top-21)+"px")},e.prototype.hideComment=function(){this.selectPopover.setAttribute("style","display:none")},e.prototype.unbindListener=function(){window.removeEventListener("scroll",this.scrollListener)},e.prototype.copy=function(e,t){var n=getSelection().getRangeAt(0);if(""!==n.toString()){e.stopPropagation(),e.preventDefault();var r=(0,b.lG)(n.startContainer,"CODE"),i=(0,b.lG)(n.endContainer,"CODE");if(r&&i&&i.isSameNode(r)){var o="";return o="PRE"===r.parentElement.tagName?n.toString():"`"+n.toString()+"`",e.clipboardData.setData("text/plain",o),void e.clipboardData.setData("text/html","")}var a=(0,b.lG)(n.startContainer,"A"),s=(0,b.lG)(n.endContainer,"A");if(a&&s&&s.isSameNode(a)){var l=a.getAttribute("title")||"";return l&&(l=' "'+l+'"'),e.clipboardData.setData("text/plain","["+n.toString()+"]("+a.getAttribute("href")+l+")"),void e.clipboardData.setData("text/html","")}var c=document.createElement("div");c.appendChild(n.cloneContents()),e.clipboardData.setData("text/plain",t.lute.VditorDOM2Md(c.innerHTML).trim()),e.clipboardData.setData("text/html","")}},e.prototype.bindEvent=function(e){var t=this;this.unbindListener(),window.addEventListener("scroll",this.scrollListener=function(){if(v(e,["hint"]),"block"===t.popover.style.display&&"block"===t.selectPopover.style.display){var n=parseInt(t.popover.getAttribute("data-top"),10);if("auto"===e.options.height){if(e.options.toolbarConfig.pin){var r=Math.max(n,window.scrollY-e.element.offsetTop-8)+"px";"block"===t.popover.style.display&&(t.popover.style.top=r),"block"===t.selectPopover.style.display&&(t.selectPopover.style.top=r)}}else if(e.options.toolbarConfig.pin&&0===e.toolbar.element.getBoundingClientRect().top){var i=Math.max(window.scrollY-e.element.offsetTop-8,Math.min(n-e.wysiwyg.element.scrollTop,t.element.clientHeight-21))+"px";"block"===t.popover.style.display&&(t.popover.style.top=i),"block"===t.selectPopover.style.display&&(t.selectPopover.style.top=i)}}}),this.element.addEventListener("scroll",(function(){if(v(e,["hint"]),e.options.comment&&e.options.comment.enable&&e.options.comment.scroll&&e.options.comment.scroll(e.wysiwyg.element.scrollTop),"block"===t.popover.style.display){var n=parseInt(t.popover.getAttribute("data-top"),10)-e.wysiwyg.element.scrollTop,r=-8;e.options.toolbarConfig.pin&&0===e.toolbar.element.getBoundingClientRect().top&&(r=window.scrollY-e.element.offsetTop+r);var i=Math.max(r,Math.min(n,t.element.clientHeight-21))+"px";t.popover.style.top=i,t.selectPopover.style.top=i}})),this.element.addEventListener("paste",(function(t){Et(e,t,{pasteCode:function(t){var n=(0,I.zh)(e),r=document.createElement("template");r.innerHTML=t,n.insertNode(r.content.cloneNode(!0));var i=(0,b.a1)(n.startContainer,"data-block","0");i?i.outerHTML=e.lute.SpinVditorDOM(i.outerHTML):e.wysiwyg.element.innerHTML=e.lute.SpinVditorDOM(e.wysiwyg.element.innerHTML),(0,I.ib)(e.wysiwyg.element,n)}})})),this.element.addEventListener("compositionstart",(function(){t.composingLock=!0})),this.element.addEventListener("compositionend",(function(n){var r=(0,y.W)(getSelection().getRangeAt(0).startContainer);r&&""===r.textContent?O(e):((0,c.vU)()||ze(e,getSelection().getRangeAt(0).cloneRange(),n),t.composingLock=!1)})),this.element.addEventListener("input",(function(n){if("deleteByDrag"!==n.inputType&&"insertFromDrop"!==n.inputType){if(t.preventInput)return t.preventInput=!1,void Z(e);if(t.composingLock||"‘"===n.data||"“"===n.data||"《"===n.data)Z(e);else{var r=getSelection().getRangeAt(0),i=(0,b.F9)(r.startContainer);if(i||(Q(e,r),i=(0,b.F9)(r.startContainer)),i){for(var o=(0,I.im)(i,e.wysiwyg.element,r).start,s=!0,l=o-1;l>i.textContent.substr(0,o).lastIndexOf("\n");l--)if(" "!==i.textContent.charAt(l)&&"\t"!==i.textContent.charAt(l)){s=!1;break}0===o&&(s=!1);var c=!0;for(l=o-1;l<i.textContent.length;l++)if(" "!==i.textContent.charAt(l)&&"\n"!==i.textContent.charAt(l)){c=!1;break}var d=(0,y.W)(getSelection().getRangeAt(0).startContainer);d&&""===d.textContent&&(O(e),d.remove()),s&&"code-block"!==i.getAttribute("data-type")||c||at(i.innerHTML)||ot(i.innerHTML)&&i.previousElementSibling?"function"==typeof e.options.input&&e.options.input(a(e)):ze(e,r,n)}}}})),this.element.addEventListener("click",(function(n){if("INPUT"===n.target.tagName){var r=n.target;return r.checked?r.setAttribute("checked","checked"):r.removeAttribute("checked"),t.preventInput=!0,void Z(e)}if("IMG"!==n.target.tagName||n.target.parentElement.classList.contains("vditor-wysiwyg__preview")){"A"===n.target.tagName&&window.open(n.target.getAttribute("href"));var o=(0,I.zh)(e);if(n.target.isEqualNode(t.element)&&t.element.lastElementChild&&o.collapsed){var a=t.element.lastElementChild.getBoundingClientRect();n.y>a.top+a.height&&("P"===t.element.lastElementChild.tagName&&""===t.element.lastElementChild.textContent.trim().replace(i.g.ZWSP,"")?(o.selectNodeContents(t.element.lastElementChild),o.collapse(!1)):(t.element.insertAdjacentHTML("beforeend",'<p data-block="0">'+i.g.ZWSP+"<wbr></p>"),(0,I.ib)(t.element,o)))}ie(e);var s=(0,b.fb)(n.target,"vditor-wysiwyg__preview");s||(s=(0,b.fb)((0,I.zh)(e).startContainer,"vditor-wysiwyg__preview")),s&&ne(s,e),H(n,e)}else"link-ref"===n.target.getAttribute("data-type")?ae(e,n.target):function(e,t){var n=e.target;t.wysiwyg.popover.innerHTML="";var r=function(){n.setAttribute("src",o.value),n.setAttribute("alt",s.value),n.setAttribute("title",c.value)},i=document.createElement("span");i.setAttribute("aria-label",window.VditorI18n.imageURL),i.className="vditor-tooltipped vditor-tooltipped__n";var o=document.createElement("input");i.appendChild(o),o.className="vditor-input",o.setAttribute("placeholder",window.VditorI18n.imageURL),o.value=n.getAttribute("src")||"",o.oninput=function(){r()},o.onkeydown=function(e){re(t,e)};var a=document.createElement("span");a.setAttribute("aria-label",window.VditorI18n.alternateText),a.className="vditor-tooltipped vditor-tooltipped__n";var s=document.createElement("input");a.appendChild(s),s.className="vditor-input",s.setAttribute("placeholder",window.VditorI18n.alternateText),s.style.width="52px",s.value=n.getAttribute("alt")||"",s.oninput=function(){r()},s.onkeydown=function(e){re(t,e)};var l=document.createElement("span");l.setAttribute("aria-label",window.VditorI18n.title),l.className="vditor-tooltipped vditor-tooltipped__n";var c=document.createElement("input");l.appendChild(c),c.className="vditor-input",c.setAttribute("placeholder",window.VditorI18n.title),c.value=n.getAttribute("title")||"",c.oninput=function(){r()},c.onkeydown=function(e){re(t,e)},ce(n,t),t.wysiwyg.popover.insertAdjacentElement("beforeend",i),t.wysiwyg.popover.insertAdjacentElement("beforeend",a),t.wysiwyg.popover.insertAdjacentElement("beforeend",l),oe(t,n)}(n,e)})),this.element.addEventListener("keyup",(function(t){if(!t.isComposing&&!(0,c.yl)(t)){"Enter"===t.key&&Te(e),"Backspace"!==t.key&&"Delete"!==t.key||""===e.wysiwyg.element.innerHTML||1!==e.wysiwyg.element.childNodes.length||!e.wysiwyg.element.firstElementChild||"P"!==e.wysiwyg.element.firstElementChild.tagName||0!==e.wysiwyg.element.firstElementChild.childElementCount||""!==e.wysiwyg.element.textContent&&"\n"!==e.wysiwyg.element.textContent||(e.wysiwyg.element.innerHTML="");var n=(0,I.zh)(e);if("Backspace"===t.key&&(0,c.vU)()&&"\n"===n.startContainer.textContent&&1===n.startOffset&&(n.startContainer.textContent=""),Q(e,n),ie(e),"ArrowDown"===t.key||"ArrowRight"===t.key||"Backspace"===t.key||"ArrowLeft"===t.key||"ArrowUp"===t.key){"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||e.hint.render(e);var r=(0,b.fb)(n.startContainer,"vditor-wysiwyg__preview");if(!r&&3!==n.startContainer.nodeType&&n.startOffset>0&&(o=n.startContainer).classList.contains("vditor-wysiwyg__block")&&(r=o.lastElementChild),r)if("none"!==r.previousElementSibling.style.display){var i=r.previousElementSibling;if("PRE"===i.tagName&&(i=i.firstElementChild),"ArrowDown"===t.key||"ArrowRight"===t.key){var o,a=function(e){for(var t=e;t&&!t.nextSibling;)t=t.parentElement;return t.nextSibling}(o=r.parentElement);if(a&&3!==a.nodeType){var s=a.querySelector(".vditor-wysiwyg__preview");if(s)return void ne(s,e)}if(3===a.nodeType){for(;0===a.textContent.length&&a.nextSibling;)a=a.nextSibling;n.setStart(a,1)}else n.setStart(a.firstChild,0)}else n.selectNodeContents(i),n.collapse(!1)}else"ArrowDown"===t.key||"ArrowRight"===t.key?ne(r,e):ne(r,e,!1)}}}))},e}(),qn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fn=function(e){function t(t,n){var r=e.call(this)||this;r.version=i.H,"string"==typeof t&&(n?n.cache?n.cache.id||(n.cache.id="vditor"+t):n.cache={id:"vditor"+t}:n={cache:{id:"vditor"+t}},t=document.getElementById(t));var o=new zn(n).merge();if(o.i18n)window.VditorI18n=o.i18n,r.init(t,o);else{if(!["en_US","ja_JP","ko_KR","ru_RU","zh_CN","zh_TW"].includes(o.lang))throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");var a="vditorI18nScript",l=a+o.lang;document.querySelectorAll('head script[id^="vditorI18nScript"]').forEach((function(e){e.id!==l&&document.head.removeChild(e)})),(0,s.G)(o.cdn+"/dist/js/i18n/"+o.lang+".js",l).then((function(){r.init(t,o)}))}return r}return qn(t,e),t.prototype.setTheme=function(e,t,n,r){this.vditor.options.theme=e,z(this.vditor),t&&(this.vditor.options.preview.theme.current=t,(0,U.Z)(t,r||this.vditor.options.preview.theme.path)),n&&(this.vditor.options.preview.hljs.style=n,(0,Kt.Y)(n,this.vditor.options.cdn))},t.prototype.getValue=function(){return a(this.vditor)},t.prototype.getCurrentMode=function(){return this.vditor.currentMode},t.prototype.focus=function(){"sv"===this.vditor.currentMode?this.vditor.sv.element.focus():"wysiwyg"===this.vditor.currentMode?this.vditor.wysiwyg.element.focus():"ir"===this.vditor.currentMode&&this.vditor.ir.element.focus()},t.prototype.blur=function(){"sv"===this.vditor.currentMode?this.vditor.sv.element.blur():"wysiwyg"===this.vditor.currentMode?this.vditor.wysiwyg.element.blur():"ir"===this.vditor.currentMode&&this.vditor.ir.element.blur()},t.prototype.disabled=function(){v(this.vditor,["subToolbar","hint","popover"]),f(this.vditor.toolbar.elements,i.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","false")},t.prototype.enable=function(){p(this.vditor.toolbar.elements,i.g.EDIT_TOOLBARS.concat(["undo","redo","fullscreen","edit-mode"])),this.vditor.undo.resetIcon(this.vditor),this.vditor[this.vditor.currentMode].element.setAttribute("contenteditable","true")},t.prototype.getSelection=function(){return"wysiwyg"===this.vditor.currentMode?ye(this.vditor.wysiwyg.element):"sv"===this.vditor.currentMode?ye(this.vditor.sv.element):"ir"===this.vditor.currentMode?ye(this.vditor.ir.element):void 0},t.prototype.renderPreview=function(e){this.vditor.preview.render(this.vditor,e)},t.prototype.getCursorPosition=function(){return(0,I.Ny)(this.vditor[this.vditor.currentMode].element)},t.prototype.isUploading=function(){return this.vditor.upload.isUploading},t.prototype.clearCache=function(){localStorage.removeItem(this.vditor.options.cache.id)},t.prototype.disabledCache=function(){this.vditor.options.cache.enable=!1},t.prototype.enableCache=function(){if(!this.vditor.options.cache.id)throw new Error("need options.cache.id, see https://ld246.com/article/1549638745630#options");this.vditor.options.cache.enable=!0},t.prototype.html2md=function(e){return this.vditor.lute.HTML2Md(e)},t.prototype.exportJSON=function(e){return this.vditor.lute.RenderJSON(e)},t.prototype.getHTML=function(){return Ot(this.vditor)},t.prototype.tip=function(e,t){this.vditor.tip.show(e,t)},t.prototype.setPreviewMode=function(e){zt(e,this.vditor)},t.prototype.deleteValue=function(){window.getSelection().isCollapsed||document.execCommand("delete",!1)},t.prototype.updateValue=function(e){document.execCommand("insertHTML",!1,e)},t.prototype.insertValue=function(e,t){void 0===t&&(t=!0);var n=(0,I.zh)(this.vditor);n.collapse(!0);var r=document.createElement("template");r.innerHTML=e,n.insertNode(r.content.cloneNode(!0)),"sv"===this.vditor.currentMode?(this.vditor.sv.preventInput=!0,t&&$(this.vditor)):"wysiwyg"===this.vditor.currentMode?(this.vditor.wysiwyg.preventInput=!0,t&&ze(this.vditor,getSelection().getRangeAt(0))):"ir"===this.vditor.currentMode&&(this.vditor.ir.preventInput=!0,t&&R(this.vditor,getSelection().getRangeAt(0),!0))},t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t=!1),"sv"===this.vditor.currentMode?(this.vditor.sv.element.innerHTML="<div data-block='0'>"+this.vditor.lute.SpinVditorSVDOM(e)+"</div>",Oe(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})):"wysiwyg"===this.vditor.currentMode?fe(this.vditor,e,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1}):(this.vditor.ir.element.innerHTML=this.vditor.lute.Md2VditorIRDOM(e),this.vditor.ir.element.querySelectorAll(".vditor-ir__preview[data-render='2']").forEach((function(e){N(e,n.vditor)})),St(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})),this.vditor.outline.render(this.vditor),e||(v(this.vditor,["emoji","headings","submenu","hint"]),this.vditor.wysiwyg.popover&&(this.vditor.wysiwyg.popover.style.display="none"),this.clearCache()),t&&this.clearStack()},t.prototype.clearStack=function(){this.vditor.undo.clearStack(this.vditor),this.vditor.undo.addToUndoStack(this.vditor)},t.prototype.destroy=function(){this.vditor.element.innerHTML=this.vditor.originalInnerHTML,this.vditor.element.classList.remove("vditor"),this.vditor.element.removeAttribute("style");var e=document.getElementById("vditorIconScript");e&&e.remove(),this.clearCache(),F(),this.vditor.wysiwyg.unbindListener()},t.prototype.getCommentIds=function(){return"wysiwyg"!==this.vditor.currentMode?[]:this.vditor.wysiwyg.getComments(this.vditor,!0)},t.prototype.hlCommentIds=function(e){if("wysiwyg"===this.vditor.currentMode){var t=function(t){t.classList.remove("vditor-comment--hover"),e.forEach((function(e){t.getAttribute("data-cmtids").indexOf(e)>-1&&t.classList.add("vditor-comment--hover")}))};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach((function(e){t(e)})),"none"!==this.vditor.preview.element.style.display&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach((function(e){t(e)}))}},t.prototype.unHlCommentIds=function(e){if("wysiwyg"===this.vditor.currentMode){var t=function(t){e.forEach((function(e){t.getAttribute("data-cmtids").indexOf(e)>-1&&t.classList.remove("vditor-comment--hover")}))};this.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach((function(e){t(e)})),"none"!==this.vditor.preview.element.style.display&&this.vditor.preview.element.querySelectorAll(".vditor-comment").forEach((function(e){t(e)}))}},t.prototype.removeCommentIds=function(e){var t=this;if("wysiwyg"===this.vditor.currentMode){var n=function(e,n){var r=e.getAttribute("data-cmtids").split(" ");r.find((function(e,t){if(e===n)return r.splice(t,1),!0})),0===r.length?(e.outerHTML=e.innerHTML,(0,I.zh)(t.vditor).collapse(!0)):e.setAttribute("data-cmtids",r.join(" "))};e.forEach((function(e){t.vditor.wysiwyg.element.querySelectorAll(".vditor-comment").forEach((function(t){n(t,e)})),"none"!==t.vditor.preview.element.style.display&&t.vditor.preview.element.querySelectorAll(".vditor-comment").forEach((function(t){n(t,e)}))})),Z(this.vditor,{enableAddUndoStack:!0,enableHint:!1,enableInput:!1})}},t.prototype.init=function(e,t){var n=this;this.vditor={currentMode:t.mode,element:e,hint:new Nt(t.hint.extend),lute:void 0,options:t,originalInnerHTML:e.innerHTML,outline:new Rt(window.VditorI18n.outline),tip:new Ut},this.vditor.sv=new $t(this.vditor),this.vditor.undo=new $n,this.vditor.wysiwyg=new Vn(this.vditor),this.vditor.ir=new It(this.vditor),this.vditor.toolbar=new jn(this.vditor),t.resize.enable&&(this.vditor.resize=new Bt(this.vditor)),this.vditor.toolbar.elements.devtools&&(this.vditor.devtools=new l),(t.upload.url||t.upload.handler)&&(this.vditor.upload=new $e),(0,s.G)(t._lutePath||t.cdn+"/dist/js/lute/lute.min.js","vditorLuteScript").then((function(){n.vditor.lute=(0,Ht.X)({autoSpace:n.vditor.options.preview.markdown.autoSpace,codeBlockPreview:n.vditor.options.preview.markdown.codeBlockPreview,emojiSite:n.vditor.options.hint.emojiPath,emojis:n.vditor.options.hint.emoji,fixTermTypo:n.vditor.options.preview.markdown.fixTermTypo,footnotes:n.vditor.options.preview.markdown.footnotes,headingAnchor:!1,inlineMathDigit:n.vditor.options.preview.math.inlineDigit,linkBase:n.vditor.options.preview.markdown.linkBase,linkPrefix:n.vditor.options.preview.markdown.linkPrefix,listStyle:n.vditor.options.preview.markdown.listStyle,mark:n.vditor.options.preview.markdown.mark,mathBlockPreview:n.vditor.options.preview.markdown.mathBlockPreview,paragraphBeginningSpace:n.vditor.options.preview.markdown.paragraphBeginningSpace,sanitize:n.vditor.options.preview.markdown.sanitize,toc:n.vditor.options.preview.markdown.toc}),n.vditor.preview=new jt(n.vditor),function(e){e.element.innerHTML="",e.element.classList.add("vditor"),e.options.rtl&&e.element.setAttribute("dir","rtl"),z(e),(0,U.Z)(e.options.preview.theme.current,e.options.preview.theme.path),"number"==typeof e.options.height?e.element.style.height=e.options.height+"px":e.element.style.height=e.options.height,"number"==typeof e.options.minHeight&&(e.element.style.minHeight=e.options.minHeight+"px"),"number"==typeof e.options.width?e.element.style.width=e.options.width+"px":e.element.style.width=e.options.width,e.element.appendChild(e.toolbar.element);var t=document.createElement("div");if(t.className="vditor-content","left"===e.options.outline.position&&t.appendChild(e.outline.element),t.appendChild(e.wysiwyg.element.parentElement),t.appendChild(e.sv.element),t.appendChild(e.ir.element.parentElement),t.appendChild(e.preview.element),e.toolbar.elements.devtools&&t.appendChild(e.devtools.element),"right"===e.options.outline.position&&(e.outline.element.classList.add("vditor-outline--right"),t.appendChild(e.outline.element)),e.upload&&t.appendChild(e.upload.element),e.options.resize.enable&&t.appendChild(e.resize.element),t.appendChild(e.hint.element),t.appendChild(e.tip.element),e.element.appendChild(t),t.addEventListener("click",(function(){v(e,["subToolbar"])})),e.toolbar.elements.export&&e.element.insertAdjacentHTML("beforeend",'<iframe style="width: 100%;height: 0;border: 0"></iframe>'),ge(e,e.options.mode,G(e)),document.execCommand("DefaultParagraphSeparator",!1,"p"),navigator.userAgent.indexOf("iPhone")>-1&&void 0!==window.visualViewport){var n=!1,r=function(t){n||(n=!0,requestAnimationFrame((function(){n=!1;var t=e.toolbar.element;t.style.transform="none",t.getBoundingClientRect().top<0&&(t.style.transform="translate(0, "+-t.getBoundingClientRect().top+"px)")})))};window.visualViewport.addEventListener("scroll",r),window.visualViewport.addEventListener("resize",r)}}(n.vditor),t.after&&t.after(),t.icon&&(0,s.J)(t.cdn+"/dist/js/icons/"+t.icon+".js","vditorIconScript")}))},t}(t.default)}(),r.default}()}))},"0453":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={node:["大小","斜体","粗体","下划线","居中","缩进","上移","下移","删除"],img:["换图","宽度","超链接","预览图","禁用预览","上移","下移","删除"],link:["更换链接","上移","下移","删除"],media:["封面","循环","自动播放","上移","下移","删除"]};t.default=r},"045a":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"tm-pickersView flex-start px-24",class:[e.black_tmeme?"grey-darken-5":e.bgColor]},[e.listData.length>0?n("v-uni-picker-view",{staticClass:"tm-pickersBView-wk",attrs:{value:e.value_default,"mask-style":e.black_tmeme?"opacity:0;":"","indicator-style":"height:50px;","indicator-class":"tm-pickersBView-item-h"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change.apply(void 0,arguments)},pickstart:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("aniStart")},pickend:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("aniEnd")}}},e._l(e.listData,(function(t,r){return n("v-uni-picker-view-column",{key:r},e._l(e.listData[r],(function(t,i){return n("v-uni-view",{key:i,staticClass:"tm-pickersBView-item fulled-height flex-center ",class:[e.value_default[r]==i?"text-size-n text-weight-b active":"",e.black_tmeme?"bk":""],staticStyle:{margin:"0 5px"}},["string"==e.dataType?n("v-uni-text",[e._v(e._s(t))]):e._e(),"object"==e.dataType?n("v-uni-text",[e._v(e._s(t[e.rangKey]))]):e._e()],1)})),1)})),1):e._e()],1)},o=[]},"05c1":function(e,t,n){var r=n("36af");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("3fd682ba",r,!0,{sourceMap:!1,shadowMode:!1})},"0738":function(e,t,n){"use strict";var r=n("8534"),i=n.n(r);i.a},"0740":function(e,t,n){var r=n("007a");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("2d6c9431",r,!0,{sourceMap:!1,shadowMode:!1})},"0f1a":function(e,t,n){var r=n("b2b7");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("c307edee",r,!0,{sourceMap:!1,shadowMode:!1})},1148:function(e,t,n){"use strict";var r=n("a691"),i=n("1d80");e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},"1b48":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={tmRow:n("6e86").default,tmCol:n("bd71").default,tmButton:n("9a18").default,tmPickers:n("3464").default,tmInput:n("7a91").default,mpHtml:n("1c94").default,tmDialog:n("1ddea").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("tm-row",{directives:[{name:"show",rawName:"v-show",value:e.uid,expression:"uid"}]},[n("tm-col",{staticClass:"mt-10",attrs:{justify:"center",grid:12}},[n("v-uni-view",[e.showUpdate?e._e():n("tm-button",{directives:[{name:"show",rawName:"v-show",value:e.fetched,expression:"fetched"}],attrs:{size:"m",height:"65",theme:e.isSub?"primary":"green",icon:e.isSub?"icon-nail-fixed":"icon-nail"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleSub.apply(void 0,arguments)}}}),e.isPub||e.showUpdate?e._e():n("tm-button",{directives:[{name:"show",rawName:"v-show",value:e.fetched,expression:"fetched"}],attrs:{size:"m",height:"65",icon:"icon-lock"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.setPubConfirm.apply(void 0,arguments)}}}),e.showUpdate?e._e():n("tm-button",{directives:[{name:"show",rawName:"v-show",value:e.fetched,expression:"fetched"}],attrs:{size:"m",theme:e.isHide?"grey":"primary",height:"65",icon:e.isHide?"icon-eyeslash-fill":"icon-eye"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hideNoteConfirm.apply(void 0,arguments)}}}),e.showUpdate?e._e():n("tm-button",{attrs:{size:"m",icon:"icon-edit"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.startUpdate.apply(void 0,arguments)}}},[e._v("编辑笔记")]),e.showUpdate?n("tm-pickers",{staticStyle:{display:"inline-block!important",width:"unset !important"},attrs:{"default-value":e.selected_1,list:e.list_1,"rang-key":"title",title:"请选择标签(单选)","children-key":"children"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.addTag.apply(void 0,arguments)}}},[n("tm-button",{attrs:{icon:"icon-folder",size:"m"}},[e._v("分类标签")])],1):e._e(),e.showUpdate?n("tm-button",{directives:[{name:"show",rawName:"v-show",value:e.isCrx,expression:"isCrx"}],attrs:{icon:"icon-chart-relation",size:"m"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.addUrl.apply(void 0,arguments)}}},[e._v("提取URL")]):e._e(),e.showUpdate?n("tm-button",{attrs:{size:"m",icon:"icon-save"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.updateNote.apply(void 0,arguments)}}},[e._v("保存")]):e._e(),e.showUpdate?e._e():n("tm-button",{directives:[{name:"show",rawName:"v-show",value:e.isCrx,expression:"isCrx"}],attrs:{size:"m",icon:"icon-external-link"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.openLink.apply(void 0,arguments)}}},[e._v("打开")]),e.showUpdate?e._e():n("tm-button",{attrs:{size:"m",icon:"icon-delete",theme:"red"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteNoteConfirm.apply(void 0,arguments)}}},[e._v("删除")])],1)],1)],1),e.showUpdate?n("tm-input",{attrs:{height:100,vertical:!0,title:"标题(用于搜索)","border-bottom":!1,placeholder:"","input-type":"textarea","bg-color":"grey-lighten-5",clear:!0},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}):e.title?n("v-uni-view",{staticStyle:{padding:"5px","font-size":"20px","font-weight":"bold","user-select":"text"}},[e._v(e._s(e.title))]):e._e(),e.showUpdate&&!e.isCrx?n("tm-input",{attrs:{vertical:!0,"border-bottom":!1,title:"内容",placeholder:"支持代码块",height:"600","input-type":"textarea","bg-color":"grey-lighten-5"},model:{value:e.html,callback:function(t){e.html=t},expression:"html"}}):e._e(),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.showUpdate&&e.isCrx,expression:"showUpdate && isCrx"}],staticClass:"py-24 text-size-n",staticStyle:{padding:"5px 20px"}},[e._v("内容")]),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.showUpdate&&e.isCrx,expression:"showUpdate && isCrx"}],staticStyle:{padding:"15px",border:"none"},attrs:{id:"vditor"}}),n("v-uni-view",{staticStyle:{padding:"0 5px"}},[e.showUpdate?e._e():n("mp-html",{attrs:{highlight:!0,markdown:!0,selectable:!0,search:!0,lazyload:!0,scrollTable:!0,content:e.html}})],1),n("tm-dialog",{attrs:{confirmText:"删除",confirmColor:"bg-gradient-pink-accent",cancelColor:"pink",content:"删除确认",theme:"split"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.deleteNote.apply(void 0,arguments)}},model:{value:e.showDeleteConfirm,callback:function(t){e.showDeleteConfirm=t},expression:"showDeleteConfirm"}}),n("tm-dialog",{attrs:{confirmText:"公开",confirmColor:"bg-gradient-pink-accent",cancelColor:"pink",content:"公开文章后, 任何人都可以查询编辑, 但只有管理员可删除. 此操作暂时不可逆!",theme:"split"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.setPub.apply(void 0,arguments)}},model:{value:e.showPubConfirm,callback:function(t){e.showPubConfirm=t},expression:"showPubConfirm"}}),n("tm-dialog",{attrs:{confirmText:e.isHide?"显示":"隐藏",confirmColor:"bg-gradient-pink-accent",cancelColor:"pink",content:e.isHide?"恢复的笔记将出现在日常列表中":"隐藏的笔记能被搜索但不会显示在日常列表中",theme:"split"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.toggleHide.apply(void 0,arguments)}},model:{value:e.showHideConfirm,callback:function(t){e.showHideConfirm=t},expression:"showHideConfirm"}})],1)},o=[]},"1c94":function(e,t,n){"use strict";n.r(t);var r=n("cc4f"),i=n("5359");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("528d");var a,s=n("f0c5"),l=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"4089ccf1",null,!1,r["a"],a);t["default"]=l.exports},"1ddea":function(e,t,n){"use strict";n.r(t);var r=n("cc79"),i=n("60df");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("0738");var a,s=n("f0c5"),l=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"2b8ad1fd",null,!1,r["a"],a);t["default"]=l.exports},"1e25":function(e,t,n){"use strict";var r=n("23e7"),i=n("58a8").end,o=n("c8d2"),a=o("trimEnd"),s=a?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:a},{trimEnd:s,trimRight:s})},"24f4":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".tm-dialog[data-v-2b8ad1fd]{width:100%;z-index:600;background-color:rgba(0,0,0,.35);left:0;top:0;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .35s}.tm-dialog .success[data-v-2b8ad1fd]{-webkit-animation:success-data-v-2b8ad1fd .35s linear;animation:success-data-v-2b8ad1fd .35s linear}.tm-dialog .clickover[data-v-2b8ad1fd]{-webkit-animation:clickover-data-v-2b8ad1fd .35s linear;animation:clickover-data-v-2b8ad1fd .35s linear}@-webkit-keyframes clickover-data-v-2b8ad1fd{0%{-webkit-transform:scale(.95);transform:scale(.95)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes clickover-data-v-2b8ad1fd{0%{-webkit-transform:scale(.95);transform:scale(.95)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes success-data-v-2b8ad1fd{0%{-webkit-transform:scale(.75);transform:scale(.75);opacity:0}75%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes success-data-v-2b8ad1fd{0%{-webkit-transform:scale(.75);transform:scale(.75);opacity:0}75%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}}",""]),e.exports=t},"309c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={copyByLongPress:!0,showLanguageName:!0,showLineNumber:!0};t.default=r},"33ad":function(e,t,n){"use strict";var r=n("05c1"),i=n.n(r);i.a},3464:function(e,t,n){"use strict";n.r(t);var r=n("aaca"),i=n("dc38");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("33ad");var a,s=n("f0c5"),l=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"2b4dd9ff",null,!1,r["a"],a);t["default"]=l.exports},"34f6":function(e,t,n){"use strict";var r=n("49da"),i=n.n(r);i.a},3551:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* 根节点样式 */._root[data-v-4089ccf1]{padding:1px 0;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}\r\n/* 长按复制 */._select[data-v-4089ccf1]{-webkit-user-select:text;user-select:text}\r\n\r\n/* 提示条 */._tooltip_contain[data-v-4089ccf1]{position:absolute;right:20px;left:20px;text-align:center}._tooltip[data-v-4089ccf1]{box-sizing:border-box;display:inline-block;width:auto;max-width:100%;height:30px;padding:0 3px;overflow:scroll;font-size:14px;line-height:30px;white-space:nowrap}._tooltip_item[data-v-4089ccf1]{display:inline-block;width:auto;padding:0 2vw;line-height:30px;background-color:#000;color:#fff}\r\n/* 图片宽度滚动条 */._slider[data-v-4089ccf1]{position:absolute;left:20px;width:220px}._tooltip[data-v-4089ccf1],\r\n._slider[data-v-4089ccf1]{background-color:#000;border-radius:3px;opacity:.75}",""]),e.exports=t},"363e":function(e,t,n){"use strict";var r=n("6a9b"),i=n.n(r);i.a},"367b":function(e,t,n){"use strict";n.r(t);var r=n("fa7a"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"36af":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".tm-pickers-title[data-v-2b4dd9ff]{position:relative}.tm-pickers-title .tm-pickers-close[data-v-2b4dd9ff]{position:absolute;top:%?32?%;right:%?32?%;width:%?50?%;height:%?50?%}",""]),e.exports=t},"38cf":function(e,t,n){var r=n("23e7"),i=n("1148");r({target:"String",proto:!0},{repeat:i})},"3a4b":function(e,t,n){"use strict";var r=n("4ea4");n("4de4"),n("4160"),n("d81d"),n("d3b7"),n("ac1f"),n("1276"),n("2ca0"),n("159b"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=r(n("1da1")),o={name:"imgcache",prefix:"imgcache_"};function a(e){this.vm=e,this.i=0,e.imgCache={get list(){return uni.getStorageInfoSync().keys.filter((function(e){return e.startsWith(o.prefix)})).map((function(e){return e.split(o.prefix)[1]}))},get:function(e){return uni.getStorageSync(o.prefix+e)},delete:function(e){var t=uni.getStorageSync(o.prefix+e);return!!t&&(plus.io.resolveLocalFileSystemURL(t,(function(e){e.remove()})),uni.removeStorageSync(o.prefix+e),!0)},add:function(e){return(0,i.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,download(e);case 2:if(n=t.sent,!n){t.next=6;break}return uni.setStorageSync(o.prefix+e,n),t.abrupt("return","file://"+plus.io.convertLocalFileSystemURL(n));case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)})))()},clear:function(){uni.getStorageInfoSync().keys.filter((function(e){return e.startsWith(o.prefix)})).forEach((function(e){uni.removeStorageSync(e)})),plus.io.resolveLocalFileSystemURL("_doc/".concat(o.name,"/"),(function(e){e.removeRecursively((function(e){console.log("".concat(o.name,"缓存删除成功"),e)}),(function(e){console.log("".concat(o.name,"缓存删除失败"),e)}))}))}}}var s=a;t.default=s},"49da":function(e,t,n){var r=n("734e");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("ab5506f4",r,!0,{sourceMap:!1,shadowMode:!1})},"4a3e":function(e,t,n){"use strict";var r=n("4ea4");n("c975"),n("ac1f"),n("5319"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("5395")),o=r(n("309c")),a=r(n("7c6d"));function s(e){this.vm=e}s.prototype.onParse=function(e,t){if("pre"===e.name){var n;for(n=e.children.length;n--;)if("code"===e.children[n].name)break;if(-1===n)return;var r,s=e.children[n],l=s.attrs.class||"";for(n=l.indexOf("language-"),-1===n&&(l=e.attrs.class||"",n=l.indexOf("language-")),-1===n&&(l="language-text",n=l.indexOf("language-")),n+=9,r=n;r<l.length;r++)if(" "===l[r])break;var c=l.substring(n,r);if(s.children.length){var d=this.vm.getText(s.children).replace(/&amp;/g,"&");if(!d)return;if(e.c&&(e.c=void 0),i.default.languages[c]&&(s.children=new a.default(this.vm).parse("<pre>"+i.default.highlight(d,i.default.languages[c],c).replace(/token /g,"hl-")+"</pre>")[0].children),e.attrs.class="hl-pre",s.attrs.class="hl-code",o.default.showLanguageName&&e.children.push({name:"div",attrs:{class:"hl-language",style:"user-select:none"},children:[{type:"text",text:c}]}),o.default.copyByLongPress&&(e.attrs["data-content"]=d,t.expose()),o.default.showLineNumber){for(var u=d.split("\n").length,p=[],f=u;f--;)p.push({name:"span",attrs:{class:"span"}});e.children.push({name:"span",attrs:{class:"line-numbers-rows"},children:p})}}}};var l=s;t.default=l},"528d":function(e,t,n){"use strict";var r=n("8e50"),i=n.n(r);i.a},5359:function(e,t,n){"use strict";n.r(t);var r=n("9415"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},5395:function(e,t,n){(function(t){n("4160"),n("d81d"),n("fb6a"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("159b");var r="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},i=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof o?new o(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,o;switch(n=n||{},i.util.type(t)){case"Object":if(o=i.util.objId(t),n[o])return n[o];for(var a in r={},n[o]=r,t)t.hasOwnProperty(a)&&(r[a]=e(t[a],n));return r;case"Array":return o=i.util.objId(t),n[o]?n[o]:(r=[],n[o]=r,t.forEach((function(t,i){r[i]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var o=(r=r||i.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var c=r[e];return r[e]=a,i.languages.DFS(i.languages,(function(t,n){n===c&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,r,o){o=o||{};var a=i.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],c=i.util.type(l);"Object"!==c||o[a(l)]?"Array"!==c||o[a(l)]||(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,a=0;o=r.elements[a++];)i.highlightElement(o,!0===t,r.callback)},highlightElement:function(t,n,r){var o=i.util.getLanguage(t),a=i.languages[o];i.util.setLanguage(t,o);var s=t.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&i.util.setLanguage(s,o);var l={element:t,language:o,grammar:a,code:t.textContent};function c(e){l.highlightedCode=e,i.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i.hooks.run("after-highlight",l),i.hooks.run("complete",l),r&&r.call(l.element)}if(i.hooks.run("before-sanity-check",l),(s=l.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!l.code)return i.hooks.run("complete",l),void(r&&r.call(l.element));if(i.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var d=new Worker(i.filename);d.onmessage=function(e){c(e.data)},d.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(i.highlight(l.code,l.grammar,l.language));else c(i.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(i.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),o.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new l;return c(i,i.head,e),s(e,i,t,i.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(i)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,o=0;r=n[o++];)r(t)}},Token:o};function o(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function s(e,t,n,r,l,u){for(var p in n)if(n.hasOwnProperty(p)&&n[p]){var f=n[p];f=Array.isArray(f)?f:[f];for(var h=0;h<f.length;++h){if(u&&u.cause==p+","+h)return;var m=f[h],v=m.inside,g=!!m.lookbehind,b=!!m.greedy,y=m.alias;if(b&&!m.pattern.global){var w=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,w+"g")}for(var k=m.pattern||m,x=r.next,E=l;x!==t.tail&&!(u&&E>=u.reach);E+=x.value.length,x=x.next){var _=x.value;if(t.length>e.length)return;if(!(_ instanceof o)){var S,T=1;if(b){if(!(S=a(k,E,e,g))||S.index>=e.length)break;var C=S.index,L=S.index+S[0].length,A=E;for(A+=x.value.length;C>=A;)A+=(x=x.next).value.length;if(E=A-=x.value.length,x.value instanceof o)continue;for(var M=x;M!==t.tail&&(A<L||"string"==typeof M.value);M=M.next)T++,A+=M.value.length;T--,_=e.slice(E,A),S.index-=E}else if(!(S=a(k,0,_,g)))continue;C=S.index;var N=S[0],I=_.slice(0,C),O=_.slice(C+N.length),H=E+_.length;u&&H>u.reach&&(u.reach=H);var D=x.prev;if(I&&(D=c(t,D,I),E+=I.length),d(t,D,T),x=c(t,D,new o(p,v?i.tokenize(N,v):N,y,N)),O&&c(t,x,O),T>1){var R={cause:p+","+h,reach:H};s(e,t,n,x.prev,E,R),u&&R.reach>u.reach&&(u.reach=R.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function d(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}if(e.Prism=i,o.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),i.hooks.run("wrap",o);var s="";for(var l in o.attributes)s+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,o=n.code,a=n.immediateClose;e.postMessage(i.highlight(o,i.languages[r],r)),a&&e.close()}),!1),i):i;var u=i.util.currentScript();function p(){i.manual||i.highlightAll()}if(u&&(i.filename=u.src,u.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var f=document.readyState;"loading"===f||"interactive"===f&&u&&u.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return i}(r);e.exports&&(e.exports=i),"undefined"!=typeof t&&(t.Prism=i),i.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},i.languages.markup.tag.inside["attr-value"].inside.entity=i.languages.markup.entity,i.languages.markup.doctype.inside["internal-subset"].inside=i.languages.markup,i.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(i.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:i.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:i.languages[t]};var o={};o[e]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},i.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(i.languages.markup.tag,"addAttribute",{value:function(e,t){i.languages.markup.tag.inside["special-attr"].push({pattern:RegExp("(^|[\"'\\s])(?:"+e+")\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))","i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:i.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.xml=i.languages.extend("markup",{}),i.languages.ssml=i.languages.xml,i.languages.atom=i.languages.xml,i.languages.rss=i.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:[^;{\\s\"']|\\s+(?!\\s)|"+t.source+")*?(?:;|(?=\\s*\\{))"),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|(?:[^\\\\\r\n()\"']|\\\\[^])*)\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(i),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{"class-name":[i.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),i.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,i.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp("((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r\n,.;:})\\]]|//))"),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:i.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:i.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:i.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:i.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:i.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),i.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),i.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),i.languages.markup&&(i.languages.markup.tag.addInlined("script","javascript"),i.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),i.languages.js=i.languages.javascript,i.languages.go=i.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),i.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete i.languages.go["class-name"],function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n="(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",r={pattern:RegExp("(^|[^\\w.])"+n+"[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b"),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp("(^|[^\\w.])"+n+"[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)"),lookbehind:!0,inside:r.inside},{pattern:RegExp("(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)"+n+"[A-Z]\\w*\\b"),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp("(\\bimport\\s+)"+n+"(?:[A-Z]\\w*|\\*)(?=\\s*;)"),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp("(\\bimport\\s+static\\s+)"+n+"(?:\\w+|\\*)(?=\\s*;)"),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp("(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?".replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(i),i.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},i.languages.webmanifest=i.languages.json,function(e){var t=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;e.languages.json5=e.languages.extend("json",{property:[{pattern:RegExp(t.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:t,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})}(i),i.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},i.languages.python["string-interpolation"].inside.interpolation.inside.rest=i.languages.python,i.languages.py=i.languages.python,i.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}).call(this,n("c8ba"))},"541b":function(e,t,n){"use strict";var r=n("4ea4");n("99af"),n("e25e"),n("ac1f"),n("5319"),n("1276"),n("498a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("7945"));function o(){this.styles=[]}function a(e,t){function n(t){if("#"===t[0]){if(e.attrs.id&&e.attrs.id.trim()===t.substr(1))return 3}else if("."===t[0]){t=t.substr(1);for(var n=(e.attrs.class||"").split(" "),r=0;r<n.length;r++)if(n[r].trim()===t)return 2}else if(e.name===t)return 1;return 0}if(t instanceof Array){for(var r=0,i=0;i<t.length;i++){var o=n(t[i]);if(!o)return 0;o>r&&(r=o)}return r}return n(t)}o.prototype.onParse=function(e,t){if("style"===e.name&&e.children.length&&"text"===e.children[0].type)this.styles=this.styles.concat((new i.default).parse(e.children[0].text));else if(e.name){for(var n=["","","",""],r=0,o=this.styles.length;r<o;r++){var s=this.styles[r],l=a(e,s.key||s.list[s.list.length-1]),c=void 0;if(l){if(!s.key){c=s.list.length-2;for(var d=t.stack.length;c>=0&&d--;)if(">"===s.list[c]){if(c<1||c>s.list.length-2)break;a(t.stack[d],s.list[c-1])?c-=2:c++}else a(t.stack[d],s.list[c])&&c--;l=4}if(s.key||c<0)if(s.pseudo&&e.children){var u=void 0;s.style=s.style.replace(/content:([^;]+)/,(function(t,n){return u=n.replace(/['"]/g,"").replace(/attr\((.+?)\)/,(function(t,n){return e.attrs[n.trim()]||""})).replace(/\\(\w{4})/,(function(e,t){return String.fromCharCode(parseInt(t,16))})),""}));var p={name:"span",attrs:{style:s.style},children:[{type:"text",text:u}]};"before"===s.pseudo?e.children.unshift(p):e.children.push(p)}else n[l-1]+=s.style+(";"===s.style[s.style.length-1]?"":";")}}n=n.join(""),n.length>2&&(e.attrs.style=n+(e.attrs.style||""))}};var s=o;t.default=s},"58fa":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{class:"_block _"+e.name+" "+e.attrs.class,style:(e.ctrl.root?"border:1px solid black;padding:5px;display:block;":"")+e.attrs.style,attrs:{id:e.attrs.id},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.nodeTap.apply(void 0,arguments)}}},[e._l(e.childs,(function(t,r){return["img"===t.name&&(e.opts[1]&&!e.ctrl[r]||e.ctrl[r]<0)?n("v-uni-image",{key:r+"_0",staticClass:"_img",style:t.attrs.style,attrs:{src:e.ctrl[r]<0?e.opts[2]:e.opts[1],mode:"widthFix"}}):e._e(),"img"===t.name?n("img",{key:r+"_1",class:"_img "+t.attrs.class,style:(e.ctrl["e"+r]?"border:1px dashed black;padding:3px;":"")+(-1===e.ctrl[r]?"display:none;":"")+t.attrs.style,attrs:{id:t.attrs.id,src:t.attrs.src||(e.ctrl.load?t.attrs["data-src"]:""),"data-i":r},on:{load:function(t){arguments[0]=t=e.$handleEvent(t),e.imgLoad.apply(void 0,arguments)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.mediaError.apply(void 0,arguments)},longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.imgLongTap.apply(void 0,arguments)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.imgTap.apply(void 0,arguments)}}}):"text"!==t.type||e.ctrl["e"+r]?"text"===t.type&&1===e.ctrl["e"+r]?n("v-uni-text",{staticStyle:{border:"1px dashed black","min-width":"50px",width:"auto",padding:"5px",display:"block"},attrs:{"data-i":r},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.editStart.apply(void 0,arguments)}}},[e._v(e._s(t.text)),t.text?e._e():n("v-uni-text",{staticStyle:{color:"gray"}},[e._v(e._s(e.opts[6]||"请输入"))])],1):"text"===t.type?n("v-uni-textarea",{staticStyle:{border:"1px dashed black","min-width":"50px",width:"auto",padding:"5px"},attrs:{"auto-height":!0,maxlength:"-1",focus:3===e.ctrl["e"+r],value:t.text,"data-i":r},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.editInput.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.editEnd.apply(void 0,arguments)}}}):"br"===t.name?n("v-uni-text",[e._v("\\n")]):"a"===t.name?n("v-uni-view",{class:(t.attrs.href?"_a ":"")+t.attrs.class,style:"display:inline;"+t.attrs.style,attrs:{id:t.attrs.id,"hover-class":"_hover","data-i":r},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.linkTap.apply(void 0,arguments)}}},[n("node",{staticStyle:{display:"inherit"},attrs:{name:"span",childs:t.children,opts:[e.opts[0],e.opts[1],e.opts[2],e.opts[3],e.opts[4],e.opts[5],e.opts[6],e.opts[7]+"."+r+".children"]}})],1):"video"===t.name?n("v-uni-video",{class:t.attrs.class,style:t.attrs.style,attrs:{"show-center-play-btn":!e.opts[5],id:t.attrs.id,autoplay:t.attrs.autoplay,controls:t.attrs.controls,loop:t.attrs.loop,muted:t.attrs.muted,"object-fit":t.attrs["object-fit"],poster:t.attrs.poster,src:t.src[e.ctrl[r]||0],"data-i":r},on:{play:function(t){arguments[0]=t=e.$handleEvent(t),e.play.apply(void 0,arguments)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.mediaError.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.mediaTap.apply(void 0,arguments)}}}):"iframe"===t.name?n("iframe",{style:t.attrs.style,attrs:{allowfullscreen:t.attrs.allowfullscreen,frameborder:t.attrs.frameborder,src:t.attrs.src}}):"embed"===t.name?n("embed",{style:t.attrs.style,attrs:{src:t.attrs.src}}):"table"===t.name&&(t.c||e.opts[5])||"li"===t.name?n("v-uni-view",{class:"_"+t.name+" "+t.attrs.class,style:t.attrs.style,attrs:{id:t.attrs.id}},["li"===t.name?n("node",{attrs:{childs:t.children,opts:[e.opts[0],e.opts[1],e.opts[2],e.opts[3],e.opts[4],e.opts[5],e.opts[6],e.opts[7]+"."+r+".children"]}}):e._l(t.children,(function(t,i){return n("v-uni-view",{key:i,class:"_"+t.name+" "+t.attrs.class,style:t.attrs.style},["td"===t.name||"th"===t.name?n("node",{attrs:{childs:t.children,opts:[e.opts[0],e.opts[1],e.opts[2],e.opts[3],e.opts[4],e.opts[5],e.opts[6],e.opts[7]+"."+r+".children."+i+".children"]}}):e._l(t.children,(function(t,o){return["td"===t.name||"th"===t.name?n("v-uni-view",{key:o+"_0",class:"_"+t.name+" "+t.attrs.class,style:t.attrs.style},[n("node",{attrs:{childs:t.children,opts:[e.opts[0],e.opts[1],e.opts[2],e.opts[3],e.opts[4],e.opts[5],e.opts[6],e.opts[7]+"."+r+".children."+i+".children."+o+".children"]}})],1):n("v-uni-view",{class:"_"+t.name+" "+t.attrs.class,style:t.attrs.style},e._l(t.children,(function(t,a){return n("v-uni-view",{key:a,class:"_"+t.name+" "+t.attrs.class,style:t.attrs.style},[n("node",{attrs:{childs:t.children,opts:[e.opts[0],e.opts[1],e.opts[2],e.opts[3],e.opts[4],e.opts[5],e.opts[6],e.opts[7]+"."+r+".children."+i+".children."+o+".children."+a+".children"]}})],1)})),1)]}))],2)}))],2):"audio"==t.name?n("my-audio",{class:t.attrs.class,style:t.attrs.style,attrs:{aid:t.attrs.id,author:t.attrs.author,controls:t.attrs.controls,autoplay:t.attrs.autoplay,loop:t.attrs.loop,name:t.attrs.name,poster:t.attrs.poster,src:t.src[e.ctrl[r]||0],"data-i":r,"data-source":"audio"},on:{play:function(t){arguments[0]=t=e.$handleEvent(t),e.play.apply(void 0,arguments)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.mediaError.apply(void 0,arguments)},click:function(t){arguments[0]=t=e.$handleEvent(t),e.mediaTap.apply(void 0,arguments)}}}):t.attrs["data-content"]?n("v-uni-rich-text",{attrs:{nodes:[t],"data-content":t.attrs["data-content"],"data-lang":t.attrs["data-lang"]},on:{longpress:function(t){arguments[0]=t=e.$handleEvent(t),e.copyCode.apply(void 0,arguments)}}}):"txv-video"==t.name?n("txv-video",{class:t.attrs.class,style:t.attrs.style,attrs:{vid:t.attrs.vid,playerid:t.attrs.vid,id:t.attrs.vid,controls:!0,"data-i":r},on:{play:function(t){arguments[0]=t=e.$handleEvent(t),e.play.apply(void 0,arguments)},error:function(t){arguments[0]=t=e.$handleEvent(t),e.mediaError.apply(void 0,arguments)}}}):e.opts[5]||t.c||e.handler.isInline(t.name,t.attrs.style)?2===t.c?n("v-uni-view",{class:"_block _"+t.name+" "+t.attrs.class,style:t.f+";"+t.attrs.style,attrs:{id:t.attrs.id}},e._l(t.children,(function(t,i){return n("node",{key:i,style:t.f,attrs:{name:t.name,attrs:t.attrs,childs:t.children,opts:[e.opts[0],e.opts[1],e.opts[2],e.opts[3],e.opts[4],e.opts[5],e.opts[6],e.opts[7]+"."+r+".children."+i+".children"]}})})),1):n("node",{style:t.f,attrs:{name:t.name,attrs:t.attrs,childs:t.children,opts:[e.opts[0],e.opts[1],e.opts[2],e.opts[3],e.opts[4],e.opts[5],e.opts[6],e.opts[7]+"."+r+".children"]}}):n("v-uni-rich-text",{style:t.f,attrs:{id:t.attrs.id,"user-select":e.opts[4],nodes:[t]}}):n("v-uni-text",{attrs:{"data-i":r,"user-select":e.opts[4],decode:!e.opts[5]},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editStart.apply(void 0,arguments)}}},[e._v(e._s(t.text)),t.text?e._e():n("v-uni-text",{staticStyle:{color:"gray"}},[e._v(e._s(e.opts[6]||"请输入"))])],1)]}))],2)},o=[]},6062:function(e,t,n){"use strict";var r=n("6d61"),i=n("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"60df":function(e,t,n){"use strict";n.r(t);var r=n("9f9d"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},6409:function(e,t,n){"use strict";n.r(t);var r=n("58fa"),i=n("fef2");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("755d");var a,s=n("f0c5"),l=n("f2e3"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"d6548008",null,!1,r["a"],a);"function"===typeof l["a"]&&Object(l["a"])(c),t["default"]=c.exports},"6a9b":function(e,t,n){var r=n("e119");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("d79f416c",r,!0,{sourceMap:!1,shadowMode:!1})},"6d7f":function(e,t,n){"use strict";var r=n("0f1a"),i=n.n(r);i.a},7340:function(e,t,n){"use strict";n.r(t);var r=n("9e6c"),i=n("dbc0");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("6d7f");var a,s=n("f0c5"),l=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"6e1e77e8",null,!1,r["a"],a);t["default"]=l.exports},"734e":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".tm-pickersView .tm-pickersBView-item-h[data-v-1ff77e1b]{height:50px;background-color:rgba(0,0,0,.03);width:calc(100% - 10px);margin-left:5px;border-radius:%?20?%;border:none}.tm-pickersView .tm-pickersBView-item-h[data-v-1ff77e1b]::after,.tm-pickersView .tm-pickersBView-item-h[data-v-1ff77e1b]::before{border:none}.tm-pickersView .tm-pickersBView-wk[data-v-1ff77e1b]{position:relative;width:%?750?%;height:%?500?%}.tm-pickersView .tm-pickersBView-wk .tm-pickersBView-item.bk[data-v-1ff77e1b]{opacity:.4}.tm-pickersView .tm-pickersBView-wk .tm-pickersBView-item.active[data-v-1ff77e1b]{opacity:1;border-radius:%?20?%;border:none;background-color:rgba(0,0,0,.06)}.tm-pickersView .tm-pickersBView-wk .tm-pickersBView-item.active.bk[data-v-1ff77e1b]{background-color:hsla(0,0%,100%,.06)}",""]),e.exports=t},"73ed":function(e,t,n){"use strict";var r=n("4ea4");n("99af"),n("caad"),n("baa5"),n("fb6a"),n("a434"),n("e25e"),n("4d63"),n("ac1f"),n("25f0"),n("2532"),n("466d"),n("5319"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("f9cb3")),o=r(n("6409"));function a(e){var t;return t=e.touches[0].pageY,t-e.currentTarget.offsetTop<150&&(t=e.currentTarget.offsetTop),t<30&&(t+=70),t-30}var s={name:"node",options:{},data:function(){return{ctrl:{}}},props:{name:String,attrs:{type:Object,default:function(){return{}}},childs:Array,opts:Array},components:{myAudio:i.default,node:o.default},mounted:function(){var e=this;if(this.$nextTick((function(){for(e.root=e.$parent;"mp-html"!==e.root.$options.name;e.root=e.root.$parent);})),this.opts[0]){var t;for(t=this.childs.length;t--;)if("img"===this.childs[t].name)break;-1!==t&&(this.observer=uni.createIntersectionObserver(this).relativeToViewport({top:500,bottom:500}),this.observer.observe("._img",(function(t){t.intersectionRatio&&(e.$set(e.ctrl,"load",1),e.observer.disconnect())})))}},beforeDestroy:function(){this.root._edit===this&&(this.root._edit=void 0),this.observer&&this.observer.disconnect()},methods:{copyCode:function(e){uni.showActionSheet({itemList:["复制代码"],success:function(){return uni.setClipboardData({data:e.currentTarget.dataset.content})}})},editStart:function(e){var t=this;if(this.opts[5]){var n=e.currentTarget.dataset.i;this.ctrl["e"+n]?(this.root._mask.pop(),this.root._maskTap(),this.$set(this.ctrl,"e"+n,2),setTimeout((function(){t.$set(t.ctrl,"e"+n,3)}),50)):(this.$set(this.ctrl,"e"+n,1),setTimeout((function(){t.root._mask.push((function(){return t.$set(t.ctrl,"e"+n,0)}))}),50),this.root._edit=this,this.i=n,this.cursor=this.childs[n].text.length)}},editInput:function(e){var t=e.target.dataset.i,n=e.detail.value.replace(/ {2,}/,(function(e){for(var t=" ",n=1;n<e.length;n++)t+=" ";return t}));this.root._editVal("".concat(this.opts[7],".").concat(t,".text"),this.childs[t].text,n),this.cursor=e.detail.cursor},editEnd:function(e){var t=e.target.dataset.i;this.$set(this.ctrl,"e"+t,0),this.root._setData("".concat(this.opts[7],".").concat(t,".text"),e.detail.value),void 0!==e.detail.cursor&&(this.cursor=e.detail.cursor)},insert:function(e){var t=this;setTimeout((function(){var n=t.childs.slice(0);if(n[t.i])if(n[t.i].text){var r=n[t.i].text,i=[];t.cursor&&i.push({type:"text",text:r.substring(0,t.cursor)}),i.push(e),t.cursor<r.length&&i.push({type:"text",text:r.substring(t.cursor)}),n.splice.apply(n,[t.i,1].concat(i))}else n.splice(parseInt(t.i)+1,0,e);else n.push(e);t.root._editVal(t.opts[7],t.childs,n,!0),t.i=parseInt(t.i)+1}),200)},remove:function(e){var t=this.childs.slice(0),n=t.splice(e,1)[0];if("img"===n.name||"video"===n.name||"audio"===n.name){var r=n.attrs.src;n.src&&(r=1===n.src.length?n.src[0]:n.src),this.root.$emit("remove",{type:n.name,src:r})}this.root._edit=void 0,this.root._maskTap(),this.root._editVal(this.opts[7],this.childs,t,!0)},nodeTap:function(e){var t=this;if(this.opts[5]){if(this.root._lock)return;if(this.root._lock=!0,setTimeout((function(){t.root._lock=!1}),50),3===this.ctrl["e"+this.i])return;this.root._maskTap(),this.root._edit=this;var n=this.opts[7].lastIndexOf("children.");-1!==n?n+=9:n=6;var r=parseInt(this.opts[7].substring(n,this.opts[7].lastIndexOf(".children"))),i=this.$parent;while(i&&"node"!==i.$options.name)i=i.$parent;if(!i||this.opts[7].length-i.opts[7].length>15)return;this.$set(this.ctrl,"root",1),this.root._mask.push((function(){return t.$set(t.ctrl,"root",0)})),1!==this.childs.length||"text"!==this.childs[0].type||this.ctrl.e0||(this.$set(this.ctrl,"e0",1),this.root._mask.push((function(){return t.$set(t.ctrl,"e0",0)})),this.i=0,this.cursor=this.childs[0].text.length);var o=this.root._getItem(i.childs[r],0!==r,r!==i.childs.length-1);this.root._tooltip({top:a(e),items:o,success:function(n){if("大小"===o[n]){var s=i.childs[r].attrs.style||"",l=s.match(/;font-size:([0-9]+)px/);l=l?parseInt(l[1]):16,t.root._slider({min:10,max:30,value:l,top:a(e),changing:function(t){Math.abs(t-l)>2&&(i.changeStyle("font-size",r,t+"px",l+"px"),l=e.detail.value)},change:function(e){e!==l&&i.changeStyle("font-size",r,e+"px",l+"px"),t.root._editVal("".concat(i.opts[7],".").concat(r,".attrs.style"),s,i.childs[r].attrs.style)}})}else if("上移"===o[n]||"下移"===o[n]){var c=i.childs.slice(0),d=c[r];"上移"===o[n]?(c[r]=c[r-1],c[r-1]=d):(c[r]=c[r+1],c[r+1]=d),t.root._editVal(i.opts[7],i.childs,c,!0)}else if("删除"===o[n])i.remove(r);else{var u,p,f=i.childs[r].attrs.style||"",h="",m=o[n];"斜体"===m?(u="font-style",p="italic"):"粗体"===m?(u="font-weight",p="bold"):"下划线"===m?(u="text-decoration",p="underline"):"居中"===m?(u="text-align",p="center"):"缩进"===m&&(u="text-indent",p="2em"),h=f.includes(u+":")?f.replace(new RegExp(u+":[^;]+"),""):f+";"+u+":"+p,t.root._editVal("".concat(i.opts[7],".").concat(r,".attrs.style"),f,h,!0)}}})}},mediaTap:function(e){var t=this;if(this.opts[5]){var n=e.target.dataset.i,r=this.childs[n],i=this.root._getItem(r);this.root._edit=this,this.i=n,this.root._tooltip({top:e.target.offsetTop-30,items:i,success:function(e){switch(i[e]){case"封面":t.root.getSrc("img",r.attrs.poster||"").then((function(e){t.root._editVal("".concat(t.opts[7],".").concat(n,".attrs.poster"),r.attrs.poster,e instanceof Array?e[0]:e,!0)})).catch((function(){}));break;case"删除":t.remove(n);break;case"循环":case"不循环":t.root._setData("".concat(t.opts[7],".").concat(n,".attrs.loop"),!r.attrs.loop),uni.showToast({title:"成功"});break;case"自动播放":case"不自动播放":t.root._setData("".concat(t.opts[7],".").concat(n,".attrs.autoplay"),!r.attrs.autoplay),uni.showToast({title:"成功"});break}}}),this.root._lock=!0,setTimeout((function(){t.root._lock=!1}),50)}},changeStyle:function(e,t,n,r){var i=this.childs[t].attrs.style||"";i.includes(";"+e+":"+r)?i=i.replace(";"+e+":"+r,";"+e+":"+n):i+=";"+e+":"+n,this.root._setData("".concat(this.opts[7],".").concat(t,".attrs.style"),i)},play:function(e){if(this.root.$emit("play"),this.root.pauseVideo){for(var t=!1,n=e.target.id,r=this.root._videos.length;r--;)this.root._videos[r].id===n?t=!0:this.root._videos[r].pause();if(!t){var i=uni.createVideoContext(n,this);i.id=n,this.root._videos.push(i)}}},imgTap:function(e){var t=this;if(this.opts[5]){var n=e.currentTarget.dataset.i,r=this.childs[n],i=this.root._getItem(r);this.root._edit=this,this.i=n,this.root._maskTap(),this.$set(this.ctrl,"e"+n,1),this.root._mask.push((function(){return t.$set(t.ctrl,"e"+n,0)})),this.root._tooltip({top:a(e),items:i,success:function(o){if("换图"===i[o])t.root.getSrc("img",r.attrs.src||"").then((function(e){t.root._editVal(t.opts[7]+"."+n+".attrs.src",r.attrs.src,e instanceof Array?e[0]:e,!0)})).catch((function(){}));else if("宽度"===i[o]){var s=r.attrs.style||"",l=s.match(/max-width:([0-9]+)%/);l=l?parseInt(l[1]):100,t.root._slider({min:0,max:100,value:l,top:a(e),changing:function(e){Math.abs(e-l)>5&&(t.changeStyle("max-width",n,e+"%",l+"%"),l=e)},change:function(e){e!==l&&(t.changeStyle("max-width",n,e+"%",l+"%"),l=e),t.root._editVal(t.opts[7]+"."+n+".attrs.style",s,t.childs[n].attrs.style)}})}else"超链接"===i[o]?t.root.getSrc("link",r.a?r.a.href:"").then((function(e){if(r.a)t.root._editVal(t.opts[7]+"."+n+".a.href",r.a.href,e,!0);else{var i={name:"a",attrs:{href:e},children:[r]};r.a=i.attrs,t.root._editVal(t.opts[7]+"."+n,r,i,!0)}wx.showToast({title:"成功"})})).catch((function(){})):"预览图"===i[o]?t.root.getSrc("img",r.attrs["original-src"]||"").then((function(e){t.root._editVal(t.opts[7]+"."+n+".attrs.original-src",r.attrs["original-src"],e instanceof Array?e[0]:e,!0),uni.showToast({title:"成功"})})).catch((function(){})):"删除"===i[o]?t.remove(n):(t.root._setData(t.opts[7]+"."+n+".attrs.ignore",!r.attrs.ignore),uni.showToast({title:"成功"}))}}),this.root._lock=!0,setTimeout((function(){t.root._lock=!1}),50)}else{var o=this.childs[e.currentTarget.dataset.i];if(o.a)return void this.linkTap(o.a);if(o.attrs.ignore)return;o.attrs.src=o.attrs.src||o.attrs["data-src"],this.root.$emit("imgtap",o.attrs),this.root.previewImg&&uni.previewImage({current:parseInt(o.attrs.i),urls:this.root.imgList})}},imgLongTap:function(e){},imgLoad:function(e){var t=e.currentTarget.dataset.i;(this.opts[1]&&!this.ctrl[t]||-1===this.ctrl[t])&&this.$set(this.ctrl,t,1)},linkTap:function(e){var t=this;if(this.opts[5]){var n=e.currentTarget.dataset.i,r=this.childs[n],i=this.root._getItem(r);this.root._tooltip({top:a(e),items:i,success:function(e){"更换链接"===i[e]?t.root.getSrc("link",r.attrs.href).then((function(e){t.root._editVal(t.opts[7]+"."+n+".attrs.href",r.attrs.href,e,!0),uni.showToast({title:"成功"})})).catch((function(){})):t.remove(n)}})}else{var o=e.currentTarget?this.childs[e.currentTarget.dataset.i]:{},s=o.attrs||e,l=s.href;this.root.$emit("linktap",Object.assign({innerText:this.root.getText(o.children||[])},s)),l&&("#"===l[0]?this.root.navigateTo(l.substring(1)).catch((function(){})):l.split("?")[0].includes("://")?this.root.copyLink&&window.open(l):uni.navigateTo({url:l,fail:function(){uni.switchTab({url:l,fail:function(){}})}}))}},mediaError:function(e){var t=e.currentTarget.dataset.i,n=this.childs[t];if("video"===n.name||"audio"===n.name){var r=(this.ctrl[t]||0)+1;if(r>n.src.length&&(r=0),r<n.src.length)return void this.$set(this.ctrl,t,r)}else"img"===n.name&&this.opts[2]&&this.$set(this.ctrl,t,-1);this.root&&this.root.$emit("error",{source:n.name,attrs:n.attrs,errMsg:e.detail.errMsg})}}};t.default=s},"755d":function(e,t,n){"use strict";var r=n("0740"),i=n.n(r);i.a},7650:function(e,t,n){"use strict";n.r(t);var r=n("1b48"),i=n("367b");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("76ca");var a,s=n("f0c5"),l=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"a95bb786",null,!1,r["a"],a);t["default"]=l.exports},"76ca":function(e,t,n){"use strict";var r=n("f6ca"),i=n.n(r);i.a},7945:function(e,t,n){"use strict";n("99af"),n("caad"),n("c975"),n("ac1f"),n("2532"),n("1276"),n("1e25"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={" ":!0,"\n":!0,"\t":!0,"\r":!0,"\f":!0};function i(){this.styles=[],this.selectors=[]}function o(e){this.selector="",this.style="",this.handler=e}i.prototype.parse=function(e){return new o(this).parse(e),this.styles},i.prototype.onSelector=function(e){if(!(e.includes("[")||e.includes("*")||e.includes("@"))){var t={};if(e.includes(":")){var n=e.split(":"),r=n.pop();if("before"!==r&&"after"!==r)return;t.pseudo=r,e=n[0]}if(e.includes(" ")){t.list=[];for(var i=e.split(" "),o=0;o<i.length;o++)if(i[o].length)for(var a=i[o].split(">"),s=0;s<a.length;s++)t.list.push(l(a[s])),s<a.length-1&&t.list.push(">")}else t.key=l(e);this.selectors.push(t)}function l(e){var t,n,r=[];for(t=1,n=0;t<e.length;t++)"."!==e[t]&&"#"!==e[t]||(r.push(e.substring(n,t)),n=t);return r.length?(r.push(e.substring(n,t)),r):e}},i.prototype.onContent=function(e){for(var t=0;t<this.selectors.length;t++)this.selectors[t].style=e;this.styles=this.styles.concat(this.selectors),this.selectors=[]},o.prototype.parse=function(e){this.i=0,this.content=e,this.state=this.blank;for(var t=e.length;this.i<t;this.i++)this.state(e[this.i])},o.prototype.comment=function(){this.i=this.content.indexOf("*/",this.i)+1,this.i||(this.i=this.content.length)},o.prototype.blank=function(e){if(!r[e]){if("/"===e&&"*"===this.content[this.i+1])return void this.comment();this.selector+=e,this.state=this.name}},o.prototype.name=function(e){if("/"!==e||"*"!==this.content[this.i+1])if("{"===e||","===e||";"===e){if(this.handler.onSelector(this.selector.trimEnd()),this.selector="","{"!==e)while(r[this.content[++this.i]]);"{"===this.content[this.i]?(this.floor=1,this.state=this.val):this.selector+=this.content[this.i]}else r[e]?this.selector+=" ":this.selector+=e;else this.comment()},o.prototype.val=function(e){if("/"!==e||"*"!==this.content[this.i+1]){if("{"===e)this.floor++;else if("}"===e&&(this.floor--,!this.floor))return this.handler.onContent(this.style),this.style="",void(this.state=this.blank);this.style+=e}else this.comment()};var a=i;t.default=a},"7c6d":function(e,t,n){"use strict";n("99af"),n("caad"),n("c975"),n("baa5"),n("fb6a"),n("a434"),n("d3b7"),n("acd8"),n("e25e"),n("ac1f"),n("25f0"),n("2532"),n("5319"),n("1276"),n("498a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={trustTags:c("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),blockTags:c("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),ignoreTags:c("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),voidTags:c("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),entities:{lt:"<",gt:">",quot:'"',apos:"'",ensp:" ",emsp:" ",nbsp:" ",semi:";",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",larr:"←",uarr:"↑",rarr:"→",darr:"↓"},tagStyle:{address:"font-style:italic",big:"display:inline;font-size:1.2em",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",strike:"text-decoration:line-through",u:"text-decoration:underline"},svgDict:{animatetransform:"animateTransform",lineargradient:"linearGradient",viewbox:"viewBox",attributename:"attributeName",repeatcount:"repeatCount",repeatdur:"repeatDur"}},i={},o=uni.getSystemInfoSync(),a=o.windowWidth,s=c(" ,\r,\n,\t,\f"),l=0;function c(e){for(var t=Object.create(null),n=e.split(","),r=n.length;r--;)t[n[r]]=!0;return t}function d(e,t){var n=e.indexOf("&");while(-1!==n){var i=e.indexOf(";",n+3),o=void 0;if(-1===i)break;"#"===e[n+1]?(o=parseInt(("x"===e[n+2]?"0":"")+e.substring(n+2,i)),isNaN(o)||(e=e.substr(0,n)+String.fromCharCode(o)+e.substr(i+1))):(o=e.substring(n+1,i),(r.entities[o]||"amp"===o&&t)&&(e=e.substr(0,n)+(r.entities[o]||"&")+e.substr(i+1))),n=e.indexOf("&",n+1)}return e}function u(e){this.options=e||{},this.tagStyle=Object.assign({},r.tagStyle,this.options.tagStyle),this.imgList=e.imgList||[],this.plugins=e.plugins||[],this.attrs=Object.create(null),this.stack=[],this.nodes=[],this.pre=(this.options.containerStyle||"").includes("white-space")&&this.options.containerStyle.includes("pre")?2:0}function p(e){this.handler=e}r.ignoreTags.iframe=void 0,r.trustTags.iframe=!0,r.ignoreTags.embed=void 0,r.trustTags.embed=!0,u.prototype.parse=function(e){for(var t=this.plugins.length;t--;)this.plugins[t].onUpdate&&(e=this.plugins[t].onUpdate(e,r)||e);new p(this).parse(e);while(this.stack.length)this.popNode();return this.nodes},u.prototype.expose=function(){for(var e=this.stack.length;e--;){var t=this.stack[e];if(t.c||"a"===t.name||"video"===t.name||"audio"===t.name)return;t.c=1}},u.prototype.hook=function(e){for(var t=this.plugins.length;t--;)if(this.plugins[t].onParse&&!1===this.plugins[t].onParse(e,this))return!1;return!0},u.prototype.getUrl=function(e){var t=this.options.domain;return"/"===e[0]?"/"===e[1]?e=(t?t.split("://")[0]:"http")+":"+e:t&&(e=t+e):e.includes("data:")||e.includes("://")||t&&(e=t+"/"+e),e},u.prototype.parseStyle=function(e){var t=e.attrs,n=(this.tagStyle[e.name]||"").split(";").concat((t.style||"").split(";")),r={},i="";t.id&&!this.xml&&(this.options.useAnchor?this.expose():"img"!==e.name&&"a"!==e.name&&"video"!==e.name&&"audio"!==e.name&&(t.id=void 0)),t.width&&(r.width=parseFloat(t.width)+(t.width.includes("%")?"%":"px"),t.width=void 0),t.height&&(r.height=parseFloat(t.height)+(t.height.includes("%")?"%":"px"),t.height=void 0);for(var o=0,l=n.length;o<l;o++){var c=n[o].split(":");if(!(c.length<2)){var d=c.shift().trim().toLowerCase(),u=c.join(":").trim();if("-"===u[0]&&u.lastIndexOf("-")>0||u.includes("safe"))i+=";".concat(d,":").concat(u);else if(!r[d]||u.includes("import")||!r[d].includes("import")){if(u.includes("url")){var p=u.indexOf("(")+1;if(p){while('"'===u[p]||"'"===u[p]||s[u[p]])p++;u=u.substr(0,p)+this.getUrl(u.substr(p))}}else u.includes("rpx")&&(u=u.replace(/[0-9.]+\s*rpx/g,(function(e){return parseFloat(e)*a/750+"px"})));r[d]=u}}}return e.attrs.style=i,r},u.prototype.onTagName=function(e){this.tagName=this.xml?e:e.toLowerCase(),"svg"===this.tagName&&(this.xml=(this.xml||0)+1)},u.prototype.onAttrName=function(e){e=this.xml?e:e.toLowerCase(),"data-"===e.substr(0,5)?"data-src"!==e||this.attrs.src?"img"===this.tagName||"a"===this.tagName?this.attrName=e:this.attrName=void 0:this.attrName="src":(this.attrName=e,this.attrs[e]="T")},u.prototype.onAttrVal=function(e){var t=this.attrName||"";"style"===t||"href"===t?this.attrs[t]=d(e,!0):t.includes("src")?this.attrs[t]=this.getUrl(d(e,!0)):t&&(this.attrs[t]=e)},u.prototype.onOpenTag=function(e){var t=Object.create(null);t.name=this.tagName,t.attrs=this.attrs,this.options.nodes.length&&(t.type="node"),this.attrs=Object.create(null);var n=t.attrs,o=this.stack[this.stack.length-1],s=o?o.children:this.nodes,c=this.xml?e:r.voidTags[t.name];if(i[t.name]&&(n.class=i[t.name]+(n.class?" "+n.class:"")),"embed"===t.name&&this.expose(),"video"!==t.name&&"audio"!==t.name||("video"!==t.name||n.id||(n.id="v"+l++),n.controls||n.autoplay||(n.controls="T"),t.src=[],n.src&&(t.src.push(n.src),n.src=void 0),this.expose()),c){if(!this.hook(t)||r.ignoreTags[t.name])return void("base"!==t.name||this.options.domain?"source"===t.name&&o&&("video"===o.name||"audio"===o.name)&&n.src&&o.src.push(n.src):this.options.domain=n.href);var d=this.parseStyle(t);if("img"===t.name){if(n.src&&(n.src.includes("webp")&&(t.webp="T"),n.src.includes("data:")&&!n["original-src"]&&(n.ignore="T"),!n.ignore||t.webp||n.src.includes("cloud://"))){for(var u=this.stack.length;u--;){var p=this.stack[u];if("a"===p.name){t.a=p.attrs;break}p.c=1}n.i=this.imgList.length.toString();var f=n["original-src"]||n.src;this.imgList.push(f),this.options.lazyLoad&&(n["data-src"]=n.src,n.src=void 0)}"inline"===d.display&&(d.display=""),n.ignore&&(d["max-width"]=d["max-width"]||"100%",n.style+=";-webkit-touch-callout:none"),parseInt(d.width)>a&&(d.height=void 0),isNaN(parseInt(d.width))||(t.w="T"),!isNaN(parseInt(d.height))&&(!d.height.includes("%")||o&&(o.attrs.style||"").includes("height"))&&(t.h="T")}else if("svg"===t.name)return s.push(t),this.stack.push(t),void this.popNode();for(var h in d)d[h]&&(n.style+=";".concat(h,":").concat(d[h].replace(" !important","")));n.style=n.style.substr(1)||void 0}else("pre"===t.name||(n.style||"").includes("white-space")&&n.style.includes("pre"))&&2!==this.pre&&(this.pre=t.pre=1),t.children=[],this.stack.push(t);s.push(t)},u.prototype.onCloseTag=function(e){var t;for(e=this.xml?e:e.toLowerCase(),t=this.stack.length;t--;)if(this.stack[t].name===e)break;if(-1!==t)while(this.stack.length>t)this.popNode();else if("p"===e||"br"===e){var n=this.stack.length?this.stack[this.stack.length-1].children:this.nodes;n.push({name:e,attrs:{class:i[e]||"",style:this.tagStyle[e]||""}})}},u.prototype.popNode=function(){var e=this.options.editable,t=this.stack.pop(),n=t.attrs,i=t.children,o=this.stack[this.stack.length-1],s=o?o.children:this.nodes;if(!this.hook(t)||r.ignoreTags[t.name])return"title"===t.name&&i.length&&"text"===i[0].type&&this.options.setTitle&&uni.setNavigationBarTitle({title:i[0].text}),void s.pop();if(t.pre&&2!==this.pre){this.pre=t.pre=void 0;for(var l=this.stack.length;l--;)this.stack[l].pre&&(this.pre=1)}var c={};if("svg"===t.name){if(this.xml>1)return void this.xml--;var d="",u=n.style;return n.style="",n.xmlns="http://www.w3.org/2000/svg",function e(t){if("text"!==t.type){var n=r.svgDict[t.name]||t.name;for(var i in d+="<"+n,t.attrs){var o=t.attrs[i];o&&(d+=" ".concat(r.svgDict[i]||i,'="').concat(o,'"'))}if(t.children){d+=">";for(var a=0;a<t.children.length;a++)e(t.children[a]);d+="</"+n+">"}else d+="/>"}else d+=t.text}(t),t.name="img",t.attrs={src:"data:image/svg+xml;utf8,"+d.replace(/#/g,"%23"),style:u,ignore:"T"},t.children=void 0,void(this.xml=!1)}if(n.align&&("table"===t.name?"center"===n.align?c["margin-inline-start"]=c["margin-inline-end"]="auto":c.float=n.align:c["text-align"]=n.align,n.align=void 0),n.dir&&(c.direction=n.dir,n.dir=void 0),"font"===t.name&&(n.color&&(c.color=n.color,n.color=void 0),n.face&&(c["font-family"]=n.face,n.face=void 0),n.size)){var p=parseInt(n.size);isNaN(p)||(p<1?p=1:p>7&&(p=7),c["font-size"]=["x-small","small","medium","large","x-large","xx-large","xxx-large"][p-1]),n.size=void 0}if((n.class||"").includes("align-center")&&(c["text-align"]="center"),Object.assign(c,this.parseStyle(t)),"table"!==t.name&&parseInt(c.width)>a&&(c["max-width"]="100%",c["box-sizing"]="border-box"),r.blockTags[t.name]?e||(t.name="div"):r.trustTags[t.name]||this.xml||(t.name="span"),"a"===t.name||"ad"===t.name||"iframe"===t.name)this.expose();else if("video"===t.name)(c.height||"").includes("auto")&&(c.height=void 0);else if("ul"!==t.name&&"ol"!==t.name||!t.c&&!e){if("table"===t.name){var f=parseFloat(n.cellpadding),h=parseFloat(n.cellspacing),m=parseFloat(n.border);if((t.c||e)&&(isNaN(f)&&(f=2),isNaN(h)&&(h=2)),m&&(n.style+=";border:"+m+"px solid gray"),t.flag&&(t.c||e)){c.display="grid",h?(c["grid-gap"]=h+"px",c.padding=h+"px"):m&&(n.style+=";border-left:0;border-top:0");var v=[],g=[],b=[],y={};(function e(t){for(var n=0;n<t.length;n++)"tr"===t[n].name?g.push(t[n]):e(t[n].children||[])})(i);for(var w=1;w<=g.length;w++){for(var k=1,x=0;x<g[w-1].children.length;x++){var E=g[w-1].children[x];if("td"===E.name||"th"===E.name){while(y[w+"."+k])k++;e&&(E.r=w);var _=E.attrs.style||"",S=_.indexOf("width")?_.indexOf(";width"):0;if(-1!==S){var T=_.indexOf(";",S+6);-1===T&&(T=_.length),E.attrs.colspan||(v[k]=_.substring(S?S+7:6,T)),_=_.substr(0,S)+_.substr(T)}if(_+=(m?";border:".concat(m,"px solid gray")+(h?"":";border-right:0;border-bottom:0"):"")+(f?";padding:".concat(f,"px"):""),E.attrs.colspan&&(_+=";grid-column-start:".concat(k,";grid-column-end:").concat(k+parseInt(E.attrs.colspan)),E.attrs.rowspan||(_+=";grid-row-start:".concat(w,";grid-row-end:").concat(w+1)),k+=parseInt(E.attrs.colspan)-1),E.attrs.rowspan){_+=";grid-row-start:".concat(w,";grid-row-end:").concat(w+parseInt(E.attrs.rowspan)),E.attrs.colspan||(_+=";grid-column-start:".concat(k,";grid-column-end:").concat(k+1));for(var C=1;C<E.attrs.rowspan;C++)for(var L=0;L<(E.attrs.colspan||1);L++)y[w+C+"."+(k-L)]=1}_&&(E.attrs.style=_),b.push(E),k++}}if(1===w){for(var A="",M=1;M<k;M++)A+=(v[M]?v[M]:"auto")+" ";c["grid-template-columns"]=A}}t.children=b}else(t.c||e)&&(c.display="table"),isNaN(h)||(c["border-spacing"]=h+"px"),(m||f)&&function e(t){for(var n=0;n<t.length;n++){var r=t[n];"th"===r.name||"td"===r.name?(m&&(r.attrs.style="border:".concat(m,"px solid gray;").concat(r.attrs.style||"")),f&&(r.attrs.style="padding:".concat(f,"px;").concat(r.attrs.style||""))):r.children&&e(r.children)}}(i);if(this.options.scrollTable&&!(n.style||"").includes("inline")){var N=Object.assign({},t);t.name="div",t.attrs={style:"overflow:auto"},t.children=[N],n=N.attrs}}else if("td"!==t.name&&"th"!==t.name||!n.colspan&&!n.rowspan)if("ruby"===t.name){t.name="span";for(var I=0;I<i.length-1;I++)"text"===i[I].type&&"rt"===i[I+1].name&&(i[I]={name:"div",attrs:{style:"display:inline-block;text-align:center"},children:[{name:"div",attrs:{style:"font-size:50%;"+(i[I+1].attrs.style||"")},children:i[I+1].children},i[I]]},i.splice(I+1,1))}else!e&&t.c&&function(e){e.c=2;for(var t=e.children.length;t--;){var n=e.children[t];n.c&&"table"!==n.name||(e.c=1)}}(t);else for(var O=this.stack.length;O--;)if("table"===this.stack[O].name){this.stack[O].flag=1;break}}else{var H={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};H[n.type]&&(n.style+=";list-style-type:"+H[n.type],n.type=void 0);for(var D=i.length;D--;)"li"===i[D].name&&(i[D].c=1)}if((c.display||"").includes("flex")&&!t.c&&!e)for(var R=i.length;R--;){var P=i[R];P.f&&(P.attrs.style=(P.attrs.style||"")+P.f,P.f=void 0)}var j=o&&((o.attrs.style||"").includes("flex")||(o.attrs.style||"").includes("grid"))&&!t.c;if(j&&(t.f=";max-width:100%"),i.length>=50&&(t.c||e)&&!(c.display||"").includes("flex"))for(var B=i.length-1,$=B;$>=-1;$--)(-1===$||i[$].c||!i[$].name||"div"!==i[$].name&&"p"!==i[$].name&&"h"!==i[$].name[0]||(i[$].attrs.style||"").includes("inline"))&&(B-$>=5&&i.splice($+1,B-$,{name:"div",attrs:{},children:t.children.slice($+1,B+1)}),B=$-1);for(var U in c)if(c[U]){var z=";".concat(U,":").concat(c[U].replace(" !important",""));j&&(U.includes("flex")&&"flex-direction"!==U||"align-self"===U||U.includes("grid")||"-"===c[U][0]||U.includes("width")&&z.includes("%"))?(t.f+=z,"width"===U&&(n.style+=";width:100%")):n.style+=z}n.style=n.style.substr(1)||void 0},u.prototype.onText=function(e){if(!this.pre){for(var t,n="",r=0,i=e.length;r<i;r++)s[e[r]]?(" "!==n[n.length-1]&&(n+=" "),"\n"!==e[r]||t||(t=!0)):n+=e[r];if(" "===n&&t)return;e=n}var o=Object.create(null);if(o.type="text",o.text=d(e),this.hook(o)){var a=this.stack.length?this.stack[this.stack.length-1].children:this.nodes;a.push(o)}},p.prototype.parse=function(e){this.content=e||"",this.i=0,this.start=0,this.state=this.text;for(var t=this.content.length;-1!==this.i&&this.i<t;)this.state()},p.prototype.checkClose=function(e){var t="/"===this.content[this.i];return!!(">"===this.content[this.i]||t&&">"===this.content[this.i+1])&&(e&&this.handler[e](this.content.substring(this.start,this.i)),this.i+=t?2:1,this.start=this.i,this.handler.onOpenTag(t),"script"===this.handler.tagName?(this.i=this.content.indexOf("</",this.i),-1!==this.i&&(this.i+=2,this.start=this.i),this.state=this.endTag):this.state=this.text,!0)},p.prototype.text=function(){if(this.i=this.content.indexOf("<",this.i),-1!==this.i){var e=this.content[this.i+1];if(e>="a"&&e<="z"||e>="A"&&e<="Z")this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i)),this.start=++this.i,this.state=this.tagName;else if("/"===e||"!"===e||"?"===e){this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i));var t=this.content[this.i+2];if("/"===e&&(t>="a"&&t<="z"||t>="A"&&t<="Z"))return this.i+=2,this.start=this.i,void(this.state=this.endTag);var n="--\x3e";"!"===e&&"-"===this.content[this.i+2]&&"-"===this.content[this.i+3]||(n=">"),this.i=this.content.indexOf(n,this.i),-1!==this.i&&(this.i+=n.length,this.start=this.i)}else this.i++}else this.start<this.content.length&&this.handler.onText(this.content.substring(this.start,this.content.length))},p.prototype.tagName=function(){if(s[this.content[this.i]]){this.handler.onTagName(this.content.substring(this.start,this.i));while(s[this.content[++this.i]]);this.i<this.content.length&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)}else this.checkClose("onTagName")||this.i++},p.prototype.attrName=function(){var e=this.content[this.i];if(s[e]||"="===e){this.handler.onAttrName(this.content.substring(this.start,this.i));var t="="===e,n=this.content.length;while(++this.i<n)if(e=this.content[this.i],!s[e]){if(this.checkClose())return;if(t)return this.start=this.i,void(this.state=this.attrVal);if("="!==this.content[this.i])return this.start=this.i,void(this.state=this.attrName);t=!0}}else this.checkClose("onAttrName")||this.i++},p.prototype.attrVal=function(){var e=this.content[this.i],t=this.content.length;if('"'===e||"'"===e){if(this.start=++this.i,this.i=this.content.indexOf(e,this.i),-1===this.i)return;this.handler.onAttrVal(this.content.substring(this.start,this.i))}else for(;this.i<t;this.i++){if(s[this.content[this.i]]){this.handler.onAttrVal(this.content.substring(this.start,this.i));break}if(this.checkClose("onAttrVal"))return}while(s[this.content[++this.i]]);this.i<t&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)},p.prototype.endTag=function(){var e=this.content[this.i];if(s[e]||">"===e||"/"===e){if(this.handler.onCloseTag(this.content.substring(this.start,this.i)),">"!==e&&(this.i=this.content.indexOf(">",this.i),-1===this.i))return;this.start=++this.i,this.state=this.text}else this.i++};var f=u;t.default=f},"80b2":function(e,t,n){"use strict";
/*!
 * marked - a markdown parser
 * Copyright (c) 2011-2020, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/markedjs/marked
 */
function r(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,n){var r;if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator])return(r=e[Symbol.iterator]()).next.bind(r);if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){return d[e]}var i,o=(function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:t(),getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}}(i={exports:{}}),i.exports),a=(o.defaults,o.getDefaults,o.changeDefaults,/[&<>"']/),s=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function p(e){return e.replace(u,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var f=/(^|[^\[])\^/g,h=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,v={},g=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,y=/^([^:]+:\/*[^/]*)[\s\S]*$/;function w(e,t){v[" "+e]||(g.test(e)?v[" "+e]=e+"/":v[" "+e]=k(e,"/",!0));var n=-1===(e=v[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(b,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(y,"$1")+t:e+t}function k(e,t,n){var r=e.length;if(0===r)return"";for(var i=0;i<r;){var o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}var x=function(e,t){if(t){if(a.test(e))return e.replace(s,r)}else if(l.test(e))return e.replace(c,r);return e},E=p,_=function(e,t){e=e.source||e,t=t||"";var n={replace:function(t,r){return r=(r=r.source||r).replace(f,"$1"),e=e.replace(t,r),n},getRegex:function(){return new RegExp(e,t)}};return n},S=function(e,t,n){if(e){var r;try{r=decodeURIComponent(p(n)).replace(h,"").toLowerCase()}catch(e){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}t&&!m.test(n)&&(n=w(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},T={exec:function(){}},C=function(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},L=function(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var r=!1,i=t;0<=--i&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},A=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,r=0,i=0;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&--r<0)return i;return-1},M=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},N=function(e,t){if(t<1)return"";for(var n="";1<t;)1&t&&(n+=e),t>>=1,e+=e;return n+e},I=o.defaults,O=k,H=L,D=x,R=A;function P(e,t,n){var r=t.href,i=t.title?D(t.title):null;t=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:t}:{type:"image",raw:n,href:r,title:i,text:D(t)}}var j=function(){function e(e){this.options=e||I}var t=e.prototype;return t.space=function(e){if(e=this.rules.block.newline.exec(e),e)return 1<e[0].length?{type:"space",raw:e[0]}:{raw:"\n"}},t.code=function(e,t){if(e=this.rules.block.code.exec(e),e)return t=t[t.length-1],t&&"paragraph"===t.type?{raw:e[0],text:e[0].trimRight()}:(t=e[0].replace(/^ {4}/gm,""),{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:O(t,"\n")})},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0];e=function(e,t){if(null===(e=e.match(/^(\s+)(?:```)/)))return t;var n=e[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null!==t&&t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]&&t[2].trim(),text:e}}},t.heading=function(e){if(e=this.rules.block.heading.exec(e),e)return{type:"heading",raw:e[0],depth:e[1].length,text:e[2]}},t.nptable=function(e){if(e=this.rules.block.nptable.exec(e),e){var t={type:"table",header:H(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(t.header.length===t.align.length){for(var n=t.align.length,r=0;r<n;r++)/^ *-+: *$/.test(t.align[r])?t.align[r]="right":/^ *:-+: *$/.test(t.align[r])?t.align[r]="center":/^ *:-+ *$/.test(t.align[r])?t.align[r]="left":t.align[r]=null;for(n=t.cells.length,r=0;r<n;r++)t.cells[r]=H(t.cells[r],t.header.length);return t}}},t.hr=function(e){if(e=this.rules.block.hr.exec(e),e)return{type:"hr",raw:e[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t)return e=t[0].replace(/^ *> ?/gm,""),{type:"blockquote",raw:t[0],text:e}},t.list=function(e){if(e=this.rules.block.list.exec(e),e){for(var t,n,r,i,o,a=e[0],s=e[2],l=1<s.length,c={type:"list",raw:a,ordered:l,start:l?+s.slice(0,-1):"",loose:!1,items:[]},d=e[0].match(this.rules.block.item),u=!1,p=d.length,f=this.rules.block.listItemStart.exec(d[0]),h=0;h<p;h++){if(a=t=d[h],h!==p-1){if((r=this.rules.block.listItemStart.exec(d[h+1]))[1].length>f[0].length||3<r[1].length){d.splice(h,2,d[h]+"\n"+d[h+1]),h--,p--;continue}(!this.options.pedantic||this.options.smartLists?r[2][r[2].length-1]!==s[s.length-1]:l==(1===r[2].length))&&(n=d.slice(h+1).join("\n"),c.raw=c.raw.substring(0,c.raw.length-n.length),h=p-1),f=r}r=t.length,~(t=t.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=t.length,t=this.options.pedantic?t.replace(/^ {1,4}/gm,""):t.replace(new RegExp("^ {1,"+r+"}","gm"),"")),r=u||/\n\n(?!\s*$)/.test(t),h!==p-1&&(u="\n"===t.charAt(t.length-1),r=r||u),r&&(c.loose=!0),this.options.gfm&&(o=void 0,(i=/^\[[ xX]\] /.test(t))&&(o=" "!==t[1],t=t.replace(/^\[[ xX]\] +/,""))),c.items.push({type:"list_item",raw:a,task:i,checked:o,loose:r,text:t})}return c}},t.html=function(e){if(e=this.rules.block.html.exec(e),e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):D(e[0]):e[0]}},t.def=function(e){if(e=this.rules.block.def.exec(e),e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},t.table=function(e){if(e=this.rules.block.table.exec(e),e){var t={type:"table",header:H(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];for(var n=t.align.length,r=0;r<n;r++)/^ *-+: *$/.test(t.align[r])?t.align[r]="right":/^ *:-+: *$/.test(t.align[r])?t.align[r]="center":/^ *:-+ *$/.test(t.align[r])?t.align[r]="left":t.align[r]=null;for(n=t.cells.length,r=0;r<n;r++)t.cells[r]=H(t.cells[r].replace(/^ *\| *| *\| *$/g,""),t.header.length);return t}}},t.lheading=function(e){if(e=this.rules.block.lheading.exec(e),e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},t.paragraph=function(e){if(e=this.rules.block.paragraph.exec(e),e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},t.text=function(e,t){if(e=this.rules.block.text.exec(e),e)return t=t[t.length-1],t&&"text"===t.type?{raw:e[0],text:e[0]}:{type:"text",raw:e[0],text:e[0]}},t.escape=function(e){if(e=this.rules.inline.escape.exec(e),e)return{type:"escape",raw:e[0],text:D(e[1])}},t.tag=function(e,t,n){if(e=this.rules.inline.tag.exec(e),e)return!t&&/^<a /i.test(e[0])?t=!0:t&&/^<\/a>/i.test(e[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):D(e[0]):e[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){e=R(t[2],"()"),-1<e&&(r=(0===t[0].indexOf("!")?5:4)+t[1].length+e,t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,r).trim(),t[3]="");e=t[2];var n,r="";return r=this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(e),n?(e=n[1],n[3]):""):t[3]?t[3].slice(1,-1):"",P(t,{href:(e=e.trim().replace(/^<([\s\S]*)>$/,"$1"))&&e.replace(this.rules.inline._escapes,"$1"),title:r&&r.replace(this.rules.inline._escapes,"$1")},t[0])}},t.reflink=function(e,t){if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){if(e=(n[2]||n[1]).replace(/\s+/g," "),(e=t[e.toLowerCase()])&&e.href)return P(n,e,n[0]);var n=n[0].charAt(0);return{type:"text",raw:n,text:n}}},t.strong=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.strong.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var i,o="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(o.lastIndex=0;null!=(r=o.exec(t));)if(i=this.rules.inline.strong.middle.exec(t.slice(0,r.index+3)))return{type:"strong",raw:e.slice(0,i[0].length),text:e.slice(2,i[0].length-2)}}},t.em=function(e,t,n){void 0===n&&(n="");var r=this.rules.inline.em.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var i,o="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(o.lastIndex=0;null!=(r=o.exec(t));)if(i=this.rules.inline.em.middle.exec(t.slice(0,r.index+2)))return{type:"em",raw:e.slice(0,i[0].length),text:e.slice(1,i[0].length-1)}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n);e=n.startsWith(" ")&&n.endsWith(" ");return r&&e&&(n=n.substring(1,n.length-1)),n=D(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){if(e=this.rules.inline.br.exec(e),e)return{type:"br",raw:e[0]}},t.del=function(e){if(e=this.rules.inline.del.exec(e),e)return{type:"del",raw:e[0],text:e[2]}},t.autolink=function(e,t){if(e=this.rules.inline.autolink.exec(e),e){var n;t="@"===e[2]?"mailto:"+(n=D(this.options.mangle?t(e[1]):e[1])):n=D(e[1]);return{type:"link",raw:e[0],text:n,href:t,tokens:[{type:"text",raw:n,text:n}]}}},t.url=function(e,t){var n,r,i,o;if(n=this.rules.inline.url.exec(e)){if("@"===n[2])i="mailto:"+(r=D(this.options.mangle?t(n[0]):n[0]));else{for(;o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0],o!==n[0];);r=D(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},t.inlineText=function(e,t,n){if(e=this.rules.inline.text.exec(e),e)return n=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):D(e[0]):e[0]:D(this.options.smartypants?n(e[0]):e[0]),{type:"text",raw:e[0],text:n}},e}();L=T,A=_,T=C,_={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:L,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};_.def=A(_.def).replace("label",_._label).replace("title",_._title).getRegex(),_.bullet=/(?:[*+-]|\d{1,9}[.)])/,_.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,_.item=A(_.item,"gm").replace(/bull/g,_.bullet).getRegex(),_.listItemStart=A(/^( *)(bull)/).replace("bull",_.bullet).getRegex(),_.list=A(_.list).replace(/bull/g,_.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+_.def.source+")").getRegex(),_._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,_.html=A(_.html,"i").replace("comment",_._comment).replace("tag",_._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_.paragraph=A(_._paragraph).replace("hr",_.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",_._tag).getRegex(),_.blockquote=A(_.blockquote).replace("paragraph",_.paragraph).getRegex(),_.normal=T({},_),_.gfm=T({},_.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),_.gfm.nptable=A(_.gfm.nptable).replace("hr",_.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",_._tag).getRegex(),_.gfm.table=A(_.gfm.table).replace("hr",_.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",_._tag).getRegex(),_.pedantic=T({},_.normal,{html:A("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",_._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:L,paragraph:A(_.normal._paragraph).replace("hr",_.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",_.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),L={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"},L.punctuation=A(L.punctuation).replace(/punctuation/g,L._punctuation).getRegex(),L._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",L._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",L._comment=A(_._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),L.em.start=A(L.em.start).replace(/punctuation/g,L._punctuation).getRegex(),L.em.middle=A(L.em.middle).replace(/punctuation/g,L._punctuation).replace(/overlapSkip/g,L._overlapSkip).getRegex(),L.em.endAst=A(L.em.endAst,"g").replace(/punctuation/g,L._punctuation).getRegex(),L.em.endUnd=A(L.em.endUnd,"g").replace(/punctuation/g,L._punctuation).getRegex(),L.strong.start=A(L.strong.start).replace(/punctuation/g,L._punctuation).getRegex(),L.strong.middle=A(L.strong.middle).replace(/punctuation/g,L._punctuation).replace(/overlapSkip/g,L._overlapSkip).getRegex(),L.strong.endAst=A(L.strong.endAst,"g").replace(/punctuation/g,L._punctuation).getRegex(),L.strong.endUnd=A(L.strong.endUnd,"g").replace(/punctuation/g,L._punctuation).getRegex(),L.blockSkip=A(L._blockSkip,"g").getRegex(),L.overlapSkip=A(L._overlapSkip,"g").getRegex(),L._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,L._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,L._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,L.autolink=A(L.autolink).replace("scheme",L._scheme).replace("email",L._email).getRegex(),L._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,L.tag=A(L.tag).replace("comment",L._comment).replace("attribute",L._attribute).getRegex(),L._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,L._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,L._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,L.link=A(L.link).replace("label",L._label).replace("href",L._href).replace("title",L._title).getRegex(),L.reflink=A(L.reflink).replace("label",L._label).getRegex(),L.reflinkSearch=A(L.reflinkSearch,"g").replace("reflink",L.reflink).replace("nolink",L.nolink).getRegex(),L.normal=T({},L),L.pedantic=T({},L.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:A(/^!?\[(label)\]\((.*?)\)/).replace("label",L._label).getRegex(),reflink:A(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",L._label).getRegex()}),L.gfm=T({},L.normal,{escape:A(L.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),L.gfm.url=A(L.gfm.url,"i").replace("email",L.gfm._extended_email).getRegex(),L.breaks=T({},L.gfm,{br:A(L.br).replace("{2,}","*").getRegex(),text:A(L.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});L={block:_,inline:L};var B=o.defaults,$=L.block,U=L.inline,z=N;function V(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function q(e){for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),.5<Math.random()&&(t="x"+t.toString(16)),n+="&#"+t+";";return n}var F=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||B,this.options.tokenizer=this.options.tokenizer||new j,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,e={block:$.normal,inline:U.normal},this.options.pedantic?(e.block=$.pedantic,e.inline=U.pedantic):this.options.gfm&&(e.block=$.gfm,this.options.breaks?e.inline=U.breaks:e.inline=U.gfm),this.tokenizer.rules=e}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var n,r,i=t.prototype;return i.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(e,t,n){var r,i,o,a;for(void 0===t&&(t=[]),void 0===n&&(n=!0),e=e.replace(/^ +$/gm,"");e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),r.type?t.push(r):((a=t[t.length-1]).raw+="\n"+r.raw,a.text+="\n"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),r.type?t.push(r):((a=t[t.length-1]).raw+="\n"+r.raw,a.text+="\n"+r.text);else if(e){var s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}return t},i.inline=function(e){for(var t,n,r,i,o,a=e.length,s=0;s<a;s++)switch((o=e[s]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},r=o.header.length,t=0;t<r;t++)o.tokens.header[t]=[],this.inlineTokens(o.header[t],o.tokens.header[t]);for(r=o.cells.length,t=0;t<r;t++)for(i=o.cells[t],o.tokens.cells[t]=[],n=0;n<i.length;n++)o.tokens.cells[t][n]=[],this.inlineTokens(i[n],o.tokens.cells[t][n]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(r=o.items.length,t=0;t<r;t++)this.inline(o.items[t].tokens)}return e},i.inlineTokens=function(e,t,n,r){var i;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var o,a,s,l=e;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(0<c.length)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+z("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+z("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(a||(s=""),a=!1,i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e,n,r))e=e.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.strong(e,l,s))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.em(e,l,s))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.autolink(e,q))e=e.substring(i.raw.length),t.push(i);else if(n||!(i=this.tokenizer.url(e,q))){if(i=this.tokenizer.inlineText(e,r,V))e=e.substring(i.raw.length),s=i.raw.slice(-1),a=!0,t.push(i);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(i.raw.length),t.push(i);return t},n=t,r=[{key:"rules",get:function(){return{block:$,inline:U}}}],(i=null)&&e(n.prototype,i),r&&e(n,r),t}(),K=o.defaults,W=S,G=x,X=function(){function e(e){this.options=e||K}var t=e.prototype;return t.code=function(e,t,n){var r=(t||"").match(/\S*/)[0];return!this.options.highlight||null!=(t=this.options.highlight(e,r))&&t!==e&&(n=!0,e=t),r?'<pre><code class="'+this.options.langPrefix+G(r,!0)+'">'+(n?e:G(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:G(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n"+(t=t&&"<tbody>"+t+"</tbody>")+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){return null===(e=W(this.options.sanitize,this.options.baseUrl,e))?n:(e='<a href="'+G(e)+'"',t&&(e+=' title="'+t+'"'),e+">"+n+"</a>")},t.image=function(e,t,n){return null===(e=W(this.options.sanitize,this.options.baseUrl,e))?n:(n='<img src="'+e+'" alt="'+n+'"',t&&(n+=' title="'+t+'"'),n+(this.options.xhtml?"/>":">"))},t.text=function(e){return e},e}(),Z=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),Y=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,r=0;if(this.seen.hasOwnProperty(n))for(r=this.seen[e];n=e+"-"+ ++r,this.seen.hasOwnProperty(n););return t||(this.seen[e]=r,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),J=o.defaults,Q=E,ee=function(){function e(e){this.options=e||J,this.options.renderer=this.options.renderer||new X,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Z,this.slugger=new Y}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);for(var n,r,i,o,a,s,l,c,d,u,p,f,h,m,v,g="",b=e.length,y=0;y<b;y++)switch((c=e[y]).type){case"space":continue;case"hr":g+=this.renderer.hr();continue;case"heading":g+=this.renderer.heading(this.parseInline(c.tokens),c.depth,Q(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":g+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(s=d="",i=c.header.length,n=0;n<i;n++)s+=this.renderer.tablecell(this.parseInline(c.tokens.header[n]),{header:!0,align:c.align[n]});for(d+=this.renderer.tablerow(s),l="",i=c.cells.length,n=0;n<i;n++){for(s="",o=(a=c.tokens.cells[n]).length,r=0;r<o;r++)s+=this.renderer.tablecell(this.parseInline(a[r]),{header:!1,align:c.align[r]});l+=this.renderer.tablerow(s)}g+=this.renderer.table(d,l);continue;case"blockquote":l=this.parse(c.tokens),g+=this.renderer.blockquote(l);continue;case"list":for(d=c.ordered,w=c.start,u=c.loose,i=c.items.length,l="",n=0;n<i;n++)h=(f=c.items[n]).checked,m=f.task,p="",f.task&&(v=this.renderer.checkbox(h),u?0<f.tokens.length&&"text"===f.tokens[0].type?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&0<f.tokens[0].tokens.length&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v}):p+=v),p+=this.parse(f.tokens,u),l+=this.renderer.listitem(p,m,h);g+=this.renderer.list(l,d,w);continue;case"html":g+=this.renderer.html(c.text);continue;case"paragraph":g+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(l=c.tokens?this.parseInline(c.tokens):c.text;y+1<b&&"text"===e[y+1].type;)l+="\n"+((c=e[++y]).tokens?this.parseInline(c.tokens):c.text);g+=t?this.renderer.paragraph(l):l;continue;default:var w='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(w);throw new Error(w)}return g},t.parseInline=function(e,t){t=t||this.renderer;for(var n,r="",i=e.length,o=0;o<i;o++)switch((n=e[o]).type){case"escape":r+=t.text(n.text);break;case"html":r+=t.html(n.text);break;case"link":r+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":r+=t.image(n.href,n.title,n.text);break;case"strong":r+=t.strong(this.parseInline(n.tokens,t));break;case"em":r+=t.em(this.parseInline(n.tokens,t));break;case"codespan":r+=t.codespan(n.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(n.tokens,t));break;case"text":r+=t.text(n.text);break;default:var a='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}return r},e}(),te=C,ne=M,re=x,ie=(x=o.getDefaults,o.changeDefaults);o=o.defaults;function oe(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=te({},oe.defaults,t||{}),ne(t),n){var r,i=t.highlight;try{r=F.lex(e,t)}catch(e){return n(e)}var o=function(e){var o;if(!e)try{o=ee.parse(r,t)}catch(o){e=o}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();var a=0;return oe.walkTokens(r,(function(e){"code"===e.type&&(a++,setTimeout((function(){i(e.text,e.lang,(function(t,n){return t?o(t):(null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),void(0===--a&&o()))}))}),0))})),void(0===a&&o())}try{var s=F.lex(e,t);return t.walkTokens&&oe.walkTokens(s,t.walkTokens),ee.parse(s,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+re(e.message+"",!0)+"</pre>";throw e}}return oe.options=oe.setOptions=function(e){return te(oe.defaults,e),ie(oe.defaults),oe},oe.getDefaults=x,oe.defaults=o,oe.use=function(e){var t,n=te({},e);e.renderer&&function(){var t,r=oe.defaults.renderer||new X;for(t in e.renderer)!function(t){var n=r[t];r[t]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=e.renderer[t].apply(r,o);return!1===s&&(s=n.apply(r,o)),s}}(t);n.renderer=r}(),e.tokenizer&&function(){var t,r=oe.defaults.tokenizer||new j;for(t in e.tokenizer)!function(t){var n=r[t];r[t]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=e.tokenizer[t].apply(r,o);return!1===s&&(s=n.apply(r,o)),s}}(t);n.tokenizer=r}(),e.walkTokens&&(t=oe.defaults.walkTokens,n.walkTokens=function(n){e.walkTokens(n),t&&t(n)}),oe.setOptions(n)},oe.walkTokens=function(e,t){for(var r,i=n(e);!(r=i()).done;){var o=r.value;switch(t(o),o.type){case"table":for(var a=n(o.tokens.header);!(s=a()).done;){var s=s.value;oe.walkTokens(s,t)}for(var l,c=n(o.tokens.cells);!(l=c()).done;)for(var d=n(l.value);!(u=d()).done;){var u=u.value;oe.walkTokens(u,t)}break;case"list":oe.walkTokens(o.items,t);break;default:o.tokens&&oe.walkTokens(o.tokens,t)}}},oe.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=te({},oe.defaults,t||{}),ne(t);try{var n=F.lexInline(e,t);return t.walkTokens&&oe.walkTokens(n,t.walkTokens),ee.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+re(e.message+"",!0)+"</pre>";throw e}},oe.Parser=ee,oe.parser=ee.parse,oe.Renderer=X,oe.TextRenderer=Z,oe.Lexer=F,oe.lexer=F.lex,oe.Tokenizer=j,oe.Slugger=Y,oe.parse=oe}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("caad"),n("c975"),n("baa5"),n("d81d"),n("fb6a"),n("a434"),n("b64b"),n("d3b7"),n("e25e"),n("4d63"),n("ac1f"),n("25f0"),n("8a79"),n("2532"),n("3ca3"),n("466d"),n("5319"),n("1276"),n("2ca0"),n("498a"),n("1e25"),n("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r();t.default=i},"81a8":function(e,t,n){"use strict";var r=n("4ea4");n("caad"),n("c975"),n("fb6a"),n("a434"),n("ac1f"),n("2532"),n("5319"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("0453")),o=r(n("7c6d"));function a(e){var t=this;this.vm=e,this.editHistory=[],this.editI=-1,e._mask=[],e._setData=function(t,n){for(var r=t.split("."),i=e,o=0;o<r.length-1;o++)i=i[r[o]];e.$set(i,r.pop(),n)};var n=function(n){setTimeout((function(){var r=t.editHistory[t.editI+n];r&&(t.editI+=n,e._setData(r.key,r.value))}),200)};function r(t){if(e._edit)e._edit.insert(t);else{var n=e.nodes.slice(0);n.push(t),e._editVal("nodes",e.nodes,n,!0)}}function a(t){"string"===typeof t.src&&(t.src=[t.src]);for(var n=new o.default(e),i=0;i<t.src.length;i++)t.src[i]=n.getUrl(t.src[i]);r({name:"div",attrs:{style:"text-align:center"},children:[t]})}e.undo=function(){return n(-1)},e.redo=function(){return n(1)},e._editVal=function(n,r,i,o){while(t.editI<t.editHistory.length-1)t.editHistory.pop();while(t.editHistory.length>30)t.editHistory.pop(),t.editI--;var a=t.editHistory[t.editHistory.length-1];a&&a.key===n||(a&&(t.editHistory.pop(),t.editI--),t.editHistory.push({key:n,value:r}),t.editI++),t.editHistory.push({key:n,value:i}),t.editI++,o&&e._setData(n,i)},e._getItem=function(t,n,r){var o,a;return"img"===t.name?(o=i.default.img.slice(0),e.getSrc||(a=o.indexOf("换图"),-1!==a&&o.splice(a,1),a=o.indexOf("超链接"),-1!==a&&o.splice(a,1),a=o.indexOf("预览图"),-1!==a&&o.splice(a,1)),a=o.indexOf("禁用预览"),-1!==a&&t.attrs.ignore&&(o[a]="启用预览")):"a"===t.name?(o=i.default.link.slice(0),e.getSrc||(a=o.indexOf("更换链接"),-1!==a&&o.splice(a,1))):"video"===t.name||"audio"===t.name?(o=i.default.media.slice(0),a=o.indexOf("封面"),e.getSrc||-1===a||o.splice(a,1),a=o.indexOf("循环"),t.attrs.loop&&-1!==a&&(o[a]="不循环"),a=o.indexOf("自动播放"),t.attrs.autoplay&&-1!==a&&(o[a]="不自动播放")):o=i.default.node.slice(0),n||(a=o.indexOf("上移"),-1!==a&&o.splice(a,1)),r||(a=o.indexOf("下移"),-1!==a&&o.splice(a,1)),o},e._tooltip=function(t){e.$set(e,"tooltip",{top:t.top,items:t.items}),e._tooltipcb=t.success},e._slider=function(t){e.$set(e,"slider",{min:t.min,max:t.max,value:t.value,top:t.top}),e._slideringcb=t.changing,e._slidercb=t.change},e._maskTap=function(){while(e._mask.length)e._mask.pop()();e.tooltip&&e.$set(e,"tooltip",null),e.slider&&e.$set(e,"slider",null)},e.insertHtml=function(n){t.inserting=!0;var i=new o.default(e).parse(n);t.inserting=void 0;for(var a=0;a<i.length;a++)r(i[a])},e.insertImg=function(){e.getSrc&&e.getSrc("img").then((function(t){"string"===typeof t&&(t=[t]);for(var n=new o.default(e),i=0;i<t.length;i++)r({name:"img",attrs:{src:n.getUrl(t[i])}})})).catch((function(){}))},e.insertLink=function(){e.getSrc&&e.getSrc("link").then((function(e){r({name:"a",attrs:{href:e},children:[{type:"text",text:e}]})})).catch((function(){}))},e.insertTable=function(e,t){for(var n={name:"table",attrs:{style:"display:table;width:100%;margin:10px 0;text-align:center;border-spacing:0;border-collapse:collapse;border:1px solid gray"},children:[]},i=0;i<e;i++){for(var o={name:"tr",attrs:{},children:[]},a=0;a<t;a++)o.children.push({name:"td",attrs:{style:"padding:2px;border:1px solid gray"},children:[{type:"text",text:""}]});n.children.push(o)}r(n)},e.insertVideo=function(){e.getSrc&&e.getSrc("video").then((function(e){a({name:"video",attrs:{controls:"T"},children:[],src:e})})).catch((function(){}))},e.insertAudio=function(){e.getSrc&&e.getSrc("audio").then((function(e){var t;e.src?(t=e.src,e.src=void 0):(t=e,e={}),e.controls="T",a({name:"audio",attrs:e,children:[],src:t})})).catch((function(){}))},e.insertText=function(){r({name:"p",attrs:{},children:[{type:"text",text:""}]})},e.clear=function(){e._maskTap(),e._edit=void 0,e.$set(e,"nodes",[{name:"p",attrs:{},children:[{type:"text",text:""}]}])},e.getContent=function(){var t="";(function e(n,r){for(var i=0;i<n.length;i++){var o=n[i];if("text"===o.type)t+=o.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/\xa0/g,"&nbsp;");else{if("img"===o.name){if(o.attrs.i="",(o.attrs.src||"").includes("data:image/svg+xml;utf8,")){t+=o.attrs.src.substr(24).replace(/%23/g,"#").replace("<svg",'<svg style="'+(o.attrs.style||"")+'"');continue}}else if("video"===o.name||"audio"===o.name)if(o=JSON.parse(JSON.stringify(o)),o.src.length>1){o.children=[];for(var a=0;a<o.src.length;a++)o.children.push({name:"source",attrs:{src:o.src[a]}})}else o.attrs.src=o.src[0];else"div"===o.name&&(o.attrs.style||"").includes("overflow:auto")&&"table"===(o.children[0]||{}).name&&(o=o.children[0]);if("table"===o.name&&(o=JSON.parse(JSON.stringify(o)),r=o.attrs,(o.attrs.style||"").includes("display:grid"))){o.attrs.style=o.attrs.style.split("display:grid")[0];for(var s=[{name:"tr",attrs:{},children:[]}],l=0;l<o.children.length;l++)o.children[l].attrs.style=o.children[l].attrs.style.replace(/grid-[^;]+;*/g,""),o.children[l].r!==s.length?s.push({name:"tr",attrs:{},children:[o.children[l]]}):s[s.length-1].children.push(o.children[l]);o.children=s}for(var c in t+="<"+o.name,o.attrs){var d=o.attrs[c];d&&("T"!==d&&!0!==d?"t"===o.name[0]&&"style"===c&&r&&(d=d.replace(/;*display:table[^;]*/,""),r.border&&(d=d.replace(/border[^;]+;*/g,(function(e){return e.includes("collapse")?e:""}))),r.cellpadding&&(d=d.replace(/padding[^;]+;*/g,"")),!d)||(t+=" "+c+'="'+d.replace(/"/g,"&quot;")+'"'):t+=" "+c)}t+=">",o.children&&(e(o.children,r),t+="</"+o.name+">")}}})(e.nodes);for(var n=e.plugins.length;n--;)e.plugins[n].onGetContent&&(t=e.plugins[n].onGetContent(t)||t);return t}}a.prototype.onUpdate=function(e,t){var n=this;this.vm.editable&&(this.vm._maskTap(),t.entities.amp="&",this.inserting||(this.vm._edit=void 0,e||setTimeout((function(){n.vm.$set(n.vm,"nodes",[{name:"p",attrs:{},children:[{type:"text",text:""}]}])}),0)))},a.prototype.onParse=function(e){!this.vm.editable||"td"!==e.name&&"th"!==e.name||this.vm.getText(e.children)||e.children.push({type:"text",text:""})};var s=a;t.default=s},8534:function(e,t,n){var r=n("24f4");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("66ab3af6",r,!0,{sourceMap:!1,shadowMode:!1})},"85d1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={},i={get:function(e){return r[e]},set:function(e,t){r[e]=t},remove:function(e){r[e]=void 0}};t.default=i},"8a79":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,o=n("50c4"),a=n("5a34"),s=n("1d80"),l=n("ab13"),c=n("c430"),d="".endsWith,u=Math.min,p=l("endsWith"),f=!c&&!p&&!!function(){var e=i(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!f&&!p},{endsWith:function(e){var t=String(s(this));a(e);var n=arguments.length>1?arguments[1]:void 0,r=o(t.length),i=void 0===n?r:u(o(n),r),l=String(e);return d?d.call(t,l,i):t.slice(i-l.length,i)===l}})},"8ac5":function(e,t,n){"use strict";n.r(t);var r=n("045a"),i=n("e910");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("34f6");var a,s=n("f0c5"),l=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"1ff77e1b",null,!1,r["a"],a);t["default"]=l.exports},"8e50":function(e,t,n){var r=n("3551");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("31eb1835",r,!0,{sourceMap:!1,shadowMode:!1})},9415:function(e,t,n){"use strict";var r=n("4ea4");n("99af"),n("a9e3"),n("d3b7"),n("e25e"),n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("6409")),o=r(n("7c6d")),a=r(n("aa4d")),s=r(n("b2a4")),l=r(n("d834")),c=r(n("4a3e")),d=r(n("c9eb")),u=r(n("541b")),p=r(n("3a4b")),f=r(n("81a8")),h=[a.default,s.default,l.default,c.default,d.default,u.default,p.default,f.default],m={name:"mp-html",data:function(){return{tooltip:null,slider:null,nodes:[]}},props:{editable:Boolean,placeholder:String,ImgCache:Boolean,markdown:Boolean,containerStyle:{type:String,default:""},content:{type:String,default:""},copyLink:{type:[Boolean,String],default:!0},domain:String,errorImg:{type:String,default:""},lazyLoad:{type:[Boolean,String],default:!1},loadingImg:{type:String,default:""},pauseVideo:{type:[Boolean,String],default:!0},previewImg:{type:[Boolean,String],default:!0},scrollTable:[Boolean,String],selectable:[Boolean,String],setTitle:{type:[Boolean,String],default:!0},showImgMenu:{type:[Boolean,String],default:!0},tagStyle:Object,useAnchor:[Boolean,Number]},components:{node:i.default},watch:{editable:function(e){this.setContent(e?this.content:this.getContent()),e||this._maskTap()},content:function(e){this.setContent(e)}},created:function(){this.plugins=[];for(var e=h.length;e--;)this.plugins.push(new h[e](this))},mounted:function(){!this.content&&!this.editable||this.nodes.length||this.setContent(this.content)},beforeDestroy:function(){this._hook("onDetached"),clearInterval(this._timer)},methods:{_containTap:function(){this._lock||this.slider||(this._edit=void 0,this._maskTap())},_tooltipTap:function(e){this._tooltipcb(e.currentTarget.dataset.i),this.$set(this,"tooltip",null)},_sliderChanging:function(e){this._slideringcb(e.detail.value)},_sliderChange:function(e){this._slidercb(e.detail.value)},in:function(e,t,n){e&&t&&n&&(this._in={page:e,selector:t,scrollTop:n})},navigateTo:function(e,t){var n=this;return e=this._ids[decodeURI(e)]||e,new Promise((function(r,i){if(n.useAnchor){t=t||parseInt(n.useAnchor)||0;var o=" ",a=uni.createSelectorQuery().in(n._in?n._in.page:n).select((n._in?n._in.selector:"._root")+(e?"".concat(o,"#").concat(e):"")).boundingClientRect();n._in?a.select(n._in.selector).scrollOffset().select(n._in.selector).boundingClientRect():a.selectViewport().scrollOffset(),a.exec((function(e){if(e[0]){var o=e[1].scrollTop+e[0].top-(e[2]?e[2].top:0)+t;n._in?n._in.page[n._in.scrollTop]=o:uni.pageScrollTo({scrollTop:o,duration:300}),r()}else i(Error("Label not found"))}))}else i(Error("Anchor is disabled"))}))},getText:function(e){var t="";return function e(n){for(var r=0;r<n.length;r++){var i=n[r];if("text"===i.type)t+=i.text.replace(/&amp;/g,"&");else if("br"===i.name)t+="\n";else{var o="p"===i.name||"div"===i.name||"tr"===i.name||"li"===i.name||"h"===i.name[0]&&i.name[1]>"0"&&i.name[1]<"7";o&&t&&"\n"!==t[t.length-1]&&(t+="\n"),i.children&&e(i.children),o&&"\n"!==t[t.length-1]?t+="\n":"td"!==i.name&&"th"!==i.name||(t+="\t")}}}(e||this.nodes),t},getRect:function(){var e=this;return new Promise((function(t,n){uni.createSelectorQuery().in(e).select("#_root").boundingClientRect().exec((function(e){return e[0]?t(e[0]):n(Error("Root label not found"))}))}))},pauseMedia:function(){for(var e=(this._videos||[]).length;e--;)this._videos[e].pause()},setContent:function(e,t){var n=this;t&&this.imgList||(this.imgList=[]);var r,i=new o.default(this).parse(e);this.$set(this,"nodes",t?(this.nodes||[]).concat(i):i),this._videos=[],this.$nextTick((function(){n._hook("onLoad"),n.$emit("load")})),clearInterval(this._timer),this._timer=setInterval((function(){n.getRect().then((function(e){e.height===r&&(n.$emit("ready",e),clearInterval(n._timer)),r=e.height})).catch((function(){}))}),350)},_hook:function(e){for(var t=h.length;t--;)this.plugins[t][e]&&this.plugins[t][e]()}}};t.default=m},"9e6c":function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"tm-poups ",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},["center"!=e.position_sv?[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1==e.value&&"center"!=e.position_sv,expression:"value==true&&position_sv != 'center'"}],staticClass:"tm-poup ",class:[e.isFilter?"blur":"","center"==e.position_sv?"tm-poup-center":"","center"!=e.position_sv?e.position_sv:"",e.isClickbled?"isClickbled":""],style:{backgroundColor:e.overColor,width:"100%",height:"100%"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.overClick.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.stopMove.apply(void 0,arguments)}}},[n("v-uni-scroll-view",{staticClass:"tm-poup-wk dhshiKa",class:["top"==e.position_sv?"round-b-"+e.round:"","bottom"==e.position_sv?"round-t-"+e.round:"",e.position_sv,e.aniOn?"on ":"off",e.black_tmeme?"grey-darken-5 bk":e.bgColor],style:{width:"top"==e.position_sv||"bottom"==e.position_sv?"100%":e.width_w,height:"right"==e.position_sv||"left"==e.position_sv?"100%":e.height_h},attrs:{animation:e.aniData,"scroll-y":"true"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{class:[e.clssStyle]},[e._t("default")],2)],1)],1),n("v-uni-view",{staticClass:"bottomHeight"})]:e._e(),!0===e.value&&"center"==e.position_sv?n("v-uni-view",{staticClass:"tm-poup ",class:[e.isFilter?"blur":"","center"==e.position_sv?"tm-poup-center":""],style:{backgroundColor:e.overColor,width:e.sysInfo.screenWidth+"px",height:"100%"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.overClick.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.stopMove.apply(void 0,arguments)}}},[n("v-uni-scroll-view",{staticClass:"tm-poup-wk ",class:["round-"+e.round,e.aniOn?"on":"off",e.position_sv,e.black_tmeme?"grey-darken-5 bk":e.bgColor],style:{width:e.width_w,height:e.height_h},attrs:{animation:e.aniData,"scroll-y":"true"},on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{class:[e.clssStyle]},[e._t("default")],2)],1)],1):e._e()],2)},o=[]},"9f9d":function(e,t,n){"use strict";var r=n("4ea4");n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=r(n("1da1")),o=r(n("94e1")),a=r(n("9a18")),s=r(n("7a91")),l={components:{tmSheet:o.default,tmButton:a.default,tmInput:s.default},name:"tm-dialog",model:{prop:"value",event:"input"},props:{value:{type:Boolean,default:!1},bottomBorder:{type:Boolean,default:!1},black:{type:Boolean|String,default:null},confirmColor:{type:String,default:"primary"},confirmText:{type:String,default:"确认"},showCancel:{type:Boolean,default:!0},cancelColor:{type:String,default:"primary"},cancelText:{type:String,default:"取消"},title:{type:String,default:"消息提示"},content:{type:String,default:""},theme:{type:String,default:"merge"},model:{type:String,default:"dialog"},round:{type:Number|String,default:8},inputVal:{type:String,default:""},fllowTheme:{type:Boolean|String,default:!0},overClose:{type:Boolean|String,default:!1},disabled:{type:Boolean|String,default:!1}},computed:{show:{get:function(){return this.value},set:function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("input",t),this.$emit("update:value",t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},black_tmeme:function(){return null!==this.black?this.black:this.$tm.vx.state().tmVuetify.black},color_tmeme:function(){return null!==this.$tm.vx.state().tmVuetify.color&&this.$tm.vx.state().tmVuetify.color&&this.fllowTheme?this.$tm.vx.state().tmVuetify.color:this.confirmColor}},data:function(){return{inputValSd:"",sysinfo:0,clickOverlay:!1}},created:function(){var e=uni.getSystemInfoSync();e.screenHeight>=e.windowHeight?this.sysinfo=e.windowHeight:this.sysinfo=e.screenHeight,this.show=this.value},methods:{overCloseCHange:function(){this.overClose?this.concelClick():this.anifeed()},anifeed:function(){var e=this;this.clickOverlay&&(this.clickOverlay=!this.clickOverlay),this.clickOverlay=!0,uni.$tm.sleep(100).then((function(){e.clickOverlay=!1}))},confirmClick:function(){if("confirm"==this.model){if(!this.inputValSd)return uni.$tm.toast("请输入内容"),void this.anifeed();this.$emit("confirm",this.inputValSd)}else this.$emit("confirm");0==this.disabled&&(this.show=!1)},suren:function(e){this.$emit("update:inputVal",this.inputValSd)},concelClick:function(){this.$emit("concel"),this.$emit("cancel"),0==this.disabled&&(this.show=!1)}}};t.default=l},a1d5:function(e,t,n){"use strict";var r=n("4ea4");n("4160"),n("a9e3"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("9a18")),o=r(n("7340")),a=r(n("3ba9")),s=r(n("8ac5")),l={components:{tmButton:i.default,tmPoup:o.default,tmIcons:a.default,tmPickersView:s.default},name:"tm-pickers",model:{prop:"value",event:"input"},props:{value:{type:String|Number,default:!1},defaultValue:{type:Array,default:function(){return[]}},itemHeight:{type:String|Number,default:40},list:{type:Array,default:function(){return[]}},rangKey:{type:String,default:"text"},childrenKey:{type:String,default:"children"},black:{type:String|Boolean,default:null},disabled:{type:String|Boolean,default:!1},bgColor:{type:String,default:"white"},title:{type:String,default:"请选择选项"},btnText:{type:String,default:"确认"},btnColor:{type:String,default:"primary"},fllowTheme:{type:Boolean|String,default:!0}},data:function(){return{showpop:!1,dataValue:[],aniisTrue:!0}},computed:{black_tmeme:function(){return null!==this.black?this.black:this.$tm.vx.state().tmVuetify.black},colorBtn_tmeme:function(){return null!==this.$tm.vx.state().tmVuetify.color&&this.$tm.vx.state().tmVuetify.color&&this.fllowTheme?this.$tm.vx.state().tmVuetify.color:this.btnColor}},mounted:function(){this.showpop=this.value,this.$nextTick((function(){uni.hideKeyboard()}))},watch:{value:function(e){this.showpop=e}},methods:{confirm:function(){if(this.aniisTrue){var e=this.$refs.tmPicKersTest.getSelectedValue(),t=[];e.forEach((function(e){t.push(e.data)})),this.$emit("confirm",e),this.$emit("update:defaultValue",t),this.showpop=!1}else console.log("no")},close:function(){this.showpop=!1},openPoup:function(){1!=this.disabled&&(this.showpop=!0)},toogle:function(e){console.log(this.showpop),e&&this.$nextTick((function(){this.dataValue!=this.defaultValue&&(this.dataValue=this.defaultValue),this.$refs.tmPicKersTest.setDefaultValue(this.dataValue)})),this.$emit("input",e),this.$emit("update:value",e)}}};t.default=l},a244:function(e,t,n){"use strict";n("a9e3"),n("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"tm-poup",props:{bgColor:{type:String,default:"white"},overColor:{type:String,default:"rgba(0,0,0,0.3)"},black:{type:Boolean|String,default:null},clssStyle:{type:String,default:""},value:{type:Boolean,default:!1},position:{type:String,default:"bottom"},round:{type:String|Number,default:"10"},width:{type:String|Number,default:"30%"},height:{type:String|Number,default:220},overClose:{type:Boolean,default:!0},isFilter:{type:Boolean,default:!0},isClickbled:{type:Boolean,default:!1}},model:{prop:"value",event:"input",sysInfo:{}},watch:{value:function(e){this.$emit("change",e),e?this.open():this.close()},position:function(){this.position_sv=this.position}},created:function(){this.sysInfo=uni.getSystemInfoSync()},computed:{black_tmeme:function(){return null!==this.black?this.black:this.$tm.vx.state().tmVuetify.black},width_w:function(){var e=this.$TestUnit(this.width),t=e.value;return"number"==e.type&&(t=e.value+"px"),t},height_h:function(){var e=this.$TestUnit(this.height),t=e.value;return"number"==e.type&&(t=e.value+"px"),t}},data:function(){return{aniOn:!1,closeTimid:null,position_sv:this.position,dhshiKa:!0,aniData:null,timdiiid:6369784254}},deactivated:function(){clearTimeout(this.closeTimid)},destroyed:function(){clearTimeout(this.closeTimid)},mounted:function(){this.value&&this.open()},methods:{overClick:function(){this.overClose&&this.close()},close:function(){var e=this;clearTimeout(this.timdiiid),this.dhshiKa=!1,e.aniOn=!1,this.createBtT(this.position_sv,"off").then((function(){e.$emit("input",!1),e.closeTimid=null,e.dhshiKa=!0}))},open:function(){var e=this;clearTimeout(this.timdiiid),this.dhshiKa=!1,this.aniOn=!0,this.createBtT(this.position_sv,"on").then((function(){e.dhshiKa=!0,e.isclick=!1}))},createBtT:function(e,t){var n=this;this.aniData="";var r=uni.createAnimation({duration:240,timingFunction:"linear"});return this.aniData=r,"bottom"==e?("on"==t&&(r.translateY("0%").step(),this.aniData=r.export()),"off"==t&&(r.translateY("100%").step(),this.aniData=r.export())):"top"==e?("on"==t&&(r.translateY("0%").step(),this.aniData=r.export()),"off"==t&&(r.translateY("-100%").step(),this.aniData=r.export())):"left"==e?("on"==t&&(r.translateX("0%").step(),this.aniData=r.export()),"off"==t&&(r.translateX("-100%").step(),this.aniData=r.export())):"right"==e?("on"==t&&(r.translateX("0%").step(),this.aniData=r.export()),"off"==t&&(r.translateX("100%").step(),this.aniData=r.export())):"center"==e&&("on"==t&&(r.opacity(1).scale(1).step(),this.aniData=r.export()),"off"==t&&(r.opacity(0).scale(.6).step(),this.aniData=r.export())),new Promise((function(e){n.timdiiid=setTimeout((function(){n.aniData=null,e()}),240)}))},stopMove:function(e){}}};t.default=r},aa4d:function(e,t,n){"use strict";var r=n("4ea4");n("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("80b2")),o=0;function a(e){this.vm=e,e._ids={}}a.prototype.onUpdate=function(e){if(this.vm.markdown)return(0,i.default)(e)},a.prototype.onParse=function(e,t){if(t.options.markdown){if(t.options.useAnchor&&e.attrs&&/[\u4e00-\u9fa5]/.test(e.attrs.id)){var n="t"+o++;this.vm._ids[e.attrs.id]=n,e.attrs.id=n}"p"!==e.name&&"table"!==e.name&&"tr"!==e.name&&"th"!==e.name&&"td"!==e.name&&"blockquote"!==e.name&&"pre"!==e.name&&"code"!==e.name||(e.attrs.class="md-".concat(e.name," ").concat(e.attrs.class||""))}};var s=a;t.default=s},aaca:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={tmPoup:n("7340").default,tmIcons:n("3ba9").default,tmPickersView:n("8ac5").default,tmButton:n("9a18").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"tm-pickers d-inline-block fulled"},[n("v-uni-view",{on:{click:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.openPoup.apply(void 0,arguments)}}},[e._t("default")],2),n("tm-poup",{ref:"pop",attrs:{height:750,"bg-color":e.black_tmeme?"grey-darken-5":e.bgColor},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.toogle.apply(void 0,arguments)}},model:{value:e.showpop,callback:function(t){e.showpop=t},expression:"showpop"}},[n("v-uni-view",{staticClass:"tm-pickers-title pa-32 pb-16"},[n("v-uni-view",{staticClass:"text-size-n text-align-center",staticStyle:{"min-height":"48rpx"}},[e._v(e._s(e.title))]),n("v-uni-view",{staticClass:"tm-pickers-close  rounded flex-center ",class:e.black_tmeme?"grey-darken-3":"grey-lighten-3"},[n("tm-icons",{attrs:{name:"icon-times",size:"24",color:e.black_tmeme?"white":"grey"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}})],1)],1),e.showpop?n("tm-pickersView",{ref:"tmPicKersTest",attrs:{defaultValue:e.dataValue,itemHeight:e.itemHeight,list:e.list,rangKey:e.rangKey,childrenKey:e.childrenKey,black:e.black_tmeme,disabled:e.disabled,bgColor:e.bgColor},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.$emit("change",t)},aniStart:function(t){arguments[0]=t=e.$handleEvent(t),e.aniisTrue=!1},aniEnd:function(t){arguments[0]=t=e.$handleEvent(t),e.aniisTrue=!0}}}):e._e(),n("v-uni-view",{staticClass:"pa-32"},[n("tm-button",{attrs:{black:e.black_tmeme,block:!0,itemeClass:"round-24",fllowTheme:e.fllowTheme,theme:e.colorBtn_tmeme,fontSize:"32"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v(e._s(e.btnText))])],1)],1)],1)},o=[]},b2a4:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("85d1")),o=0;function a(e){this.vm=e}a.prototype.onUpdate=function(){this.audios=[]},a.prototype.onParse=function(e){"audio"===e.name&&(e.attrs.id||(e.attrs.id="a"+o++),this.audios.push(e.attrs.id))},a.prototype.onLoad=function(){var e=this;setTimeout((function(){for(var t=0;t<e.audios.length;t++){var n=i.default.get(e.audios[t]);n.id=e.audios[t],e.vm._videos.push(n)}}),500)};var s=a;t.default=s},b2b7:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,".bottomHeight[data-v-6e1e77e8]{height:var(--window-bottom)}.tm-poup[data-v-6e1e77e8]{position:fixed;z-index:452;width:100%;height:100%;min-height:100%;min-width:100%;overflow:hidden;top:0;left:0}.tm-poup.isClickbled[data-v-6e1e77e8]{pointer-events:none}.tm-poup.okkk[data-v-6e1e77e8]{pointer-events:none}.tm-poup.blur[data-v-6e1e77e8]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.tm-poup.on[data-v-6e1e77e8]{-webkit-animation:opta-data-v-6e1e77e8 1s linear;animation:opta-data-v-6e1e77e8 1s linear}.tm-poup.off[data-v-6e1e77e8]{-webkit-animation:opta_off-data-v-6e1e77e8 .35s linear;animation:opta_off-data-v-6e1e77e8 .35s linear}.tm-poup .tm-poup-wk[data-v-6e1e77e8]{position:absolute;overflow:hidden;pointer-events:auto}.tm-poup .tm-poup-wk.bottom[data-v-6e1e77e8]{-webkit-transform:translateY(100%);transform:translateY(100%);width:100%;bottom:0}.tm-poup .tm-poup-wk.top[data-v-6e1e77e8]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.tm-poup .tm-poup-wk.left[data-v-6e1e77e8]{top:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);border-radius:0!important;left:0}.tm-poup .tm-poup-wk.right[data-v-6e1e77e8]{top:0;right:0;-webkit-transform:translateX(100%);transform:translateX(100%);border-radius:0!important}.tm-poup .tm-poup-wk.center[data-v-6e1e77e8]{opacity:0;-webkit-transform:scale(.6);transform:scale(.6)}.tm-poup.tm-poup-center[data-v-6e1e77e8]{display:flex;justify-content:center;align-items:center;align-content:center}.tm-poup.tm-poup-center .tm-poup-wk[data-v-6e1e77e8]{position:static}@-webkit-keyframes opta-data-v-6e1e77e8{from{opacity:.6}to{opacity:1}}@keyframes opta-data-v-6e1e77e8{from{opacity:.6}to{opacity:1}}@-webkit-keyframes opta_off-data-v-6e1e77e8{from{opacity:1}to{opacity:0}}@keyframes opta_off-data-v-6e1e77e8{from{opacity:1}to{opacity:0}}@-webkit-keyframes bottomTtop-data-v-6e1e77e8{from{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes bottomTtop-data-v-6e1e77e8{from{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes bottomTtop_off-data-v-6e1e77e8{from{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(100%);transform:translateY(100%)}}@keyframes bottomTtop_off-data-v-6e1e77e8{from{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(100%);transform:translateY(100%)}}@-webkit-keyframes topTbottom-data-v-6e1e77e8{from{-webkit-transform:translateY(-100%);transform:translateY(-100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes topTbottom-data-v-6e1e77e8{from{-webkit-transform:translateY(-100%);transform:translateY(-100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes topTbottom_off-data-v-6e1e77e8{from{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@keyframes topTbottom_off-data-v-6e1e77e8{from{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@-webkit-keyframes leftTright-data-v-6e1e77e8{from{-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes leftTright-data-v-6e1e77e8{from{-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes leftTright_off-data-v-6e1e77e8{from{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(-100%);transform:translateX(-100%)}}@keyframes leftTright_off-data-v-6e1e77e8{from{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(-100%);transform:translateX(-100%)}}@-webkit-keyframes rightTleft-data-v-6e1e77e8{from{-webkit-transform:translateX(100%);transform:translateX(100%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes rightTleft-data-v-6e1e77e8{from{-webkit-transform:translateX(100%);transform:translateX(100%)}to{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes rightTleft_off-data-v-6e1e77e8{from{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(100%);transform:translateX(100%)}}@keyframes rightTleft_off-data-v-6e1e77e8{from{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(100%);transform:translateX(100%)}}@-webkit-keyframes Centerleft-data-v-6e1e77e8{from{-webkit-transform:scale(.65);transform:scale(.65);opacity:.65}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes Centerleft-data-v-6e1e77e8{from{-webkit-transform:scale(.65);transform:scale(.65);opacity:.65}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes Centerleft_off-data-v-6e1e77e8{from{-webkit-transform:scale(1);transform:scale(1);opacity:1}to{-webkit-transform:scale(.65);transform:scale(.65);opacity:.65}}@keyframes Centerleft_off-data-v-6e1e77e8{from{-webkit-transform:scale(1);transform:scale(1);opacity:1}to{-webkit-transform:scale(.65);transform:scale(.65);opacity:.65}}",""]),e.exports=t},ba6d:function(e,t,n){"use strict";var r=n("4ea4");n("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("85d1")),o={data:function(){return{error:!1,playing:!1,time:"00:00",value:0}},props:{aid:String,name:String,author:String,poster:String,autoplay:[Boolean,String],controls:[Boolean,String],loop:[Boolean,String],src:String},watch:{src:function(e){this.setSrc(e)}},mounted:function(){var e=this;this._ctx=uni.createInnerAudioContext(),this._ctx.onError((function(t){e.error=!0,e.$emit("error",t)})),this._ctx.onTimeUpdate((function(){var t=e._ctx.currentTime,n=parseInt(t/60),r=Math.ceil(t%60);e.time=(n>9?n:"0"+n)+":"+(r>9?r:"0"+r),e.lastTime||(e.value=t/e._ctx.duration*100)})),this._ctx.onEnded((function(){e.loop||(e.playing=!1)})),i.default.set(this.aid,this),this.setSrc(this.src)},beforeDestroy:function(){this._ctx.destroy(),i.default.remove(this.properties.audioId)},onPageShow:function(){this.playing&&this._ctx.paused&&this._ctx.play()},methods:{setSrc:function(e){this._ctx.autoplay=this.autoplay,this._ctx.loop=this.loop,this._ctx.src=e,this.autoplay&&!this.playing&&(this.playing=!0)},play:function(){this._ctx.play(),this.playing=!0,this.$emit("play",{target:{id:this.aid}})},pause:function(){this._ctx.pause(),this.playing=!1,this.$emit("pause")},seek:function(e){this._ctx.seek(e)},_buttonTap:function(){this.playing?this.pause():this.play()},_seeking:function(e){if(!(e.timeStamp-this.lastTime<200)){var t=Math.round(e.detail.value/100*this._ctx.duration),n=parseInt(t/60),r=t%60;this.time=(n>9?n:"0"+n)+":"+(r>9?r:"0"+r),this.lastTime=e.timeStamp}},_seeked:function(e){this.seek(e.detail.value/100*this._ctx.duration),this.lastTime=void 0}}};t.default=o},c336:function(e,t,n){"use strict";var r=n("4ea4");n("c740"),n("4160"),n("c975"),n("a9e3"),n("e25e"),n("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("2909")),o=r(n("5530"));n("96cf");var a=r(n("1da1")),s={name:"tm-pickersView",props:{defaultValue:{type:Array,default:function(){return[]}},itemHeight:{type:String|Number,default:40},list:{type:Array,default:function(){return[]}},rangKey:{type:String,default:"text"},rangKeyId:{type:String,default:"id"},childrenKey:{type:String,default:"children"},black:{type:String|Boolean,default:null},disabled:{type:String|Boolean,default:!1},bgColor:{type:String,default:"white"}},data:function(){return{value_default:[],pre_value:[],scrollEvent:0,childrenIndex:0,listIndex:[],listData:[],idx:9123}},mounted:function(){this.$nextTick((function(){this.chulisdata(),this.setDefaultValue()}))},watch:{defaultValue:{deep:!0,handler:function(e,t){this.chulisdata(),this.$nextTick((function(){this.inits()}))}},list:{deep:!0,handler:function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.chulisdata(),this.$nextTick((0,a.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.inits();case 2:case"end":return e.stop()}}),e,this)}))));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}},computed:{black_tmeme:function(){return null!==this.black?this.black:this.$tm.vx.state().tmVuetify.black},dataType:function(){return"object"===typeof this.list||Array.isArray(this.list)||this.list.length?"string"===typeof this.list[0]?"string":"object"===typeof this.list[0]?"object":void 0:null},gridNum:function(){var e=this;if("object"!==typeof this.list&&!Array.isArray(this.list)&&0==this.list.length||"undefined"===typeof this.list[0])return this.listIndex=[{itemIndex:0,childrenIndex:0,wz:0}],0;if("string"===typeof this.list[0])return this.listIndex=[{itemIndex:0,childrenIndex:0,wz:0}],1;if("object"===typeof this.list[0]){var t=function t(o){o&&0!=(null===o||void 0===o?void 0:o.length)&&(r+=1,n+=1,i.push({itemIndex:0,childrenIndex:n,wz:0}),o&&"object"===typeof o&&Array.isArray(o)&&o[0][e.childrenKey]&&t(o[0][e.childrenKey]))},n=0,r=1,i=[];return i.push({itemIndex:0,childrenIndex:n,wz:0}),t(this.list[0][this.childrenKey]),e.listIndex=i,r}}},methods:{SeletecdeIndexdefault:function(){for(var e=[],t=0;t<this.gridNum;t++)e.push(this.listIndex[t].itemIndex);this.value_default=e},getSelectedValue:function(){var e=this,t=this.gridNum;this.listIndex;if("string"===this.dataType)return[{index:this.listIndex[0].itemIndex,data:this.listData[0][this.listIndex[0].itemIndex]}];if("object"===this.dataType){if(1===t){var n=(0,o.default)({},this.listData[0][this.listIndex[0].itemIndex]);return delete n.children,[{index:this.listIndex[0].itemIndex,data:n}]}if(t>1){var r=[];return this.listIndex.forEach((function(t,n){if(e.listData[n]){var i=(0,o.default)({},e.listData[n][t.itemIndex]);delete i.children,r.push({index:t.itemIndex,data:i})}})),r}}return[]},chulisdata:function(){var e=this.gridNum,t=this;if(0===e)return this.listData=[],this.$forceUpdate(),this.listData;if(1===e)return this.listData=[this.list],this.$forceUpdate(),this.listData;if(e>1){var n=function n(a){var s;if(!(r>e)&&(o.push((0,i.default)(a)),a[null===(s=t.listIndex[r])||void 0===s?void 0:s.itemIndex])){var l=a[t.listIndex[r].itemIndex][t.childrenKey];l&&"object"===typeof l&&Array.isArray(l)&&(r++,n(l))}},r=1,o=[],a=[];a.push((0,i.default)(this.list)),this.list[t.listIndex[0].itemIndex][this.childrenKey]&&n(this.list[t.listIndex[0].itemIndex][this.childrenKey]),a.push.apply(a,o),this.$forceUpdate(),this.listData=a}return this.listData},setDefaultValue:function(e){var t=this;uni.$tm.sleep(50).then((function(){return t.inits(e)})).then((function(){return uni.$tm.sleep(50)})).then((function(){return t.SeletecdeIndexdefault()}))},inits:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r,i,o,s,l,c,d,u,p,f,h,m,v,g,b,y,w,k;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.gridNum,i=t,o=null,"object"!==typeof e||!Array.isArray(e)){n.next=7;break}o=e,n.next=10;break;case 7:if(t.defaultValue&&0!=t.defaultValue.length){n.next=9;break}return n.abrupt("return");case 9:o=t.defaultValue;case 10:if(s=typeof o[0],0!==r){n.next=13;break}return n.abrupt("return");case 13:if("number"!==s){n.next=30;break}if(1!==r){n.next=20;break}return l=o[0],"number"!==typeof l||isNaN(l)||t.$set(t.listIndex[0],"itemIndex",l),n.abrupt("return");case 20:if(!(r>1)){n.next=28;break}return c=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(d>r)){e.next=2;break}return e.abrupt("return");case 2:if(t=i.defaultValue[d],"number"!==typeof t||isNaN(t)||"object"!==typeof i.listIndex[d]||"undefined"===typeof i.listIndex[d]){e.next=11;break}return e.next=6,uni.$tm.sleep(30);case 6:return i.$set(i.listIndex[d],"itemIndex",t),i.chulisdata(),d++,e.next=11,c();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=1,u=o[0],t.$set(t.listIndex[0],"itemIndex",u),t.chulisdata(),n.next=28,c();case 28:n.next=73;break;case 30:if("string"!==s){n.next=58;break}if("string"!==t.dataType){n.next=41;break}if(1!==r){n.next=39;break}if(p=o[0],"string"===typeof p&&"undefined"!==typeof p&&null!=p){n.next=36;break}return n.abrupt("return");case 36:return f=t.listData[0].indexOf(p),f>-1&&t.$set(t.listIndex[0],"itemIndex",f),n.abrupt("return");case 39:n.next=56;break;case 41:if("object"!==t.dataType){n.next=56;break}if(1!==r){n.next=51;break}if(h=o[0],"string"===typeof h&&"undefined"!==typeof h&&null!=h){n.next=46;break}return n.abrupt("return");case 46:return m=t.listData[0].findIndex((function(e){return e[i.rangKey]==h})),m>-1&&t.$set(t.listIndex[0],"itemIndex",m),n.abrupt("return");case 51:if(!(r>1)){n.next=56;break}return v=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(g>r)){e.next=2;break}return e.abrupt("return");case 2:if("object"!==typeof i.listIndex[g]||"undefined"===typeof i.listIndex[g]){e.next=15;break}if(t=i.defaultValue[g],"string"===typeof t&&"undefined"!==typeof t&&null!=t){e.next=6;break}return e.abrupt("return");case 6:if(n=i.listData[g].findIndex((function(e){return e[i.rangKey]==t})),!(n>-1)){e.next=12;break}return e.next=10,uni.$tm.sleep(30);case 10:i.$set(i.listIndex[g],"itemIndex",n),i.chulisdata();case 12:return g++,e.next=15,v();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=0,n.next=56,v();case 56:n.next=73;break;case 58:if("object"!==s){n.next=73;break}if(1!==r){n.next=68;break}if(b=o[0],"undefined"!==typeof b[i.rangKey]&&"object"===typeof b&&"undefined"!==typeof b&&null!=b){n.next=63;break}return n.abrupt("return");case 63:return y=t.listData[0].findIndex((function(e){return e[i.rangKey]==b[i.rangKey]||parseInt(e[i.rangKeyId])==parseInt(b[i.rangKeyId])})),y>-1&&t.$set(t.listIndex[0],"itemIndex",y),n.abrupt("return");case 68:if(!(r>1)){n.next=73;break}return w=function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(k>r)){e.next=2;break}return e.abrupt("return");case 2:if("object"!==typeof i.listIndex[k]||"undefined"===typeof i.listIndex[k]){e.next=16;break}if(t=i.defaultValue[k],"undefined"!==typeof t[i.rangKey]&&"object"===typeof t&&"undefined"!==typeof t&&null!=t){e.next=6;break}return e.abrupt("return");case 6:if(n=i.listData[k].findIndex((function(e){return e[i.rangKey]==t[i.rangKey]||parseInt(e[i.rangKeyId])==parseInt(t[i.rangKeyId])})),!(n>-1)){e.next=13;break}return e.next=10,uni.$tm.sleep(30);case 10:i.$set(i.listIndex[k],"itemIndex",n),i.$set(i.listIndex[k],"wz",n*i.itemHeight),i.chulisdata();case 13:return k++,e.next=16,w();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=0,n.next=73,w();case 73:case"end":return n.stop()}}),n)})))()},change:function(e){var t=(0,i.default)(e.detail.value);if(this.pre_value=(0,i.default)(this.value_default),this.disabled)this.value_default=this.pre_value;else{for(var n=0,r=0;r<t.length;r++)if(this.listIndex[r].itemIndex!==t[r]){n=this.listIndex[r].childrenIndex;break}this.childrenIndex=n;for(var o=n;o<t.length;o++){var a;(null===(a=this.listIndex[o])||void 0===a?void 0:a.itemIndex)!==t[o]?this.$set(this.listIndex[o],"itemIndex",t[o]):(this.$set(this.listIndex[o],"itemIndex",0),t[o]=0)}this.chulisdata(),this.$nextTick((function(){this.value_default=t,this.$emit("change",t)}))}}}};t.default=s},c80e:function(e,t,n){"use strict";n.r(t);var r=n("ba6d"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},c9eb:function(e,t,n){"use strict";function r(e){e.search=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"background-color:yellow",i=[],o=[];return function a(s){for(var l=0;l<s.length;l++){var c=s[l];if("text"===c.type&&t){var d=c.text,u=d.split(t);if(u.length>1){c={name:"span",attrs:{},type:"node",c:n?1:void 0,s:1,children:[]},e.$set(s,l,c);for(var p=0;p<u.length;p++)u[p]&&c.children.push({type:"text",text:u[p]}),p!==u.length-1&&(c.children.push({name:"span",attrs:{id:n?"search"+(i.length+1):void 0,style:r},children:[{type:"text",text:t instanceof RegExp?t.exec(d)[0]:t}]}),i.push(c.children[c.children.length-1].attrs));if(t instanceof RegExp&&t.exec(d),n)for(var f=o.length;f--;){if(o[f].c)break;e.$set(o[f],"c",1)}}}else if(c.s){for(var h="",m=0;m<c.children.length;m++){var v=c.children[m];v.text?h+=v.text:h+=v.children[0].text}e.$set(s,l,{type:"text",text:h}),t&&(t instanceof RegExp?t.test(h):h.includes(t))&&l--}else c.children&&(o.push(c),a(c.children),o.pop())}}(e.nodes),new Promise((function(t){setTimeout((function(){t({num:i.length,highlight:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"background-color:#FF9632";e<1||e>i.length||(this.last&&(i[this.last-1].style=r),this.last=e,i[e-1].style=t)},jump:n?function(t,n){t>0&&t<=i.length&&e.navigateTo("search"+t,n)}:void 0})}),200)}))}}n("caad"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("2532"),n("841c"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r;t.default=i},cc4f:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{class:(e.selectable?"_select ":"")+"_root",style:(e.editable?"min-height:200px;":"")+e.containerStyle,attrs:{id:"_root"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._containTap.apply(void 0,arguments)}}},[e.nodes[0]?n("node",{attrs:{childs:e.nodes,opts:[e.lazyLoad,e.loadingImg,e.errorImg,e.showImgMenu,e.selectable,e.editable,e.placeholder,"nodes"],name:"span"}}):e._t("default"),e.tooltip?n("v-uni-view",{staticClass:"_tooltip_contain",style:"top:"+e.tooltip.top+"px"},[n("v-uni-view",{staticClass:"_tooltip"},e._l(e.tooltip.items,(function(t,r){return n("v-uni-view",{key:r,staticClass:"_tooltip_item",attrs:{"data-i":r},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._tooltipTap.apply(void 0,arguments)}}},[e._v(e._s(t))])})),1)],1):e._e(),e.slider?n("v-uni-view",{staticClass:"_slider",style:"top:"+e.slider.top+"px"},[n("v-uni-slider",{staticStyle:{padding:"3px"},attrs:{value:e.slider.value,min:e.slider.min,max:e.slider.max,"handle-size":"14","block-size":"14","show-value":!0,activeColor:"white"},on:{changing:function(t){arguments[0]=t=e.$handleEvent(t),e._sliderChanging.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e._sliderChange.apply(void 0,arguments)}}})],1):e._e()],2)},o=[]},cc79:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var r={tmSheet:n("94e1").default,tmInput:n("7a91").default,tmButton:n("9a18").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("v-uni-view",{staticClass:"tm-dialog fixed flex-center",style:{height:e.sysinfo+"px"},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.overCloseCHange.apply(void 0,arguments)}}},[n("v-uni-view",{class:[e.show?"success":""],on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)}}},[n("v-uni-view",{class:[e.clickOverlay?"clickover":""]},[n("tm-sheet",{attrs:{black:e.black_tmeme,padding:[0,0],classname:"overflow",width:600,round:e.round,shadow:"10"}},[n("v-uni-view",{staticClass:"text-size-g flex-center text-weight-b px-32 pt-32 ",class:[e.black_tmeme?"bk":"",e.bottomBorder?"border-b-1":""]},[e._t("title",[e._v(e._s(e.title))])],2),n("v-uni-view",{staticClass:"px-50 py-n12 text-size-n text-align-center",staticStyle:{"max-height":"700rpx","overflow-y":"auto"}},[e._t("default",[n("v-uni-view",[n("v-uni-text",{class:[e.black_tmeme?"text-white":"text-grey-darken-3"]},[e._v(e._s(e.content))]),"confirm"==e.model?n("v-uni-view",{staticClass:"pt-24"},[n("tm-input",{attrs:{"bg-color":"grey-lighten-5",black:e.black_tmeme,"border-bottom":!1,flat:!0},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.suren.apply(void 0,arguments)}},model:{value:e.inputValSd,callback:function(t){e.inputValSd=t},expression:"inputValSd"}})],1):e._e()],1)])],2),e._t("button",["merge"==e.theme?n("v-uni-view",{staticClass:"py-0 flex-between"},[e.showCancel?n("tm-button",{staticStyle:{width:"50%"},attrs:{fllowTheme:e.fllowTheme,height:80,text:!0,black:e.black_tmeme,theme:e.black_tmeme?"grey-darken-4":e.color_tmeme,round:"0",shadow:"0",block:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.concelClick.apply(void 0,arguments)}}},[e._v(e._s(e.cancelText))]):e._e(),n("tm-button",{style:{width:e.showCancel?"50%":"100%"},attrs:{fllowTheme:e.fllowTheme,height:80,black:e.black_tmeme,theme:e.color_tmeme,round:"0",shadow:"0",block:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmClick.apply(void 0,arguments)}}},[e._v(e._s(e.confirmText))])],1):e._e(),"split"==e.theme?n("v-uni-view",{staticClass:"px-40 pb-40 flex-between"},[e.showCancel?n("tm-button",{staticStyle:{width:"46%"},attrs:{fllowTheme:e.fllowTheme,text:!0,height:72,black:e.black_tmeme,theme:e.black_tmeme?"grey-darken-4":e.color_tmeme,round:"24","font-size":"30",shadow:"0",block:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.concelClick.apply(void 0,arguments)}}},[e._v(e._s(e.cancelText))]):e._e(),n("tm-button",{style:{width:e.showCancel?"46%":"100%"},attrs:{fllowTheme:e.fllowTheme,height:72,black:e.black_tmeme,theme:e.color_tmeme,round:"24","font-size":"30",shadow:"0",block:!0},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmClick.apply(void 0,arguments)}}},[e._v(e._s(e.confirmText))])],1):e._e()])],2)],1)],1)],1):e._e()},o=[]},cfc3:function(e,t,n){var r=n("74e8");r("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},d48d:function(e,t,n){"use strict";var r;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.controls?n("v-uni-view",{staticClass:"_contain"},[n("v-uni-view",{staticClass:"_poster",style:"background-image:url("+e.poster+")"},[n("v-uni-view",{staticClass:"_button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._buttonTap.apply(void 0,arguments)}}},[n("v-uni-view",{class:e.playing?"_pause":"_play"})],1)],1),n("v-uni-view",{staticClass:"_title"},[n("v-uni-view",{staticClass:"_name"},[e._v(e._s(e.name||"未知音频"))]),n("v-uni-view",{staticClass:"_author"},[e._v(e._s(e.author||"未知作者"))])],1),n("v-uni-slider",{staticClass:"_slider",attrs:{activeColor:"#585959","block-size":"12","handle-size":"12",disabled:e.error,value:e.value},on:{changing:function(t){arguments[0]=t=e.$handleEvent(t),e._seeking.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e._seeked.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"_time"},[e._v(e._s(e.time||"00:00"))])],1):e._e()},o=[]},d80f:function(e,t,n){var r=n("23e7"),i=n("fc6a"),o=n("50c4");r({target:"String",stat:!0},{raw:function(e){var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;while(n>s)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},d834:function(e,t,n){"use strict";n("4d63"),n("ac1f"),n("25f0"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=/\[(\S+?)\]/g,i={"笑脸":"😄","生病":"😷","破涕为笑":"😂","吐舌":"😝","脸红":"😳","恐惧":"😱","失望":"😔","无语":"😒","眨眼":"😉","酷":"😎","哭":"😭","痴迷":"😍","吻":"😘","思考":"🤔","困惑":"😕","颠倒":"🙃","钱":"🤑","惊讶":"😲","白眼":"🙄","叹气":"😤","睡觉":"😴","书呆子":"🤓","愤怒":"😡","面无表情":"😑","张嘴":"😮","量体温":"🤒","呕吐":"🤮","光环":"😇","幽灵":"👻","外星人":"👽","机器人":"🤖","捂眼镜":"🙈","捂耳朵":"🙉","捂嘴":"🙊","婴儿":"👶","男孩":"👦","女孩":"👧","男人":"👨","女人":"👩","老人":"👴","老妇人":"👵","警察":"👮","王子":"🤴","公主":"🤴","举手":"🙋","跑步":"🏃","家庭":"👪","眼睛":"👀","鼻子":"👃","耳朵":"👂","舌头":"👅","嘴":"👄","心":"❤️","心碎":"💔","雪人":"☃️","情书":"💌","大便":"💩","闹钟":"⏰","眼镜":"👓","雨伞":"☂️","音乐":"🎵","话筒":"🎤","游戏机":"🎮","喇叭":"📢","耳机":"🎧","礼物":"🎁","电话":"📞","电脑":"💻","打印机":"🖨️","手电筒":"🔦","灯泡":"💡","书本":"📖","信封":"✉️","药丸":"💊","口红":"💄","手机":"📱","相机":"📷","电视":"📺","中":"🀄","垃圾桶":"🚮","厕所":"🚾","感叹号":"❗","禁":"🈲","可":"🉑","彩虹":"🌈","旋风":"🌀","雷电":"⚡","雪花":"❄️","星星":"⭐","水滴":"💧","玫瑰":"🌹","加油":"💪","左":"👈","右":"👉","上":"👆","下":"👇","手掌":"🖐️","好的":"👌","好":"👍","差":"👎","胜利":"✌","拳头":"👊","挥手":"👋","鼓掌":"👏","猴子":"🐒","狗":"🐶","狼":"🐺","猫":"🐱","老虎":"🐯","马":"🐎","独角兽":"🦄","斑马":"🦓","鹿":"🦌","牛":"🐮","猪":"🐷","羊":"🐏","长颈鹿":"🦒","大象":"🐘","老鼠":"🐭","蝙蝠":"🦇","刺猬":"🦔","熊猫":"🐼","鸽子":"🕊️","鸭子":"🦆","兔子":"🐇","老鹰":"🦅","青蛙":"🐸","蛇":"🐍","龙":"🐉","鲸鱼":"🐳","海豚":"🐬","足球":"⚽","棒球":"⚾","篮球":"🏀","排球":"🏐","橄榄球":"🏉","网球":"🎾","骰子":"🎲","鸡腿":"🍗","蛋糕":"🎂","啤酒":"🍺","饺子":"🥟","汉堡":"🍔","薯条":"🍟","意大利面":"🍝","干杯":"🥂","筷子":"🥢","糖果":"🍬","奶瓶":"🍼","爆米花":"🍿","邮局":"🏤","医院":"🏥","银行":"🏦","酒店":"🏨","学校":"🏫","城堡":"🏰","火车":"🚂","高铁":"🚄","地铁":"🚇","公交":"🚌","救护车":"🚑","消防车":"🚒","警车":"🚓","出租车":"🚕","汽车":"🚗","货车":"🚛","自行车":"🚲","摩托":"🛵","红绿灯":"🚥","帆船":"⛵","游轮":"🛳️","轮船":"⛴️","飞机":"✈️","直升机":"🚁","缆车":"🚠","警告":"⚠️","禁止":"⛔"};function o(){}o.prototype.onUpdate=function(e){return e.replace(r,(function(e,t){return i[t]?i[t]:e}))},o.prototype.onGetContent=function(e){for(var t in i)e=e.replace(new RegExp(i[t],"g"),"["+t+"]");return e};var a=o;t.default=a},dbc0:function(e,t,n){"use strict";n.r(t);var r=n("a244"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},dc38:function(e,t,n){"use strict";n.r(t);var r=n("a1d5"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},e119:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* 顶层容器 */._contain[data-v-700182bd]{position:relative;display:inline-flex;width:290px;background-color:#fcfcfc;border:1px solid #e0e0e0;border-radius:2px}\r\n/* 播放、暂停按钮 */._button[data-v-700182bd]{display:flex;align-items:center;justify-content:center;width:20px;height:20px;overflow:hidden;background-color:rgba(0,0,0,.2);border:1px solid #fff;border-radius:50%;opacity:.9}._play[data-v-700182bd]{margin-left:2px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:8px solid #fff}._pause[data-v-700182bd]{width:8px;height:8px;background-color:#fff}\r\n/* 海报 */._poster[data-v-700182bd]{display:flex;align-items:center;justify-content:center;width:70px;height:70px;background-color:#e6e6e6;background-size:contain}\r\n/* 标题栏 */._title[data-v-700182bd]{flex:1;margin:4px 0 0 14px;text-align:left}._author[data-v-700182bd]{width:45px;font-size:12px;color:#888}._name[data-v-700182bd]{width:140px;font-size:15px;line-height:39px}._author[data-v-700182bd],\r\n._name[data-v-700182bd]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\r\n/* 进度条 */._slider[data-v-700182bd]{position:absolute;right:16px;bottom:8px;width:140px;margin:0}\r\n/* 播放时间 */._time[data-v-700182bd]{margin:7px 14px 0 0;font-size:12px;color:#888}\r\n/* 响应式布局，大屏幕用更大的尺寸 */@media (min-width:400px){._contain[data-v-700182bd]{width:380px}._button[data-v-700182bd]{width:26px;height:26px}._poster[data-v-700182bd]{width:90px;height:90px}._author[data-v-700182bd]{width:60px;font-size:15px}._name[data-v-700182bd]{width:180px;font-size:19px;line-height:55px}._slider[data-v-700182bd]{right:20px;bottom:10px;width:180px}._time[data-v-700182bd]{font-size:15px}}",""]),e.exports=t},e910:function(e,t,n){"use strict";n.r(t);var r=n("c336"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},ee70:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"[data-v-a95bb786] ._a{cursor:pointer}[data-v-a95bb786] .md-code{background-color:#fff2ca}",""]),e.exports=t},eee7:function(e,t,n){"use strict";var r=n("23e7"),i=n("58a8").start,o=n("c8d2"),a=o("trimStart"),s=a?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:a},{trimStart:s,trimLeft:s})},f2e3:function(e,t,n){"use strict";var r=function(e){(e.options.wxs||(e.options.wxs={}))["handler"]=function(e){var t={abbr:!0,b:!0,big:!0,code:!0,del:!0,em:!0,i:!0,ins:!0,label:!0,q:!0,small:!0,span:!0,strong:!0,sub:!0,sup:!0};return e.exports={isInline:function(e,n){return t[e]||-1!==(n||"").indexOf("display:inline")}},e.exports}({exports:{}})};t["a"]=r},f6ca:function(e,t,n){var r=n("ee70");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=n("4f06").default;i("7f4ad49e",r,!0,{sourceMap:!1,shadowMode:!1})},f9cb3:function(e,t,n){"use strict";n.r(t);var r=n("d48d"),i=n("c80e");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("363e");var a,s=n("f0c5"),l=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"700182bd",null,!1,r["a"],a);t["default"]=l.exports},fa7a:function(e,t,n){"use strict";var r=n("4ea4");n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=r(n("1da1")),o=r(n("1c94")),a=r(n("037e")),s={components:{mpHtml:o.default},data:function(){return{showUpdate:!1,html:"",contentEditor:{},uid:null,title:"",isCrx:!1,isSub:!1,isHide:!1,isPub:!1,fetched:!1,showDeleteConfirm:!1,showHideConfirm:!1,showPubConfirm:!1,showTag:!0,selected_1:[],list_1:[{title:"Java后端",id:3,children:[{title:"Bug"},{title:"Java类库"},{title:"业务开发"},{title:"Spring"},{title:"微服务"},{title:"Dubbo"},{title:"性能优化"},{title:"架构"},{title:"Java面试"}]},{title:"Web前端",id:4,children:[{title:"组件库"},{title:"React"},{title:"Vue"},{title:"前端模板"},{title:"Nodejs"},{title:"脚手架"},{title:"埋点监控"},{title:"微前端"},{title:"低代码"},{title:"H5"},{title:"小程序"},{title:"VsCode"},{title:"可视化"},{title:"前端面试"}]},{title:"Python数据",id:5,children:[{title:"Python基础"},{title:"Flask"},{title:"数据分析"},{title:"大数据"},{title:"自动化"},{title:"人工智能"},{title:"Python面试"}]},{title:"工具技巧",id:1,children:[{title:"技能谱图"},{title:"读后感"},{title:"专家"},{title:"社区"},{title:"设计"},{title:"设计素材"},{title:"软件推荐"},{title:"MD文档"},{title:"办公"},{title:"日常好物"},{title:"生活技巧"}]},{title:"模型算法",id:2,children:[{title:"编程规范"},{title:"数据结构"},{title:"刷题"},{title:"领域算法"}]},{title:"思考规划",id:7,children:[{title:"思考"},{title:"科普"},{title:"历史"},{title:"文化"},{title:"经济"},{title:"法律"},{title:"价值观"},{title:"心理"},{title:"管理"},{title:"未来趋势"},{title:"报告解读"},{title:"职业规划"}]},{title:"兴趣爱好",id:8,children:[{title:"Vlog"},{title:"穿搭"},{title:"情侣"},{title:"美女"},{title:"帅哥"},{title:"运动"},{title:"健身"},{title:"音乐"},{title:"诗歌"},{title:"小说"},{title:"搞笑"},{title:"电影"},{title:"美食"},{title:"家居"},{title:"萌宠"},{title:"旅游"}]},{title:"计算机基础",id:0,children:[{title:"编程语言"},{title:"软件工程"},{title:"硬件"},{title:"操作系统"},{title:"数据库"},{title:"人机交互"},{title:"计算机网络"},{title:"网络安全"}]},{title:"技术浪潮",id:6,children:[{title:"技术市场"},{title:"Hybrid"},{title:"虚拟资产"},{title:"游戏"},{title:"可穿戴"},{title:"远程无人机"},{title:"生产机器人"},{title:"智能家居"},{title:"智慧城市"}]}]}},methods:{getParentUrl:function(){var e=null;if(parent!==window)try{e=parent.location.href}catch(t){e=document.referrer}return e},startUpdate:function(){var e=this;this.showUpdate=!0,this.isCrx&&(this.contentEditor=new a.default("vditor",{height:560,toolbarConfig:{pin:!0},toolbar:["outdent","indent","|","headings","bold","strike","line","|","list","ordered-list","check","|","table","quote","code","inline-code","|","fullscreen"],cache:{enable:!0},after:function(){e.contentEditor.setValue(e.html)}}))},addUrl:function(){var e=this;if(window.chrome&&window.chrome.tabs)window.chrome.tabs.query({active:!0,lastFocusedWindow:!0},(function(t){t&&(console.log("tabs"),console.log(t),e.html+=t[0].url.replace(/&utm_source=.*&/,"&").replace(/\?utm_source=.*&/,"?").replace(/&utm_medium=.*&/,"&").replace(/&utm_medium=referral$/,"").replace(/\?utm_medium=referral$/,""))}));else{var t=this.getParentUrl();t&&(e.html+=t)}},openLink:function(){window.open("https://static-59728804-d890-4267-8e45-393e10b3c780.bspapp.com/#/pages/test/noteDetail?id="+this.uid)},toggleSub:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.next=3,vk.callFunction({url:"admin/note/sys/toggleNoteSub",data:{id:e.uid,isSub:!e.isSub},success:function(e){n.isSub=!n.isSub}});case 3:case"end":return t.stop()}}),t)})))()},deleteNoteConfirm:function(){this.showDeleteConfirm=!0},hideNoteConfirm:function(){this.showHideConfirm=!0},setPubConfirm:function(){this.showPubConfirm=!0},deleteNote:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.uid){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,vk.callFunction({url:"admin/note/sys/deleteNote",title:"删除中...",data:{id:e.uid}});case 4:vk.reLaunch("/pages/tabBar/community");case 5:case"end":return t.stop()}}),t)})))()},toggleHide:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.next=3,vk.callFunction({url:"admin/note/sys/toggleNoteHide",data:{id:e.uid,isHide:!e.isHide},success:function(e){n.isHide=!n.isHide}});case 3:case"end":return t.stop()}}),t)})))()},setPub:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,t.next=3,vk.callFunction({url:"admin/note/sys/toggleNotePub",data:{id:e.uid},success:function(e){n.isPub=!n.isPub,n.isHide=!1,n.isSub=!1}});case 3:case"end":return t.stop()}}),t)})))()},updateNote:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.uid){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,vk.callFunction({url:"admin/note/sys/updateNote",title:"保存中...",data:{id:e.uid,content:e.isCrx?e.contentEditor.getValue():e.html,title:e.title}});case 4:vk.reLaunch("/pages/tabBar/community");case 5:case"end":return t.stop()}}),t)})))()},addTag:function(e){console.log(e);var t=this.title.replace(/^【.*】/,"");this.title="【"+e[e.length-1].data.title+"】"+t}},onBackPress:function(){},mounted:function(){this.$nextTick((function(){}))},onLoad:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;this.uid=e.id,window.chrome&&window.chrome.tabs&&(this.isCrx=!0),vk.callFunction({url:"admin/note/pub/getNote",title:"请求中...",data:{id:e.id},success:function(e){e&&e.data&&(t.fetched=!0,t.isPub=null==e.data.uid,t.isSub=!!e.data.isSub,t.isHide=!!e.data.isHide,t.title=e.data.title,t.html=e.data.content)}})}};t.default=s},fef2:function(e,t,n){"use strict";n.r(t);var r=n("73ed"),i=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a}}]);